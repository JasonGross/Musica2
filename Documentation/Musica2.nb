(************** Content-type: application/mathematica **************
                     CreatedBy='Mathematica 5.0'

                    Mathematica-Compatible Notebook

This notebook can be used with any Mathematica-compatible
application, such as Mathematica, MathReader or Publicon. The data
for the notebook starts with the line containing stars above.

To get the notebook into a Mathematica-compatible application, do
one of the following:

* Save the data starting with the line of stars above into a file
  with a name ending in .nb, then open the file inside the
  application;

* Copy the data starting with the line of stars above to the
  clipboard, then use the Paste menu command inside the application.

Data for notebooks contains only printable 7-bit ASCII and can be
sent directly in email or through ftp in text mode.  Newlines can be
CR, LF or CRLF (Unix, Macintosh or MS-DOS style).

NOTE: If you modify the data for this notebook not in a Mathematica-
compatible application, you must delete the line below containing
the word CacheID, otherwise Mathematica-compatible applications may
try to use invalid cache data.

For more information on notebooks and Mathematica-compatible 
applications, contact Wolfram Research:
  web: http://www.wolfram.com
  email: info@wolfram.com
  phone: +1-217-398-0700 (U.S.)

Notebook reader applications are available free of charge from 
Wolfram Research.
*******************************************************************)

(*CacheID: 232*)


(*NotebookFileLineBreakTest
NotebookFileLineBreakTest*)
(*NotebookOptionsPosition[    118111,       4994]*)
(*NotebookOutlinePosition[    118825,       5019]*)
(*  CellTagsIndexPosition[    118781,       5015]*)
(*WindowFrame->Normal*)



Notebook[{

Cell[CellGroupData[{
Cell["Musica2", "Title",
  FontSize->24],

Cell["Documentation on the Musica2 package.", "Text"],

Cell[CellGroupData[{

Cell["Licence", "Subtitle"],

Cell["\<\
Copyright (C) 2004 Bo C. Herlin

This program is free software;you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation;either version 2
of the License,or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY;without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program;if not,write to the Free Software Foundation,
Inc.,59 Temple Place-Suite 330,Boston,MA 02111-1307,USA.\
\>", "Text"]
}, Closed]],

Cell[CellGroupData[{

Cell["Changes", "Subtitle"],

Cell["\<\
2005-02-17 Bo C. Herlin : added Usage
2005-02-12 Bo C. Herlin : added ValueObject
2005-02-02 Bo C. Herlin : real-life examples in Pattern-chapter
2005-01-27 Bo C. Herlin : Changed the content of Event's for channel-events \
from {type,{channel,data..}} to {{type,channel},{data..}}
2005-01-27 Bo C. Herlin : renamed Spectrum to ToneSpectrum, Scale to KeyMode \
and Type to ObjectType to avoid conflicts
2005-01-25 Bo C. Herlin : added the \"All symbols listed alphabetically\" \
chapter
2005-01-23 Bo C. Herlin : changed Duration to TotalDuration
2005-01-23 Bo C. Herlin : changed NoteDuration to Duration
2005-01-21 Bo C. Herlin : coded Mix, Par and Seq for Sound and Snippet
2005-01-21 Bo C. Herlin : more and hopefully better opts-handling
2005-01-19 Bo C. Herlin : changed the struct of Scale
2005-01-16 Bo C. Herlin : added EventList chapter at the end
2005-01-09 Bo C. Herlin : added CustomTuning
2005-01-07 Bo C. Herlin : ...still rewriting and killing bugs...\
\>", "Text"]
}, Closed]],

Cell[CellGroupData[{

Cell["Welcome", "Subtitle"],

Cell["Hi there! Welcome to Musica2.", "Text"],

Cell["\<\
This is a randomly created notebook that sometimes also works as a \
testbench when I extend Musica2. I try to make everything in this notebook to \
work in every release, and even in the CVS at sourceforge.net.
I hope that You will find it useful.\
\>", "Text"],

Cell["Homepage: http://musica.sourceforge.net", "Text"]
}, Closed]],

Cell[CellGroupData[{

Cell["Init", "Subtitle"],

Cell["\<\
A small example below uses a tiny part of the Audio package when \
creating a triangle sound.\
\>", "Text"],

Cell[BoxData[
    \(<< Graphics`Colors`\)], "Input",
  InitializationCell->True],

Cell["Im using some colors.", "Text"],

Cell[BoxData[
    \(<< Miscellaneous`Audio`\)], "Input",
  InitializationCell->True],

Cell["\<\
Load Musica2 which in turn will load each sub-package when \
needed.\
\>", "Text"],

Cell[BoxData[
    \(<< Musica2`\)], "Input",
  InitializationCell->True],

Cell["Set DataFolder to the folder containing the testfiles.", "Text"],

Cell[BoxData[
    \(\(DataFolder = "\<Musica2/Documentation/Data/\>";\)\)], "Input",
  InitializationCell->True],

Cell[BoxData[
    \(\(\(\(cor := DataFolder <> "\<cor.mid\>"\) \)\(;\)\( (*\ 2.9  kb, \ 
      J . S . Bach, \ bwv\ 323, \ choral, \ Holy, \ 
      holy, \ \(\(holy\)\(.\)\)\ *) \)\(\[IndentingNewLine]\)\(\(fug := 
        DataFolder <> "\<fug.mid\>"\) \)\(;\)\( (*\ 6.1  kb, \ 
      J . S . Bach, \ bwv\ 846  b, \ fugue\ 1\ in\ C\ major, \ 
      wtc1\ *) \)\(\[IndentingNewLine]\)\(\(cun := 
        DataFolder <> "\<cun.mid\>"\) \)\(;\)\( (*\ 6.4  kb, \ 
      J . S . Bach, \ bwv\ 1080  a, \ contrapunctus\ 1, \ 
      cunst\ die\ fugue\ *) \)\(\[IndentingNewLine]\)\(\(pre := 
        DataFolder <> "\<pre.mid\>"\) \)\(;\)\( (*\ 8.9  kb, \ 
      J . S . Bach, \ bwv\ 847  a, \ preludium\ 2\ in\ C\ minor, \ 
      wtc1\ *) \)\)\)], "Input",
  InitializationCell->True],

Cell["Set MidiTestFile to the file to apply the tests to.", "Text"],

Cell[BoxData[{
    \(\(MidiTestFile := cor;\)\), "\[IndentingNewLine]", 
    \(\(MidiTestFileList := {cor, fug, cun, pre};\)\)}], "Input",
  InitializationCell->True]
}, Closed]],

Cell[CellGroupData[{

Cell["Mini-tour", "Subtitle"],

Cell["Read from a SMF (StandardMidiFile).", "Text"],

Cell[BoxData[
    \(mid = Import[MidiTestFile, Midi]\)], "Input"],

Cell["Plot it on a pianoroll.", "Text"],

Cell[BoxData[
    \(PianoRoll[mid]\)], "Input"],

Cell["Play it.", "Text"],

Cell[BoxData[
    \(Play2[mid]\)], "Input"],

Cell["Write to a WAV-file.", "Text"],

Cell[BoxData[
    \(Export["\<tmp.wav\>", %]\)], "Input"],

Cell["Write to a SMF-file.", "Text"],

Cell[BoxData[
    \(Export["\<tmp.mid\>", mid]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Mini-tour step by step", "Subtitle"],

Cell["Read from a SMF.", "Text"],

Cell[BoxData[
    \(mid = Import[MidiTestFile, Midi]\)], "Input"],

Cell["Set time-unit to second instead of tick.", "Text"],

Cell[BoxData[
    \(mid = Midi[mid, TimeUnit \[Rule] Second]\)], "Input"],

Cell["Get all tracks.", "Text"],

Cell[BoxData[
    \(trk = Track[mid]\)], "Input"],

Cell["Convert each track to counterpoint.", "Text"],

Cell[BoxData[
    \(cpt = Counterpoint /@ trk\)], "Input"],

Cell["Get the melodies in each counterpoint.", "Text"],

Cell[BoxData[
    \(mel = Melody /@ cpt\)], "Input"],

Cell["Flatten it and get the ones that are non-empty.", "Text"],

Cell[BoxData[
    \(mel = Select[Flatten[mel], \((0 < Length[#])\) &]\)], "Input"],

Cell["Convert each melody to a snippet.", "Text"],

Cell[BoxData[
    \(snp = Snippet /@ mel\)], "Input"],

Cell["Or to be even more specific.", "Text"],

Cell[BoxData[
    \(snp = Convert[Melody, Snippet, Instrument] /@ mel\)], "Input"],

Cell["Make a 4ch sound of them.", "Text"],

Cell[BoxData[
    \(Length[snd = Sound[snp]]\)], "Input"],

Cell["Mix it to two channels.", "Text"],

Cell[BoxData[
    \(snd = Mix[snd, 2]\)], "Input"],

Cell["Play it.", "Text"],

Cell[BoxData[
    \(Show[snd]\)], "Input"],

Cell["Write to a WAV-file.", "Text"],

Cell[BoxData[
    \(Export["\<tmp.wav\>", snd]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Melody-Play2-Export example", "Subtitle"],

Cell["\<\
Create a random diatonic melody. The Note-constructor used take \
{duration,{pitchcode,velocity}} as parameter.\
\>", "Text"],

Cell[BoxData[
    \(mel = 
      Melody[Table[
          Note[\[IndentingNewLine]{\[IndentingNewLine]Random[Integer, {1, 4}]/
                4, \[IndentingNewLine]{\[IndentingNewLine]Random[
                  Integer, {35, 41}], \[IndentingNewLine]Random[
                  Integer, {64, 
                    127}]\[IndentingNewLine]}\[IndentingNewLine]}\
\[IndentingNewLine]], {12}]]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell["\<\
The KeyMode constructor without arguments return a C-major scale.
KeyModes can be used as a function to convert from scale-step to \
pitch-code.\
\>", "Text"],

Cell["Diatonic to chromatic.", "Text"],

Cell[BoxData[
    \(mel = \(KeyMode[]\)[mel]\)], "Input"],

Cell[BoxData[
    \(DataToRules[mel] // ColumnForm\)], "Input"],

Cell["Plot it.", "Text"],

Cell[BoxData[
    \(NotePlot[mel, PitchCode]\)], "Input"],

Cell[BoxData[
    \(NotePlot[mel, Velocity]\)], "Input"],

Cell["Get the durations", "Text"],

Cell[BoxData[
    \(Duration[mel]\)], "Input"],

Cell["Play it.", "Text"],

Cell[BoxData[
    \(Play2[mel]\)], "Input"],

Cell["Export it.", "Text"],

Cell[BoxData[
    \(Export["\<tmp.wav\>", %]\)], "Input"],

Cell["\<\
Convert to midi-track and set midi-channel to 3 (zero-based).\
\>", \
"Text"],

Cell[BoxData[
    \(trk = Track[mel, MidiChannel \[Rule] 3]\)], "Input"],

Cell[BoxData[
    \(DataToRules[trk] // ColumnForm\)], "Input"],

Cell["Convert to midi (assuming we used sec as time-unit).", "Text"],

Cell[BoxData[
    \(mid = Midi[trk, TimeUnit \[Rule] Second]\)], "Input"],

Cell["Plot it", "Text"],

Cell[BoxData[
    \(PianoRoll[mid]\)], "Input"],

Cell["Write to a SMF.", "Text"],

Cell[BoxData[
    \(Export["\<tmp.mid\>", mid]\)], "Input"],

Cell["Augment the durations by a ratio of 3/2", "Text"],

Cell[BoxData[
    \(mel = Map[3  #/2 &, mel, Duration]\)], "Input"],

Cell["Play it.", "Text"],

Cell[BoxData[
    \(Play2[mel]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Usage-text", "Subtitle"],

Cell["\<\
I have really tried to keep the number of Symbols down, reusing \
every Symbol as much as I can instead of introducing new ones. This has \
caused a problem: how do I keep the ::usage-text in sync, and in particular, \
how do I document all versions of a function when they are defined in \
different files?\
\>", "Text"],

Cell["\<\
The (current) answer is Usage (capital U) which is a list of all \
loaded functions together with their parameter-list-type, return-value-type \
and an explaining text.\
\>", "Text"],

Cell["There is a ::usage text and a Usage-text for Usage ;-)", "Text"],

Cell[BoxData[
    \(\(?Usage\)\)], "Input"],

Cell[BoxData[
    \(Usage[Usage, Usage]\)], "Input"],

Cell["\<\
This means that to find out about all functions that deal with \
Note's we do this:\
\>", "Text"],

Cell[BoxData[
    \(Usage[Musica2, Note]\)], "Input"],

Cell["This was a lot!", "Text"],

Cell["\<\
We can narrow the search for functions dealing with Note's AND \
Track's:\
\>", "Text"],

Cell[BoxData[
    \(Usage[Musica2, Note, Track]\)], "Input"],

Cell["All functions taking or returning a Chord AND a function:", "Text"],

Cell[BoxData[
    \(Usage[Musica2, Chord, Function]\)], "Input"],

Cell["\<\
If there are multiple Usage-text domains, like in the \
Pattern-chapter below, you can do a search in all domains:\
\>", "Text"],

Cell[BoxData[
    \(Usage[All, Chord, Function]\)], "Input"],

Cell["\<\
But be aware, only the loaded functions are a part of this \
Usage-text system.\
\>", "Text"],

Cell["As usual, there are a lot (of) todo's.", "Text"]
}, Closed]],

Cell[CellGroupData[{

Cell["Pattern (as in design)", "Subtitle"],

Cell[CellGroupData[{

Cell["Intro", "Subsection"],

Cell["\<\
I have tried to minimize the number of new symbols by applying a \
pattern to each object-type in Musica2.\
\>", "Text"],

Cell["\<\
Most types in Musica2 is either a container or an element whithin a \
container (or both). Examples of this in Musica2 is
  Midi that contains Track's that contains Event's
  TempoTrack that contains Tempo's
  Progression that contains Chord's that contains Note's
  Counterpoint that contains Melody's that contains Note's
  Sound that contains Snippet's\
\>", "Text"],

Cell[TextData[{
  "Its not OOP (no inheritance or polymorphism), its rather TOP \
(Type-Oriented-Programming ;-), just like ",
  StyleBox["Mathematica",
    FontSlant->"Italic"],
  " wants it."
}], "Text"],

Cell["\<\
Instead of having a Midi-object with a list of Track-objects I \
wanted the Midi-object to have no other Head's on its internal data than \
List. This since other Head's sometimes mess things up (i must admit, it may \
be because of my bad programming). But having custom Head's on the contaier \
its a handy thing, so I want to have it both ways, at least pretend I have \
it.\
\>", "Text"],

Cell["\<\
This is where the design-pattern comes in. I have written code than \
generates the code needed for this dual-face to appear. The result of a lazy \
programmer I'd say.\
\>", "Text"],

Cell["\<\
The best way to describe the pattern used is probably by giving an \
example.\
\>", "Text"],

Cell["\<\
Creating types like this is rather easy (if you stick to some rules \
on the pattern for the leaf element which I havent documented yet and \
probably never will, ok, dont use \
BlankSequence,BlankNullSequence,Alternatives and then some...nested List's is \
ok though).\
\>", "Text"],

Cell["\<\
Always create the types in leaf to tree order seems to be a good \
idea.\
\>", "Text"],

Cell[TextData[{
  "We dont like the ",
  Cell[BoxData[
      \(General::"spell1"\)], "Message"],
  " message about *Q and *, so we do ",
  Cell[BoxData[
      \(Off[General::spell1]\)], "Input"],
  " and ",
  Cell[BoxData[
      \(On[General::spell1]\)], "Input"],
  " when the code is in a notebook.\n(todo: is there a way of getting the \
status of On and Off so this can be automated?)"
}], "Text"]
}, Closed]],

Cell[CellGroupData[{

Cell["Creation of the types", "Subsection"],

Cell["\<\
Ok, lets create a TimedNote, that is a kind of Note with a starting \
time.
I will use PatternChapter as the Usage-text domain.\
\>", "Text"],

Cell[BoxData[{
    \(\(Off[General::spell1];\)\), "\[IndentingNewLine]", 
    \(\(CreateElement[
        PatternChapter, \[IndentingNewLine]TimedNote, \
\[IndentingNewLine]{NoteTime_, MidiChannel_, 
          Note_Note}, \[IndentingNewLine]{0, 0, 
          Note[]}, \[IndentingNewLine]"\<TimedNote is a Note with a starting \
time.\>"\[IndentingNewLine]];\)\), "\[IndentingNewLine]", 
    \(\(On[General::spell1];\)\)}], "Input"],

Cell["\<\
The first parameter is the application and will primarily be used \
for the Usage-domain.
The second parameter is the name.
The third is the structure of the data to be contained.
The forth is default data.
The fifth is the usage-text to be prepended to the generated \
usage-text.\
\>", "Text"],

Cell["\<\
We now have a load of code generated for us that will make it \
easier to handle the new type. 
Let us first look at the usage-text generated:\
\>", "Text"],

Cell[BoxData[
    \(\(?TimedNote\)\)], "Input"],

Cell["Then look at the Usage-text:", "Text"],

Cell[BoxData[
    \(Usage[PatternChapter, TimedNote]\)], "Input"],

Cell["We also want a container for the element:", "Text"],

Cell[BoxData[{
    \(\(Off[General::spell1];\)\), "\[IndentingNewLine]", 
    \(\(CreateContainer[
        PatternChapter, \[IndentingNewLine]TimedNoteTrack, \
\[IndentingNewLine]TimedNote, \[IndentingNewLine]"\<TimedNoteTrack is a \
container of TimedNote's.\>"\[IndentingNewLine]];\)\), "\n", 
    \(\(On[General::spell1];\)\)}], "Input"],

Cell["\<\
The first parameter is the application and will primarily be used \
for the Usage-domain.
The second parameter is the name.
The third is the element type.
The forth is the usage-text to be prepended to the generated \
usage-text.\
\>", "Text"],

Cell[BoxData[
    \(\(?TimedNoteTrack\)\)], "Input"],

Cell["\<\
Then look at the Usage-text for TimedNote, again, which has \
grown:\
\>", "Text"],

Cell[BoxData[
    \(Usage[PatternChapter, TimedNote]\)], "Input"],

Cell["And why not a container for TimedNoteTrack's, a Score:", "Text"],

Cell[BoxData[{
    \(\(Off[General::spell1];\)\), "\[IndentingNewLine]", 
    \(\(CreateContainer[
        PatternChapter, \[IndentingNewLine]TimedNoteScore, \
\[IndentingNewLine]TimedNoteTrack, \[IndentingNewLine]"\<TimedNoteScore is a \
container of TimedNoteTrack's.\>"\[IndentingNewLine]];\)\), "\n", 
    \(\(On[General::spell1];\)\)}], "Input"],

Cell["\<\
Quite easy, right? So go ahead and create your own object-type's.\
\
\>", "Text"],

Cell["\<\
But before we go ahead and use what we have created, we need a few \
constructors.\
\>", "Text"],

Cell["First some \"lazy\" constructors, one taking time and pitch:", "Text"],

Cell[BoxData[{
    \(\(\(Usage[Append, PatternChapter, 
        TimedNote, {{_?AtomQ, _Integer}, ___?OptionQ}, 
        TimedNote, "\<creates a TimedNote from {time,pitch}.\>"];\)\(\
\[IndentingNewLine]\)
    \)\), "\[IndentingNewLine]", 
    \(TimedNote[{time_?AtomQ, pitch_Integer}, opts___?OptionQ] := 
      TimedNote[{time, \(MidiChannel /. {opts}\) /. Options[TimedNote], 
          Note[pitch, opts]}, 
        Sequence @@ RemOpts[{opts}, MidiChannel]]\)}], "Input"],

Cell["And one taking time and Note:", "Text"],

Cell[BoxData[{
    \(\(\(Usage[Append, PatternChapter, 
        TimedNote, {{_?AtomQ, _Note}, ___?OptionQ}, 
        TimedNote, "\<creates a TimedNote from {time,note}\>"];\)\(\
\[IndentingNewLine]\)
    \)\), "\[IndentingNewLine]", 
    \(TimedNote[{time_?AtomQ, note_Note}, opts___?OptionQ] := 
      TimedNote[{time, \(MidiChannel /. {opts}\) /. Options[TimedNote], 
          note}, Sequence @@ RemOpts[{opts}, MidiChannel]]\)}], "Input"],

Cell["While we are at it, lets do it for TimedNoteTrack also:", "Text"],

Cell[BoxData[{
    \(\(\(Usage[Append, PatternChapter, 
        TimedNoteTrack, {{{_?AtomQ, _Integer} .. }, ___?OptionQ}, 
        TimedNoteTrack, "\<creates a TimedNoteTrack from a list of \
{time,pitch}.\>"];\)\(\[IndentingNewLine]\)
    \)\), "\[IndentingNewLine]", 
    \(TimedNoteTrack[x : {{_?AtomQ, _Integer} .. }, opts___?OptionQ] := 
      TimedNoteTrack[TimedNote /@ x, opts]\)}], "Input"],

Cell[BoxData[{
    \(\(\(Usage[Append, PatternChapter, 
        TimedNoteTrack, {{{_?AtomQ, _Note} .. }, ___?OptionQ}, 
        TimedNoteTrack, "\<creates a TimedNoteTrack from a list of \
{time,note}.\>"];\)\(\[IndentingNewLine]\)
    \)\), "\[IndentingNewLine]", 
    \(TimedNoteTrack[x : {{_?AtomQ, _Note} .. }, opts___?OptionQ] := 
      TimedNoteTrack[TimedNote /@ x, opts]\)}], "Input"],

Cell["\<\
Then some constructors that convert to and from already existing \
types:\
\>", "Text"],

Cell[BoxData[{
    \(\(\(Usage[Append, PatternChapter, 
        TimedNote, {_Track}, {___TimedNote}, "\<creates a list of TimedNote \
from a Track.\>"];\)\(\[IndentingNewLine]\)
    \)\), "\[IndentingNewLine]", 
    \(TimedNote[
        x_Track] := \[IndentingNewLine]Module[{ch}, \[IndentingNewLine] (*\ 
          the\ list\ of\ Note' 
            s\ with\ starting\ time\ and\ channel\ can\ be\ directly\ mapped\ \
to\ create\ a\ TimedNote\ *) \[IndentingNewLine]TimedNote /@ 
          Sort[\[IndentingNewLine] (*\ 
              skip\ all\ rests\ *) \[IndentingNewLine]Select[\
\[IndentingNewLine] (*\ 
                merge\ the\ result\ from\ each\ Melody\ \
*) \[IndentingNewLine]Flatten[\[IndentingNewLine] (*\ 
                  check\ for\ zero\ notes\ *) \[IndentingNewLine]\(If[
                      Length[#] \[Equal] 0, {}, \[IndentingNewLine] (*\ 
                        create\ a\ list\ of\ Note' 
                          s\ together\ whith\ is\ starting\ time\ and\ \
channel\ *) \[IndentingNewLine]Transpose[{\[IndentingNewLine] (*\ 
                            calculate\ the\ starting\ time\ from\ the\ \
durations\ *) \[IndentingNewLine]Drop[
                            DeltasToValues[
                              Duration[#]], \(-1\)], \[IndentingNewLine] (*\ 
                            get\ the\ MidiChannel\ from\ the\ Melody\ and\ \
create\ a\ list\ of\ it\ *) \[IndentingNewLine]ch = \((\(MidiChannel /. 
                                  Opts[#]\) /. {MidiChannel \[Rule] 
                                    0})\); \[IndentingNewLine]Table[
                            ch, {Length[#]}], \[IndentingNewLine] (*\ 
                            convert\ the\ Melody\ to\ a\ list\ of\ Note' 
                              s\ *) \[IndentingNewLine]Note[#]\
\[IndentingNewLine]}]\[IndentingNewLine] (*\ 
                        convert\ the\ Track\ to\ a\ list\ of\ Melody' 
                          s, \ \(then\ map\ the\ If[] &\) - 
                          function\ to\ each\ Note\ *) \[IndentingNewLine]] &\
\) /@ Melody[
                    x], \[IndentingNewLine]1\[IndentingNewLine]], \
\[IndentingNewLine]\(! DataNoValueQ[#[\([3]\)]]\) &\[IndentingNewLine]]\
\[IndentingNewLine]]\[IndentingNewLine]]\)}], "Input"],

Cell[BoxData[{
    \(\(\(Usage[Append, PatternChapter, TimedNoteTrack, {_Track}, 
        TimedNoteTrack, "\<creates a TimedNoteTrack from a Track.\>"];\)\(\
\[IndentingNewLine]\)
    \)\), "\[IndentingNewLine]", 
    \(TimedNoteTrack[x_Track] := TimedNoteTrack[TimedNote[x]]\)}], "Input"],

Cell[BoxData[{
    \(\(Usage[Append, PatternChapter, TimedNoteScore, {_Midi}, 
        TimedNoteScore, "\<creates a TimedNoteScore from a Midi.\>"];\)\
\[IndentingNewLine]\), "\[IndentingNewLine]", 
    \(TimedNoteScore[
        x_Midi] := \[IndentingNewLine]TimedNoteScore[\[IndentingNewLine]\
TimedNoteTrack /@ Track[x], \[IndentingNewLine] (*\ 
          pass\ on\ any\ opts\ *) \[IndentingNewLine]Sequence @@ 
          Opts[x]\[IndentingNewLine]]\)}], "Input"],

Cell[BoxData[{
    \(\(\(Usage[Append, PatternChapter, 
        Track, {_TimedNoteTrack, ___?OptionQ}, 
        Track, "\<creates a Track from a TimedNoteTrack.\>"];\)\(\
\[IndentingNewLine]\)
    \)\), "\[IndentingNewLine]", 
    \(TimedNoteTrack /: 
      Track[x_TimedNoteTrack, 
        opts___?OptionQ] := \[IndentingNewLine]Module[{ch}, \
\[IndentingNewLine] (*\ 
          create\ a\ Track\ from\ the\ list\ of\ Event' 
            s\ *) \[IndentingNewLine]Track[\[IndentingNewLine] (*\ 
            Flatten\ the\ list\ of\ Event - 
              pairs\ *) \[IndentingNewLine]Flatten[\[IndentingNewLine] (*\ 
              create\ an\ Event' - 
                pair\ from\ each\ TimedNote\ *) \[IndentingNewLine]\({\
\[IndentingNewLine] (*\ 
                    get\ the\ channel\ to\ use\ *) \[IndentingNewLine]ch = 
                    MidiChannel[#]; \[IndentingNewLine] (*\ 
                    create\ two\ Event' s, \ 
                    note - on\ and\ note - 
                      off\ *) \[IndentingNewLine]{NoteTime[#], \
{{EventTypeNoteOn, ch}, {PitchCode[Note[#]], 
                        Velocity[
                          Note[#]]}}}, \[IndentingNewLine]{NoteTime[#] + 
                      Duration[Note[#]], {{EventTypeNoteOff, 
                        ch}, {PitchCode[Note[#]], 
                        Velocity[
                          Note[#]]}}}\[IndentingNewLine] (*\ \(convert\ the\ \
TimedNoteTrack\ to\ a\ list\ of\ TimedNote' s\ then\ map\ the\ {} &\) - 
                      function\ to\ each\ TimedNote\ *) \[IndentingNewLine]} \
&\) /@ TimedNote[
                x], \[IndentingNewLine]1\[IndentingNewLine]]\
\[IndentingNewLine]]\[IndentingNewLine]]\)}], "Input"],

Cell[BoxData[{
    \(\(Usage[Append, PatternChapter, Midi, {_TimedNoteScore, ___?OptionQ}, 
        Midi, "\<creates a Midi from a TimedNoteScore.\>"];\)\
\[IndentingNewLine]\), "\[IndentingNewLine]", 
    \(TimedNoteScore /: 
      Midi[x_TimedNoteScore, 
        opts___?OptionQ] := \[IndentingNewLine]Midi[\[IndentingNewLine]Track /@ 
          TimedNoteTrack[x], \[IndentingNewLine] (*\ 
          pass\ on\ any\ opts\ and\ add\ any\ new\ ones\ \
*) \[IndentingNewLine]Sequence @@ 
          AddOpts[Opts[x], opts]\[IndentingNewLine]]\)}], "Input"],

Cell["\<\
You can now get the Usage-text in PatternChapter-domain containing \
Track:\
\>", "Text"],

Cell[BoxData[
    \(Usage[PatternChapter, Track]\)], "Input"],

Cell["\<\
These Usage-text are not in Musica2-domain, which has a lot more:\
\
\>", "Text"],

Cell[BoxData[
    \(Usage[Musica2, Track]\)], "Input"],

Cell["This is how you search both Usage-text-domains:", "Text"],

Cell[BoxData[
    \(Usage[{PatternChapter, Musica2}, Track]\)], "Input"],

Cell["This is how you search all Usage-text-domains:", "Text"],

Cell[BoxData[
    \(Usage[All, Track]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["TimedNote", "Subsection"],

Cell["TimedNote is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[TimedNote]\)], "Input"],

Cell["TimedNote's are contained in a TimedNoteTrack:", "Text"],

Cell[BoxData[
    \(ElementType[TimedNoteTrack]\)], "Input"],

Cell["TimedNote has members:", "Text"],

Cell[BoxData[
    \(Members[TimedNote]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[TimedNote]\)], "Input"],

Cell["An example creating a TimedNote the basic way is therefore:", "Text"],

Cell[BoxData[
    \(e = TimedNote[{1024, Note[48]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      TimedNote[{1024, Note[48]}, donald \[Rule] duck, 
        mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called TimedNote[data,opts___] it is \
stored as TimedNote[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default TimedNote:", "Text"],

Cell[BoxData[
    \(e = TimedNote[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["TimedNoteTrack", "Subsection"],

Cell["TimedNoteTrack is a contiainer:", "Text"],

Cell[BoxData[
    \(ContainerQ[TimedNoteTrack]\)], "Input"],

Cell["TimedNoteTrack's contains:", "Text"],

Cell[BoxData[
    \(ElementType[TimedNoteTrack]\)], "Input"],

Cell["TimedNoteTrack's are contained in a TimedNoteScore:", "Text"],

Cell[BoxData[
    \(ElementType[TimedNoteScore]\)], "Input"],

Cell["\<\
An example creating a TimedNoteTrack the basic way is \
therefore:\
\>", "Text"],

Cell[BoxData[
    \(c = TimedNoteTrack[{TimedNote[], TimedNote[]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(c = 
      TimedNoteTrack[{TimedNote[], 
          TimedNote[{1024, Note[48]}, donald \[Rule] duck, 
            mickey \[Rule] mouse]}, bat \[Rule] man, 
        cat \[Rule] woman]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(Data[c]\)], "Input"],

Cell["\<\
While the constructor is called TimedNoteTrack[data,opts___] it is \
stored as TimedNoteTrack[{opts},data],
observe also how the elements are stored differently if they have opts:\
\>", \
"Text"],

Cell[BoxData[
    \(c // InputForm\)], "Input"],

Cell["To convert to a list of TimedNote's:", "Text"],

Cell[BoxData[
    \(e = TimedNote[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules /@ e // ColumnForm\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["TimedNoteScore", "Subsection"],

Cell["TimedNoteScore is a contiainer:", "Text"],

Cell[BoxData[
    \(ContainerQ[TimedNoteScore]\)], "Input"],

Cell["TimedNoteScore's contains:", "Text"],

Cell[BoxData[
    \(ElementType[TimedNoteScore]\)], "Input"],

Cell["\<\
An example creating a TimedNoteScore the basic way is \
therefore:\
\>", "Text"],

Cell[BoxData[
    \(c = 
      TimedNoteScore[{TimedNoteTrack[{TimedNote[], TimedNote[]}], 
          TimedNoteTrack[{TimedNote[], TimedNote[]}]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(c = 
      TimedNoteScore[{TimedNoteTrack[{TimedNote[], TimedNote[]}], 
          TimedNoteTrack[{TimedNote[], TimedNote[]}, donald \[Rule] duck, 
            mickey \[Rule] mouse]}, bat \[Rule] man, 
        cat \[Rule] woman]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(Data[c]\)], "Input"],

Cell["\<\
While the constructor is called TimedNoteTrack[data,opts___] it is \
stored as TimedNoteTrack[{opts},data],
observe also how the elements are stored differently if they have opts:\
\>", \
"Text"],

Cell[BoxData[
    \(c // InputForm\)], "Input"],

Cell["To convert to a list of TimedNoteTrack's:", "Text"],

Cell[BoxData[
    \(e = TimedNoteTrack[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules /@ e // ColumnForm\)], "Input"],

Cell["To convert to a list of TimedNote's:", "Text"],

Cell[BoxData[
    \(e = TimedNote[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(\(DataToRules /@ # &\) /@ e // ColumnForm\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Using theTimedNoteScore & Midi converters", "Subsection"],

Cell[BoxData[
    \(mid = Import[cor, Midi]\)], "Input"],

Cell[BoxData[
    \(tns = TimedNoteScore[mid]\)], "Input"],

Cell[BoxData[
    \(Opts[tns]\)], "Input"],

Cell[BoxData[
    \(DataToRules[tns]\)], "Input"],

Cell[BoxData[
    \(Export["\<tmp.mid\>", Midi[tns]]\)], "Input"],

Cell[BoxData[
    \(tnt = TimedNoteTrack[{{1, 2}, {3, 4}, {5, 6}}]\)], "Input"],

Cell[BoxData[
    \(DataToRules[tnt]\)], "Input"],

Cell[BoxData[
    \(tnt = TimedNoteTrack[tnt, MidiChannel \[Rule] 7]\)], "Input"],

Cell[BoxData[
    \(DataToRules[tnt]\)], "Input"],

Cell[BoxData[
    \(tnt = TimedNoteTrack[tnt, MidiChannel \[Rule] {7, 8, 9}]\)], "Input"],

Cell[BoxData[
    \(DataToRules[tnt]\)], "Input"],

Cell[TextData[{
  "For any object t of type T you can change the values of the members like \
this (which in this case will not really do anything):\n  ",
  StyleBox["T[t,Sequence@@DataToRules[t]]",
    FontWeight->"Bold"]
}], "Text"]
}, Closed]],

Cell[CellGroupData[{

Cell["Extras", "Subsection"],

Cell["\<\
All this extra code is generated for all elements and containers in \
Musica2.\
\>", "Text"],

Cell["Code for \"reflection\":", "Text"],

Cell[BoxData[
    \(Members[TimedNote]\)], "Input"],

Cell[BoxData[
    \(\(Pos[TimedNote, #] &\) /@ %\)], "Input"],

Cell[BoxData[
    \(ContainerQ /@ {TimedNoteScore, TimedNoteTrack, TimedNote}\)], "Input"],

Cell[BoxData[
    \(ElementType /@ {TimedNoteScore, TimedNoteTrack}\)], "Input"],

Cell[BoxData[
    \(Struct[TimedNote]\)], "Input"],

Cell["All constructors take optional parameters.", "Text"],

Cell["\<\
Default-constructors for all types take the data as first \
parameter.\
\>", "Text"],

Cell[BoxData[
    \(ln = {l = TimedNote[{1024, Note[66]}, name \[Rule] "\<john\>"], 
        TimedNote[{2048, Note[33]}, age \[Rule] 12]}\)], "Input"],

Cell["\<\
Extra constructors for a container takes one or a list of elements.\
\
\>", "Text"],

Cell[BoxData[
    \(t = TimedNoteTrack[ln]\)], "Input"],

Cell[BoxData[
    \(b = 
      TimedNoteScore[{t, TimedNoteTrack[ln, no \[Rule] good]}, 
        nice \[Rule] DataNoValue]\)], "Input"],

Cell["\<\
Then there are som constructors for elements that take a container \
as parameter.\
\>", "Text"],

Cell[BoxData[
    \(TimedNoteTrack[b]\)], "Input"],

Cell[BoxData[
    \(TimedNote[t]\)], "Input"],

Cell[BoxData[
    \(TimedNote[b]\)], "Input"],

Cell["\<\
Each type has two parts, Opts and Data. Data is a \"raw\" format:\
\
\>", "Text"],

Cell[BoxData[
    \(Opts /@ {b, t, l} // ColumnForm\)], "Input"],

Cell["\<\
The elements are simply stored in a list, one item for each \
element.
Each element is a two item list {Opts,Data}, but if an element has no Opts it \
is just Data without the enclosing list.\
\>", "Text"],

Cell[BoxData[
    \(Data /@ {b, t, l} // ColumnForm\)], "Input"],

Cell["DataToRules is another way of getting the data:", "Text"],

Cell[BoxData[
    \(DataToRules /@ {b, t, l} // ColumnForm\)], "Input"],

Cell["\<\
The \"default-constructor\" for all types thus works like \
this:\
\>", "Text"],

Cell[BoxData[
    \(\(\(#[\([0]\)]\)[Data[#], Sequence @@ Opts[#]] &\) /@ {b, t, 
        l}\)], "Input"],

Cell["\<\
But we usually never use this \"raw\" Data, only the Opts. Instead \
we use the members in various ways:\
\>", "Text"],

Cell[BoxData[
    \(NoteTime /@ {b, t, l} // ColumnForm\)], "Input"],

Cell["\<\
You can change the value of a member once the object is \
created:\
\>", "Text"],

Cell["Setting all to the same value:", "Text"],

Cell[BoxData[
    \(TimedNoteTrack[t, NoteTime \[Rule] 9]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%]\)], "Input"],

Cell["Setting to different values:", "Text"],

Cell[BoxData[
    \(TimedNoteTrack[t, NoteTime \[Rule] {2, 4}]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%]\)], "Input"],

Cell["\<\
Using a list of wrong length is not a good idea, the list is used \
as an atom:\
\>", "Text"],

Cell[BoxData[
    \(TimedNoteTrack[t, NoteTime \[Rule] {1, 2, 3}]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%]\)], "Input"],

Cell["Tests:", "Text"],

Cell[BoxData[
    \(\({TimedNoteScoreQ[#], TimedNoteTrackQ[#], TimedNoteQ[#]} &\) /@ {b, t, 
          l} // ColumnForm\)], "Input"],

Cell[BoxData[
    \(\({\(DataQ[TimedNoteScore]\)[Data[#]], \(DataQ[TimedNoteTrack]\)[
              Data[#]], \(DataQ[TimedNote]\)[Data[#]]} &\) /@ {b, t, l} // 
      ColumnForm\)], "Input"],

Cell["Map and many other List-functions also works on Containers.", "Text"],

Cell["Append[_Container,_Element]", "Text"],

Cell[BoxData[
    \(Append[b, t]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell["Delete[_Container,n__]", "Text"],

Cell[BoxData[
    \(Delete[b, \(-1\)]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell["Drop[_Container,n_]", "Text"],

Cell[BoxData[
    \(Drop[b, 1]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell["\<\
Extract[_Container,n_Integer] calls \
Part[_Container,n_Integer]\
\>", "Text"],

Cell[BoxData[
    \(Extract[b, 1]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell["First[_Container]", "Text"],

Cell[BoxData[
    \(First[b]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell["Insert[_Container,_Element,n_Integer]", "Text"],

Cell[BoxData[
    \(Insert[b, t, 2]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell["Last[_Container]", "Text"],

Cell[BoxData[
    \(Last[b]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell["Length[_Container]", "Text"],

Cell[BoxData[
    \(Length[b]\)], "Input"],

Cell["Map[f_,_Container]", "Text"],

Cell[BoxData[
    \(Opts /@ b\)], "Input"],

Cell["\<\
If the result from Map is a list of elements or an empty list a \
container is returned\
\>", "Text"],

Cell[BoxData[
    \(\(# &\) /@ b\)], "Input"],

Cell["The same goes for MapIndexed[f_,_Container]", "Text"],

Cell[BoxData[
    \(MapIndexed[# &, b]\)], "Input"],

Cell["Most[_Container]", "Text"],

Cell[BoxData[
    \(Most[b]\)], "Input"],

Cell["Part[_Container,n_Integer]", "Text"],

Cell[BoxData[
    \(b[\([1]\)]\)], "Input"],

Cell["Part[_Container,n_Integer,m__Integer]", "Text"],

Cell[BoxData[
    \(b[\([1, 2]\)]\)], "Input"],

Cell["Prepend[_Container,_Element]", "Text"],

Cell[BoxData[
    \(Prepend[b, t]\)], "Input"],

Cell["ReplacePart[_Container,_Element,n_Integer]", "Text"],

Cell[BoxData[
    \(ReplacePart[b, TimedNoteTrack[{}], 1]\)], "Input"],

Cell["Rest[_Container]", "Text"],

Cell[BoxData[
    \(Rest[b]\)], "Input"],

Cell["Scan[f_,_Container]", "Text"],

Cell[BoxData[
    \(Scan[Print, b]\)], "Input"],

Cell["Select[_Container,f_]", "Text"],

Cell[BoxData[
    \(Select[b, \((Opts[#] =!= {})\) &]\)], "Input"],

Cell["Take[_Container,n_]", "Text"],

Cell[BoxData[
    \(Take[b, 1]\)], "Input"],

Cell["Some, like Map, are extended.", "Text"],

Cell["\<\
Map[f_,_Container,s_Symbol] and MapIndexed[f_, _Container, \
s_Symbol] maps through all elements (leafs) and applys f to the leaf's member \
and the reconstructs the container again.\
\>", "Text"],

Cell[BoxData[
    \(NoteTime /@ b\)], "Input"],

Cell[BoxData[
    \(Map[2 + # &, b, NoteTime]\)], "Input"],

Cell[BoxData[
    \(NoteTime /@ %\)], "Input"],

Cell["\<\
Part[_Container,s_Symbol] and Part[_Container, n_Integer, \
m___Integer, s_Symbol] works like expected\
\>", "Text"],

Cell[BoxData[
    \(b[\([NoteTime]\)]\)], "Input"],

Cell[BoxData[
    \(b[\([1, NoteTime]\)]\)], "Input"],

Cell[BoxData[
    \(b[\([1, 2, NoteTime]\)]\)], "Input"],

Cell["\<\
Until I write more documentation the best way to find out about all \
List-functions for Containers is to use Usage, or look inside \
ObjectType.m\
\>", "Text"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Sound", "Subtitle"],

Cell[CellGroupData[{

Cell["Snippet", "Subsection"],

Cell["Snippets represents a one-channel sound.", "Text"],

Cell["Snippet is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[Snippet]\)], "Input"],

Cell["Snippet's are contained in a Sound:", "Text"],

Cell[BoxData[
    \(ElementType[Sound]\)], "Input"],

Cell["Snippet has members:", "Text"],

Cell[BoxData[
    \(Members[Snippet]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[Snippet]\)], "Input"],

Cell["An example creating a Snippet the basic way is therefore:", "Text"],

Cell[BoxData[
    \(e = 
      Snippet[{SampledSoundFunction, Sin[2\ Pi\ 220\ #1] &, 22050, 
          22050}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      Snippet[{SampledSoundFunction, Sin[2\ Pi\ 220\ #1] &, 22050, 22050}, 
        donald \[Rule] duck, mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called Snippet[data,opts___] it is stored \
as Snippet[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default Snippet:", "Text"],

Cell[BoxData[
    \(e = Snippet[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["TotalDuration[_Snippet] calculates the duration in seconds", "Text"],

Cell[BoxData[
    \(TotalDuration[e] // N\)], "Input"],

Cell["Play2[snp_Snippet] is horthand for Play2[Sound[{snp}]]", "Text"],

Cell[BoxData[
    \(Play2[e]\)], "Input"],

Cell[BoxData[
    \(Export["\<tmp.wav\>", %]\)], "Input"],

Cell["Mix, Par and Seq:", "Text"],

Cell[BoxData[
    \(Mix[{e, e}]\)], "Input"],

Cell[BoxData[
    \(Par[{e, e}]\)], "Input"],

Cell[BoxData[
    \(Seq[{e, e}]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Sound", "Subsection"],

Cell["\<\
Since Sound is a type that I don't own, the underlying logic for it \
is not straightforward, but I have made Sound behave like the rest of the \
Containers in Musica2.\
\>", "Text"],

Cell["Sound is a contiainer:", "Text"],

Cell[BoxData[
    \(ContainerQ[Sound]\)], "Input"],

Cell["Sound's contains:", "Text"],

Cell[BoxData[
    \(ElementType[Sound]\)], "Input"],

Cell["An example creating a Sound the basic way is therefore:", "Text"],

Cell[BoxData[
    \(c = Sound[{Snippet[], Snippet[]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["You CANNOT add custom options to an object of type Sound!", "Text"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell["To convert to a list of Snippet's:", "Text"],

Cell[BoxData[
    \(e = Snippet[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules /@ e // ColumnForm\)], "Input"],

Cell["All Snippets in a Sound object must have the same SoundType.", "Text"],

Cell["\<\
Tidy[_Sound] makes sure even a monophonic Sound has a List \
internally.\
\>", "Text"],

Cell[BoxData[
    \(\(ReplacePart[c = Waveform[Triangle, 440, 0.2], List, {0}]\)[\([1, 
        1]\)]\)], "Input"],

Cell[BoxData[
    \(\(ReplacePart[Tidy[c], List, {0}]\)[\([1, 1]\)]\)], "Input"],

Cell["TotalDuration[_Sound] calculates the duration in seconds", "Text"],

Cell[BoxData[
    \(TotalDuration[c] // N\)], "Input"],

Cell["\<\
Play2[_Sound] calls Show after first mixing it to two \
channels.\
\>", "Text"],

Cell[BoxData[
    \(Length[c]\)], "Input"],

Cell[BoxData[
    \(Length[Play2[c]]\)], "Input"],

Cell[BoxData[
    \(Export["\<tmp.wav\>", c]\)], "Input"],

Cell["Mix, Par and Seq:", "Text"],

Cell[BoxData[
    \(Mix[c, 1]\)], "Input"],

Cell[BoxData[
    \(Mix[c, 2]\)], "Input"],

Cell[BoxData[
    \(Par[{c, c}]\)], "Input"],

Cell[BoxData[
    \(Seq[{c, c}]\)], "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Note", "Subtitle"],

Cell["Note.m depends on Sound.m", "Text"],

Cell[CellGroupData[{

Cell["Note", "Subsection"],

Cell["A Note is a simple note or rest.", "Text"],

Cell["Note is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[Note]\)], "Input"],

Cell["Note's are contained in a Melody:", "Text"],

Cell[BoxData[
    \(ElementType[Melody]\)], "Input"],

Cell["Note's are contained in a Chord:", "Text"],

Cell[BoxData[
    \(ElementType[Chord]\)], "Input"],

Cell["Note has members:", "Text"],

Cell[BoxData[
    \(Members[Note]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[Note]\)], "Input"],

Cell["An example creating a Note the basic way is therefore:", "Text"],

Cell[BoxData[
    \(e = Note[{1/4, {72, 64}}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      Note[{1/4, {72, 64}}, donald \[Rule] duck, 
        mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called Note[data,opts___] it is stored as \
Note[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default Note:", "Text"],

Cell[BoxData[
    \(e = Note[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["\<\
If PitchCode or Velocity contains the symbol DataNoValue it is \
concidered to be a rest.\
\>", "Text"],

Cell["TotalDuration for a Note returns the Duration value.", "Text"],

Cell[BoxData[
    \(TotalDuration[e]\)], "Input"],

Cell["Note[pc_?AtomQ] creates a Note using Options[Note]", "Text"],

Cell[BoxData[
    \(Options[Note]\)], "Input"],

Cell[BoxData[
    \(DataToRules[Note[pc]] // ColumnForm\)], "Input"],

Cell["\<\
Play2[n_Note] is shorthand for Play2[Sound[{Snippet[Melody[{n}]]}]]\
\
\>", "Text"],

Cell[BoxData[
    \(Play2[e]\)], "Input"],

Cell["Play2 assumes second is the unit for duration.", "Text"],

Cell["Par and Seq:", "Text"],

Cell[BoxData[
    \(Par[{e, e}]\)], "Input"],

Cell[BoxData[
    \(Seq[{e, e}]\)], "Input"],

Cell["\<\
DataNoValueQ returns true if PitchCode or Velocity is DataNoValue \
or if Velocity is 0 (zero), which means the note is a rest.\
\>", "Text"],

Cell[BoxData[
    \(DataNoValueQ[e]\)], "Input"],

Cell["Note[{DataNoValue,note}] turns a Note to a rest", "Text"],

Cell[BoxData[
    \(Note[{DataNoValue, e}]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%]\)], "Input"],

Cell[BoxData[
    \(DataNoValueQ[%%]\)], "Input"],

Cell["\<\
DataTieQ returns true if PitchCode or Velocity is/has \
DataTieQ\
\>", "Text"],

Cell[BoxData[
    \(DataTieQ[e]\)], "Input"],

Cell["Note[{DataTie,note}] turns a note to a tie", "Text"],

Cell[BoxData[
    \(Note[{DataTie, e}]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%]\)], "Input"],

Cell[BoxData[
    \(DataTieQ[%%]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Melody", "Subsection"],

Cell["\<\
Melody is a Note container. The notes are played in sequence.\
\>", \
"Text"],

Cell["Melody is a contiainer:", "Text"],

Cell[BoxData[
    \(ContainerQ[Melody]\)], "Input"],

Cell["Melody's contains:", "Text"],

Cell[BoxData[
    \(ElementType[Melody]\)], "Input"],

Cell["Melody's are contained in a Counterpoint's:", "Text"],

Cell[BoxData[
    \(ElementType[Counterpoint]\)], "Input"],

Cell["An example creating a Melody the basic way is therefore:", "Text"],

Cell[BoxData[
    \(c = Melody[{Note[], Note[]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(c = 
      Melody[{Note[], Note[70, donald \[Rule] duck, mickey \[Rule] mouse]}, 
        bat \[Rule] man, cat \[Rule] woman]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(Data[c]\)], "Input"],

Cell["\<\
While the constructor is called Melody[data,opts___] it is stored \
as Melody[{opts},data],
observe also how the elements are stored differently if they have opts:\
\>", \
"Text"],

Cell[BoxData[
    \(c // InputForm\)], "Input"],

Cell["To convert to a list of Note's:", "Text"],

Cell[BoxData[
    \(e = Note[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules /@ e // ColumnForm\)], "Input"],

Cell["An example with a rest:", "Text"],

Cell[BoxData[
    \(c = 
      Melody[{Note[{ .2, {60, 64}}], Note[{ .2, {DataNoValue, DataNoValue}}], 
          Note[{ .2, {64, 64}}], Note[{ .6, {65, 64}}]}]\)], "Input"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["TotalDuration gives the total duration", "Text"],

Cell[BoxData[
    \(TotalDuration[c]\)], "Input"],

Cell["Duration gives the individual durations", "Text"],

Cell[BoxData[
    \(Duration[c]\)], "Input"],

Cell[BoxData[
    \(PianoRoll[c, TimeUnit \[Rule] Second, QPM \[Rule] 100]\)], "Input"],

Cell["Converting to Chord gives a list of one-note chords", "Text"],

Cell[BoxData[
    \(Chord[c]\)], "Input"],

Cell[BoxData[
    \(Length /@ %\)], "Input"],

Cell["You can pass just PitchCodes to Melody", "Text"],

Cell[BoxData[
    \(c = Melody[{60, DataNoValue, 64, 65}]\)], "Input"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell[BoxData[
    \(PianoRoll[c, TimeUnit \[Rule] Second, QPM \[Rule] 60]\)], "Input"],

Cell["Play2[m_Melody] is shorthand for Play2[Sound[{Snippet[m]}]]", "Text"],

Cell[BoxData[
    \(Play2[c]\)], "Input"],

Cell["Play2 assumes second is the unit for duration.", "Text"],

Cell["You can get functions for PitchCode and Velocity", "Text"],

Cell[BoxData[
    \(c = \(Melody[Import[cor, Midi]]\)[\([1]\)]\)], "Input"],

Cell[BoxData[
    \(\(fp = Convert[Time, PitchCode, c];\)\)], "Input"],

Cell[BoxData[
    \(\(fv = Convert[Time, Velocity, c];\)\)], "Input"],

Cell[BoxData[
    \(Plot[{fp[x], fv[x]}, {x, 0, TotalDuration[c]}]\)], "Input"],

Cell["Par and Seq:", "Text"],

Cell[BoxData[
    \(Par[{c, c}]\)], "Input"],

Cell[BoxData[
    \(Seq[{c, c}]\)], "Input"],

Cell["Tidy[_Melody] sets any leading ties to rest and merges rests", "Text"]
}, Closed]],

Cell[CellGroupData[{

Cell["Chord", "Subsection"],

Cell["Chord is a Note container. The notes are played in paralell.", "Text"],

Cell["Chord is a contiainer:", "Text"],

Cell[BoxData[
    \(ContainerQ[Chord]\)], "Input"],

Cell["Chord's contains:", "Text"],

Cell[BoxData[
    \(ElementType[Chord]\)], "Input"],

Cell["Chord's are contained in a Progression's:", "Text"],

Cell[BoxData[
    \(ElementType[Progression]\)], "Input"],

Cell["An example creating a Chord the basic way is therefore:", "Text"],

Cell[BoxData[
    \(c = Chord[{Note[], Note[]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(c = 
      Chord[{Note[], Note[70, donald \[Rule] duck, mickey \[Rule] mouse]}, 
        bat \[Rule] man, cat \[Rule] woman]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(Data[c]\)], "Input"],

Cell["\<\
While the constructor is called Chord[data,opts___] it is stored as \
Chord[{opts},data],
observe also how the elements are stored differently if they have opts:\
\>", \
"Text"],

Cell["\<\
Chord handles its elements (notes) in a special way, the duration \
is an opt (wich is not optional) and the notes lack is duration:\
\>", "Text"],

Cell[BoxData[
    \(c // InputForm\)], "Input"],

Cell["To convert to a list of Note's:", "Text"],

Cell[BoxData[
    \(e = Note[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules /@ e // ColumnForm\)], "Input"],

Cell["Another example:", "Text"],

Cell[BoxData[
    \(c = 
      Chord[{Note[{ .2, {60, 64}}], Note[{ .4, {64, 64}}], 
          Note[{ .6, {67, 64}}], Note[{ .8, {70, 64}}]}]\)], "Input"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["\<\
The Duration of the first Note is used as the duration for the \
Chord\
\>", "Text"],

Cell["TotalDuration gives the total duration", "Text"],

Cell[BoxData[
    \(TotalDuration[c]\)], "Input"],

Cell["Duration gives the individual durations", "Text"],

Cell[BoxData[
    \(Duration[c]\)], "Input"],

Cell[BoxData[
    \(PianoRoll[c, TimeUnit \[Rule] Second]\)], "Input"],

Cell["Converting to Melody gives a list of one-note melodies", "Text"],

Cell[BoxData[
    \(Melody[c]\)], "Input"],

Cell[BoxData[
    \(Length /@ %\)], "Input"],

Cell["You can pass just PitchCodes to Chord", "Text"],

Cell[BoxData[
    \(c = Chord[{60, 64, 67, 70}]\)], "Input"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell[BoxData[
    \(PianoRoll[c, TimeUnit \[Rule] Second]\)], "Input"],

Cell["\<\
Play2[c_Chord] is shorthand for \
Play2[Sound[Snippet/@Melody[c]]]\
\>", "Text"],

Cell[BoxData[
    \(Play2[c]\)], "Input"],

Cell["Play2 assumes second is the unit for duration.", "Text"],

Cell["Par and Seq:", "Text"],

Cell[BoxData[
    \(Par[{c, c}]\)], "Input"],

Cell[BoxData[
    \(Seq[{c, c}]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Progression", "Subsection"],

Cell["\<\
Progression is a Chord container. The chords are played in \
sequence.\
\>", "Text"],

Cell["Progression is a contiainer:", "Text"],

Cell[BoxData[
    \(ContainerQ[Progression]\)], "Input"],

Cell["Progression's contains:", "Text"],

Cell[BoxData[
    \(ElementType[Progression]\)], "Input"],

Cell["\<\
An example creating a Progression the basic way is therefore:\
\>", \
"Text"],

Cell[BoxData[
    \(c = 
      Progression[{Chord[{Note[], Note[]}], 
          Chord[{Note[], Note[]}]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(c = 
      Progression[{Chord[{Note[], Note[]}], 
          Chord[{Note[], Note[]}, donald \[Rule] duck, 
            mickey \[Rule] mouse]}, bat \[Rule] man, 
        cat \[Rule] woman]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(Data[c]\)], "Input"],

Cell["\<\
While the constructor is called Progression[data,opts___] it is \
stored as Progression[{opts},data],
observe also how the elements are stored differently if they have opts:\
\>", \
"Text"],

Cell[BoxData[
    \(c // InputForm\)], "Input"],

Cell["To convert to a list of Chord's:", "Text"],

Cell[BoxData[
    \(e = Chord[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules /@ e // ColumnForm\)], "Input"],

Cell["To convert to a list of Note's:", "Text"],

Cell[BoxData[
    \(e = Note[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(\(DataToRules /@ # &\) /@ e // ColumnForm\)], "Input"],

Cell["Another example:", "Text"],

Cell[BoxData[
    \(c = 
      Progression[{Chord[{60, 64, 67}], Chord[{60, 65, 69}], 
          Chord[{62, 67, 71}], Chord[{64, 67, 72}]}]\)], "Input"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["TotalDuration gives the total duration", "Text"],

Cell[BoxData[
    \(TotalDuration[c]\)], "Input"],

Cell["Duration gives the individual durations", "Text"],

Cell[BoxData[
    \(Duration[c]\)], "Input"],

Cell[BoxData[
    \(PianoRoll[c, TimeUnit \[Rule] Second]\)], "Input"],

Cell["You can convert back to Chords", "Text"],

Cell[BoxData[
    \(Chord[c]\)], "Input"],

Cell["Or to melodies, one for each voice", "Text"],

Cell[BoxData[
    \(Melody[c]\)], "Input"],

Cell["Or to Notes", "Text"],

Cell[BoxData[
    \(Note[c]\)], "Input"],

Cell["\<\
Play2[p_Progression] is shorthand for \
Play2[Sound[Snippet/@Melody[p]]]\
\>", "Text"],

Cell[BoxData[
    \(Play2[c]\)], "Input"],

Cell["Play2 assumes second is the unit for duration.", "Text"],

Cell["Par and Seq:", "Text"],

Cell[BoxData[
    \(Par[{c, c}]\)], "Input"],

Cell[BoxData[
    \(Seq[{c, c}]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Counterpoint", "Subsection"],

Cell["\<\
Counterpoint is a Melody container. The melodies are played in \
paralell.\
\>", "Text"],

Cell["Counterpoint is a contiainer:", "Text"],

Cell[BoxData[
    \(ContainerQ[Counterpoint]\)], "Input"],

Cell["Counterpoint's contains:", "Text"],

Cell[BoxData[
    \(ElementType[Counterpoint]\)], "Input"],

Cell["\<\
An example creating a Counterpoint the basic way is \
therefore:\
\>", "Text"],

Cell[BoxData[
    \(c = 
      Counterpoint[{Melody[{Note[], Note[]}], 
          Melody[{Note[], Note[]}]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(c = 
      Counterpoint[{Melody[{Note[], Note[]}], 
          Melody[{Note[], Note[]}, donald \[Rule] duck, 
            mickey \[Rule] mouse]}, bat \[Rule] man, 
        cat \[Rule] woman]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(Data[c]\)], "Input"],

Cell["\<\
While the constructor is called Counterpoint[data,opts___] it is \
stored as Counterpoint[{opts},data],
observe also how the elements are stored differently if they have opts:\
\>", \
"Text"],

Cell[BoxData[
    \(c // InputForm\)], "Input"],

Cell["To convert to a list of Melody's:", "Text"],

Cell[BoxData[
    \(e = Melody[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules /@ e // ColumnForm\)], "Input"],

Cell["To convert to a list of Note's:", "Text"],

Cell[BoxData[
    \(e = Note[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(\(DataToRules /@ # &\) /@ e // ColumnForm\)], "Input"],

Cell["Another example:", "Text"],

Cell[BoxData[
    \(c = 
      Counterpoint[{\[IndentingNewLine]Melody[{Note[{2, {60, 64}}], Note[62], 
              Note[64]}], \[IndentingNewLine]Melody[{Note[64], Note[65], 
              Note[{2, {67, 64}}]}], \[IndentingNewLine]Melody[{67, 69, 71, 
              72}]\[IndentingNewLine]}]\)], "Input"],

Cell["Note that the last melody har 4 notes", "Text"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["TotalDuration gives the total duration", "Text"],

Cell[BoxData[
    \(TotalDuration[c]\)], "Input"],

Cell["Duration gives the individual durations", "Text"],

Cell[BoxData[
    \(Duration[c]\)], "Input"],

Cell[BoxData[
    \(PianoRoll[c, TimeUnit \[Rule] Second]\)], "Input"],

Cell["You can convert back to Melodies", "Text"],

Cell[BoxData[
    \(Melody[c]\)], "Input"],

Cell["Or to chords", "Text"],

Cell[BoxData[
    \(Chord[c]\)], "Input"],

Cell["Observe the ties in the chords", "Text"],

Cell[BoxData[
    \(DataToRules /@ % // ColumnForm\)], "Input"],

Cell["Or to Notes", "Text"],

Cell[BoxData[
    \(Note[c]\)], "Input"],

Cell["Or to Progression", "Text"],

Cell[BoxData[
    \(Progression[c]\)], "Input"],

Cell["Observe the ties in the chords", "Text"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell["\<\
Play2[c_Counterpoint] is shorthand for \
Play2[Sound[Snippet/@Melody[c]]]\
\>", "Text"],

Cell[BoxData[
    \(Play2[c]\)], "Input"],

Cell["Play2 assumes second is the unit for duration.", "Text"],

Cell["Par and Seq:", "Text"],

Cell[BoxData[
    \(Par[{c, c}]\)], "Input"],

Cell[BoxData[
    \(Seq[{c, c}]\)], "Input"],

Cell["Tidy[_Counterpoint] calls Tidy on all Melody's it contains", "Text"]
}, Closed]],

Cell[CellGroupData[{

Cell["FigBass", "Subsection"],

Cell["\<\
FigBass is almost like a figured-bass-chord, but without duration \
and velocity.\
\>", "Text"],

Cell["FigBass is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[FigBass]\)], "Input"],

Cell["FigBass has members:", "Text"],

Cell[BoxData[
    \(Members[FigBass]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[FigBass]\)], "Input"],

Cell["An example creating a FigBass the basic way is therefore:", "Text"],

Cell[BoxData[
    \(e = FigBass[{12, {{2}, 242}}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      FigBass[{12, {{2}, 242}}, donald \[Rule] duck, 
        mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called FigBass[data,opts___] it is stored \
as FigBass[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default FigBass:", "Text"],

Cell[BoxData[
    \(e = FigBass[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["Another example:", "Text"],

Cell[BoxData[
    \(e = FigBass[{12, {{40}, 145}}]\)], "Input"],

Cell["You can get the PitchCodes", "Text"],

Cell[BoxData[
    \(PitchCode[e]\)], "Input"],

Cell[BoxData[
    \(PianoRoll[Chord[PitchCode[e]], TimeUnit \[Rule] Second]\)], "Input"],

Cell["You can also supply a list of pitchcodes as argument:", "Text"],

Cell[BoxData[
    \(DataToRules[FigBass[{0, 3, 5, 9}, Octave \[Rule] 12]]\)], "Input"],

Cell["\<\
Octave can also be \[Infinity] to allow inversions and octave \
distictions\
\>", "Text"],

Cell[BoxData[
    \(DataToRules[e = FigBass[{60, 65, 69}, Octave \[Rule] \[Infinity]]] // 
      ColumnForm\)], "Input"],

Cell[BoxData[
    \(PitchCode[e]\)], "Input"],

Cell[BoxData[
    \(DataToRules[e = FigBass[{60, 65, 69}, Octave \[Rule] 12]] // 
      ColumnForm\)], "Input"],

Cell[BoxData[
    \(PitchCode[e]\)], "Input"],

Cell["Using the counterpoint above", "Text"],

Cell[BoxData[
    \(c = 
      Counterpoint[{\[IndentingNewLine]Melody[{Note[{2, {60, 64}}], Note[62], 
              Note[64]}], \[IndentingNewLine]Melody[{Note[64], Note[65], 
              Note[{2, {67, 64}}]}], \[IndentingNewLine]Melody[{67, 69, 71, 
              72}]\[IndentingNewLine]}]\)], "Input"],

Cell["\<\
Octave is \[Infinity] so the inversions are shown in the code\
\>", \
"Text"],

Cell[BoxData[
    \(Code /@ \((FigBass /@ DataUnTie[PitchCode /@ Chord[c]])\)\)], "Input"],

Cell["Octave is 12 so inversions are gone", "Text"],

Cell[BoxData[
    \(Code /@ \((\(FigBass[#, Octave \[Rule] 12] &\) /@ 
          DataUnTie[PitchCode /@ Chord[c]])\)\)], "Input"],

Cell["\<\
The reason for Bass to be a list is when we make a FigBass out of \
{0,3,6,9}, a dim chord, which have many roots\
\>", "Text"],

Cell[BoxData[
    \(DataToRules[FigBass[{0, 3, 6, 9}, Octave \[Rule] 12]]\)], "Input"],

Cell["or an augmented chord", "Text"],

Cell[BoxData[
    \(DataToRules[FigBass[{0, 4, 8}, Octave \[Rule] 12]]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Intervals", "Subsection"],

Cell["Intervals is an interval-vector.", "Text"],

Cell["\<\
The member-name \"Content\" is a bad name, it will probably change \
in the future.\
\>", "Text"],

Cell["Intervals is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[Intervals]\)], "Input"],

Cell["Intervals has members:", "Text"],

Cell[BoxData[
    \(Members[Intervals]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[Intervals]\)], "Input"],

Cell["An example creating a Intervals the basic way is therefore:", "Text"],

Cell[BoxData[
    \(e = Intervals[{12, {0, 0, 1, 2, 1, 0, 0}}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      Intervals[{12, {0, 0, 1, 2, 1, 0, 0}}, donald \[Rule] duck, 
        mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called Intervals[data,opts___] it is \
stored as Intervals[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default Intervals:", "Text"],

Cell[BoxData[
    \(e = Intervals[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["Another example:", "Text"],

Cell[BoxData[
    \(DataToRules[Intervals[Chord[{0, 4, 7}]]]\)], "Input"],

Cell["\<\
The answer means that we have 1 minor third, one major third and \
one fifth.\
\>", "Text"],

Cell[BoxData[
    \(DataToRules[Intervals[Chord[{0, 4, 7}], Octave \[Rule] 12]]\)], "Input"],

Cell["Now the fifth is a forth.", "Text"],

Cell["You can also supply a list of pitchcodes as argument:", "Text"],

Cell[BoxData[
    \(DataToRules[Intervals[{0, 3, 5, 9}, Octave \[Rule] 12]]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["KeyMode", "Subsection"],

Cell["KeyMode is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[KeyMode]\)], "Input"],

Cell["KeyMode has members:", "Text"],

Cell[BoxData[
    \(Members[KeyMode]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[KeyMode]\)], "Input"],

Cell["An example creating a KeyMode the basic way is therefore:", "Text"],

Cell[BoxData[
    \(e = KeyMode[{60, {2, 2, 3, 2, 3}}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      KeyMode[{60, {2, 2, 3, 2, 3}}, donald \[Rule] duck, 
        mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called KeyMode[data,opts___] it is stored \
as KeyMode[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default KeyMode:", "Text"],

Cell[BoxData[
    \(e = KeyMode[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["There are more ways to construct a KeyMode.", "Text"],

Cell["\<\
The first parameter is the number of sharps/flats as a \
positive/negative number. The second is the mode which is a number 0 to 6 \
representing the scale-step the scale starts on compared to major, or one of \
{ModeAeolian, ModeDorian, ModeIonian, ModeLocrian, ModeLydian, ModeMajor, \
ModeMinor, ModeMixolydian, ModePhrygian}. The pitch-codes are always \
positive. The number of sharps/flats are mod 12.\
\>", "Text"],

Cell[BoxData[
    \(DataToRules[KeyMode[3, ModeMajor]]\)], "Input"],

Cell[BoxData[
    \(DataToRules[KeyMode[\(-6\), ModeMixolydian]]\)], "Input"],

Cell[BoxData[
    \(DataToRules[KeyMode[6, ModeMixolydian]]\)], "Input"],

Cell["\<\
The Mode* constants are integers for the scale-step they start on \
compared to major.\
\>", "Text"],

Cell[BoxData[
    \({{ModeIonian, ModeMajor}, ModeDorian, ModePhrygian, ModeLydian, 
      ModeMixolydian, {ModeAeolian, ModeMinor}, ModeLocrian}\)], "Input"],

Cell["\<\
Unfortunately this dont match the EventTypeKeySignature in Midi \
(which by the way only handles minor and major), so it might CHANGE.\
\>", \
"Text"],

Cell["\<\
KeyMode[], with no parameter, is C-major scale, same as \
KeyMode[0,ModeMajor]\
\>", "Text"],

Cell[BoxData[
    \(DataToRules[KeyMode[]]\)], "Input"],

Cell["\<\
Giving only one parameter to KeyMode[n] (number of sharps/flats) \
will return a scale that differ in only one scale-step from KeyMode[n-1] and \
KeyMode[n+1] and may therefore result in a scale with negative pitch-codes. \
The number of sharps/flats are NOT mod 12 here.\
\>", "Text"],

Cell["Compare...", "Text"],

Cell[BoxData[
    \(DataToRules[KeyMode[3]]\)], "Input"],

Cell["...with...", "Text"],

Cell[BoxData[
    \(DataToRules[KeyMode[4]]\)], "Input"],

Cell["...and...", "Text"],

Cell[BoxData[
    \(DataToRules[KeyMode[\(-6\)]]\)], "Input"],

Cell["...with...", "Text"],

Cell[BoxData[
    \(DataToRules[KeyMode[\(-5\)]]\)], "Input"],

Cell["\<\
The proper way to get a function that convert ScaleStep to \
PitchCode or vice versa is to use the Convert function\
\>", "Text"],

Cell[BoxData[
    \(\(sff = 
        Convert[ScaleStep, PitchCode, KeyMode[0, ModePhrygian]];\)\)], "Input"],

Cell[BoxData[
    \(sff /@ Range[35, 35 + 7]\)], "Input"],

Cell[BoxData[
    \(\(sfr = 
        Convert[PitchCode, ScaleStep, KeyMode[0, ModePhrygian]];\)\)], "Input"],

Cell[BoxData[
    \(sfr /@ %%\)], "Input"],

Cell["You can create a KeyMode from PitchCode's:", "Text"],

Cell[BoxData[
    \(DataToRules[e = KeyMode[{20, 23, 25, 29, 31}]]\)], "Input"],

Cell["You can get the PitchCode's from a KeyMode:", "Text"],

Cell[BoxData[
    \(PitchCode[e]\)], "Input"],

Cell[BoxData[
    \(PitchCode[KeyMode[]]\)], "Input"],

Cell["You can get the Octave and the scale-size from a KeyMode:", "Text"],

Cell[BoxData[
    \({Octave[e], Length[e]}\)], "Input"],

Cell[BoxData[
    \({Octave[KeyMode[]], Length[KeyMode[]]}\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["ThirdStack", "Subsection"],

Cell["\<\
ThirdStack is another way besides FigBass of coding chords. No \
duration or velocity.\
\>", "Text"],

Cell["ThirdStack is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[ThirdStack]\)], "Input"],

Cell["ThirdStack has members:", "Text"],

Cell[BoxData[
    \(Members[ThirdStack]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[ThirdStack]\)], "Input"],

Cell["An example creating a ThirdStack the basic way is therefore:", "Text"],

Cell[BoxData[
    \(e = ThirdStack[{{3, 4}, {2, 7}}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      ThirdStack[{{3, 4}, {2, 7}}, donald \[Rule] duck, 
        mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called ThirdStack[data,opts___] it is \
stored as ThirdStack[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default ThirdStack:", "Text"],

Cell[BoxData[
    \(e = ThirdStack[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can get the PitchCodes", "Text"],

Cell[BoxData[
    \(PitchCode[e]\)], "Input"],

Cell["You can use another base than {3,4} which is default.", "Text"],

Cell["ThirdStack[i] is the same as ThirdStack[{{3,4},{0,i}}].", "Text"],

Cell[BoxData[
    \(\((p = \(PitchCode[ThirdStack[#]] &\) /@ Range[10])\) // 
      ColumnForm\)], "Input"],

Cell[BoxData[
    \(PianoRoll[Progression[Chord /@ p]]\)], "Input"],

Cell[BoxData[
    \(\(Content[Intervals[#, Octave \[Rule] 12]] &\) /@ p // 
      ColumnForm\)], "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Midi", "Subtitle"],

Cell["Midi.m depends on Note.m", "Text"],

Cell["\<\
Tidy[_Track] sorts the events and makes sure that there is exactly \
one EOT in the track.
Tidy[_Midi] calls Tidy for each track and sets them to the same length.
Tidy[_TempoTrack] sorts the tempos for the tempo-track.\
\>", "Text"],

Cell["\<\
Conversion- and extra- constructors:
  Event[_Tempo] does the hard work
  Midi[_Midi, opts___] is used to change time-unit and uses TempoTrack and \
TempoFunction and then some
  Tempo[_Event] does the hard work
  TempoTrack[_Track] uses Tempo[_Event] and TempoTrack[{__Tempo}]
  Track[_TempoTrack] uses Event[_Tempo] and Track[{__Event}]\
\>", "Text"],

Cell["\<\
TotalDuration functions:
  TotalDuration[_Midi] uses EventTime[_Event] and Max
  TotalDuration[_Track] uses TotalDuration[_Track] and Max\
\>", "Text"],

Cell["\<\
Play2 functions:
  Play2[_Midi]
  Play2[_Track]\
\>", "Text"],

Cell[CellGroupData[{

Cell["Event", "Subsection"],

Cell["Event is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[Event]\)], "Input"],

Cell["Event's are contained in a Track:", "Text"],

Cell[BoxData[
    \(ElementType[Track]\)], "Input"],

Cell["Event has members:", "Text"],

Cell[BoxData[
    \(Members[Event]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[Event]\)], "Input"],

Cell["An example creating a Event the basic way is therefore:", "Text"],

Cell[BoxData[
    \(e = Event[{100, {{1, 0}, {60, 64}}}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      Event[{100, {{1, 0}, {60, 64}}}, donald \[Rule] duck, 
        mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called Event[data,opts___] it is stored as \
Event[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default Event:", "Text"],

Cell[BoxData[
    \(e = Event[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["There are some EventType's and parts of EventType's defined:", "Text"],

Cell[BoxData[
    \(EventTypeNoteOff\)], "Input"],

Cell[BoxData[
    \(EventTypeNoteOn\)], "Input"],

Cell["\<\
The EventTypes's of channel event's like noteon's and noteoff's are \
stored as {type, channel}\
\>", "Text"],

Cell[BoxData[
    \(EventTypeMeta\)], "Input"],

Cell["\<\
The EventTypes's of meta event's like eot and tempo are stored as \
{EventTypeMeta, type}
The Length of the data is omitted\
\>", "Text"],

Cell[BoxData[
    \(EventTypeEOT\)], "Input"],

Cell[BoxData[
    \(EventTypeKeySignature\)], "Input"],

Cell[BoxData[
    \(EventTypeTempo\)], "Input"],

Cell[BoxData[
    \(EventTypeTimeSignature\)], "Input"],

Cell["\<\
The EventTypes's of sysx event's are stored as EventTypeSysX0 or \
EventTypeSysX7
The Length of the data is omitted\
\>", "Text"],

Cell[BoxData[
    \(EventTypeSysX0\)], "Input"],

Cell[BoxData[
    \(EventTypeSysX7\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Track", "Subsection"],

Cell["Track is a contiainer:", "Text"],

Cell[BoxData[
    \(ContainerQ[Track]\)], "Input"],

Cell["Track's contains:", "Text"],

Cell[BoxData[
    \(ElementType[Track]\)], "Input"],

Cell["Track's are contained in a Midi's:", "Text"],

Cell[BoxData[
    \(ElementType[Midi]\)], "Input"],

Cell["An example creating a Track the basic way is therefore:", "Text"],

Cell[BoxData[
    \(c = Track[{Event[], Event[]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(c = 
      Track[{Event[], 
          Event[{1, {{0, 0}, {60, 0}}}, donald \[Rule] duck, 
            mickey \[Rule] mouse]}, bat \[Rule] man, 
        cat \[Rule] woman]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(Data[c]\)], "Input"],

Cell["\<\
While the constructor is called Track[data,opts___] it is stored as \
Track[{opts},data],
observe also how the elements are stored differently if they have opts:\
\>", \
"Text"],

Cell[BoxData[
    \(c // InputForm\)], "Input"],

Cell["To convert to a list of Event's:", "Text"],

Cell[BoxData[
    \(e = Event[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules /@ e // ColumnForm\)], "Input"],

Cell["Mix, Par and Seq:", "Text"],

Cell[BoxData[
    \(Mix[{c, c}]\)], "Input"],

Cell[BoxData[
    \(Par[{c, c}]\)], "Input"],

Cell[BoxData[
    \(Seq[{c, c}]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Midi", "Subsection"],

Cell["Midi is a contiainer:", "Text"],

Cell[BoxData[
    \(ContainerQ[Midi]\)], "Input"],

Cell["Midi's contains:", "Text"],

Cell[BoxData[
    \(ElementType[Midi]\)], "Input"],

Cell["An example creating a Midi the basic way is therefore:", "Text"],

Cell[BoxData[
    \(c = 
      Midi[{Track[{Event[], Event[]}], Track[{Event[], Event[]}]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(c = 
      Midi[{Track[{Event[], Event[]}], 
          Track[{Event[], Event[]}, donald \[Rule] duck, 
            mickey \[Rule] mouse]}, bat \[Rule] man, 
        cat \[Rule] woman]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(Data[c]\)], "Input"],

Cell["\<\
While the constructor is called Midi[data,opts___] it is stored as \
Midi[{opts},data],
observe also how the elements are stored differently if they have opts:\
\>", \
"Text"],

Cell[BoxData[
    \(c // InputForm\)], "Input"],

Cell["To convert to a list of Track's:", "Text"],

Cell[BoxData[
    \(e = Track[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules /@ e // ColumnForm\)], "Input"],

Cell["To convert to a list of Event's:", "Text"],

Cell[BoxData[
    \(e = Event[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(\(DataToRules /@ # &\) /@ e // ColumnForm\)], "Input"],

Cell["Mix, Par and Seq:", "Text"],

Cell[BoxData[
    \(Mix[{c, c}]\)], "Input"],

Cell["\<\
Par will currently only use the first Track (mastertrack) from the \
first Midi object.\
\>", "Text"],

Cell[BoxData[
    \(Par[{c, c}]\)], "Input"],

Cell[BoxData[
    \(Seq[{c, c}]\)], "Input"],

Cell["You can change the time-unit in a Midi object...", "Text"],

Cell[BoxData[
    \(c = Import[cor, Midi]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(EventTime[c[\([1]\)]]\)], "Input"],

Cell["...to Second...", "Text"],

Cell[BoxData[
    \(c = Midi[c, TimeUnit \[Rule] Second]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(EventTime[c[\([1]\)]]\)], "Input"],

Cell["...to MilliSecond...", "Text"],

Cell[BoxData[
    \(c = Midi[c, TimeUnit \[Rule] MilliSecond]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(EventTime[c[\([1]\)]]\)], "Input"],

Cell["...to Tick", "Text"],

Cell[BoxData[
    \(c = Midi[c, TimeUnit \[Rule] Tick]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(EventTime[c[\([1]\)]]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Tempo", "Subsection"],

Cell["Tempo is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[Tempo]\)], "Input"],

Cell["Tempo's are contained in a TempoTrack:", "Text"],

Cell[BoxData[
    \(ElementType[TempoTrack]\)], "Input"],

Cell["Tempo has members:", "Text"],

Cell[BoxData[
    \(Members[Tempo]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[Tempo]\)], "Input"],

Cell["An example creating a Tempo the basic way is therefore:", "Text"],

Cell[BoxData[
    \(e = Tempo[{0, 80}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      Tempo[{0, 80}, donald \[Rule] duck, mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called Tempo[data,opts___] it is stored as \
Tempo[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default Tempo:", "Text"],

Cell[BoxData[
    \(e = Tempo[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["TempoTrack", "Subsection"],

Cell["TempoTrack is a contiainer:", "Text"],

Cell[BoxData[
    \(ContainerQ[TempoTrack]\)], "Input"],

Cell["TempoTrack's contains:", "Text"],

Cell[BoxData[
    \(ElementType[TempoTrack]\)], "Input"],

Cell["An example creating a TempoTrack the basic way is therefore:", "Text"],

Cell[BoxData[
    \(c = TempoTrack[{Tempo[], Tempo[]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(c = 
      TempoTrack[{Tempo[], 
          Tempo[{200, 90}, donald \[Rule] duck, mickey \[Rule] mouse]}, 
        bat \[Rule] man, cat \[Rule] woman]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(Data[c]\)], "Input"],

Cell["\<\
While the constructor is called TempoTrack[data,opts___] it is \
stored as TempoTrack[{opts},data],
observe also how the elements are stored differently if they have opts:\
\>", \
"Text"],

Cell[BoxData[
    \(c // InputForm\)], "Input"],

Cell["To convert to a list of Tempo's:", "Text"],

Cell[BoxData[
    \(e = Tempo[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules /@ e // ColumnForm\)], "Input"],

Cell["Call Convert to get conversion functions:", "Text"],

Cell[BoxData[
    \(\(Convert[Tick, Second, c]\)[200]\)], "Input"],

Cell[BoxData[
    \(\(Convert[Second, Tick, c]\)[10/48]\)], "Input"],

Cell["\<\
You can supply a Midi object with tempo events in track \
one...\
\>", "Text"],

Cell[BoxData[
    \(m = Import[cor, Midi]\)], "Input"],

Cell[BoxData[
    \(TotalDuration[m]\)], "Input"],

Cell[BoxData[
    \(\(Convert[Tick, Second, m]\)[TotalDuration[m]] // N\)], "Input"],

Cell[BoxData[
    \(\(Convert[Second, Tick, m]\)[42.5006]\)], "Input"],

Cell["...or a QPM (quarters per minute)", "Text"],

Cell[BoxData[
    \(\(Convert[Tick, Second, 120]\)[1000] // N\)], "Input"],

Cell[BoxData[
    \(\(Convert[Second, Tick, 120]\)[45]\)], "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Tuning", "Subtitle"],

Cell["Tuning defaults to EqualTemperament.", "Text"],

Cell[BoxData[
    \(Tuning\)], "Input"],

Cell[CellGroupData[{

Cell["EqualTemperament", "Subsection"],

Cell["EqualTemperament is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[EqualTemperament]\)], "Input"],

Cell["EqualTemperament has members:", "Text"],

Cell[BoxData[
    \(Members[EqualTemperament]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[EqualTemperament]\)], "Input"],

Cell["\<\
An example creating a EqualTemperament the basic way is \
therefore:\
\>", "Text"],

Cell[BoxData[
    \(e = EqualTemperament[{{30, 300}, {17, 2}}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      EqualTemperament[{{30, 300}, {17, 2}}, donald \[Rule] duck, 
        mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called EqualTemperament[data,opts___] it \
is stored as EqualTemperament[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default EqualTemperament:", "Text"],

Cell[BoxData[
    \(e = EqualTemperament[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can easily create another kind of eq-tuning, :", "Text"],

Cell[BoxData[
    \(e = EqualTemperament[{{69, 440}, {19, 3}}]\)], "Input"],

Cell["\<\
The function Convert takes a tuning object and returns a function \
for tuning.\
\>", "Text"],

Cell[BoxData[
    \(\(f = Convert[PitchCode, Frequency, e];\)\)], "Input"],

Cell[BoxData[
    \(f[69]\)], "Input"],

Cell[BoxData[
    \(\(g = Convert[Frequency, PitchCode, e];\)\)], "Input"],

Cell[BoxData[
    \(g[%%]\)], "Input"],

Cell["You can also use the tuning-object as a function directly:", "Text"],

Cell[BoxData[
    \(e /@ Range[60, 72] // N\)], "Input"],

Cell["\<\
Getting the FrequencyRatios is not very exiting on \
EqualTemperament:\
\>", "Text"],

Cell[BoxData[
    \(FrequencyRatios[e]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["CustomTuning", "Subsection"],

Cell["This object is for other tunings like meantone and others.", "Text"],

Cell["\<\
A know, the name is awful, but i couldn't come up with a better \
one.\
\>", "Text"],

Cell["CustomTuning is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[CustomTuning]\)], "Input"],

Cell["CustomTuning has members:", "Text"],

Cell[BoxData[
    \(Members[CustomTuning]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[CustomTuning]\)], "Input"],

Cell["\<\
An example creating a CustomTuning the basic way is \
therefore:\
\>", "Text"],

Cell[BoxData[
    \(e = CustomTuning[{{60, 400}, {9/8, 9/8, 9/8, 9/8, 9/8}}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      CustomTuning[{{60, 400}, {9/8, 9/8, 9/8, 9/8, 9/8}}, 
        donald \[Rule] duck, mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called CustomTuning[data,opts___] it is \
stored as CutomTuning[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default CustomTuning:", "Text"],

Cell[BoxData[
    \(e = CustomTuning[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["The values for the default is computed like this:", "Text"],

Cell[BoxData[
    \(\(f = Convert[PitchCode, Frequency, EqualTemperament[]];\)\)], "Input"],

Cell[BoxData[
    \(Table[Rationalize[N[f[pc]/f[0]], 0.03], {pc, 0, 12}]\)], "Input"],

Cell[BoxData[
    \(ValuesToRatios[%]\)], "Input"],

Cell["You can get the FrequencyOctave:", "Text"],

Cell[BoxData[
    \(FrequencyOctave[e]\)], "Input"],

Cell["You can get the PitchCodeOctave:", "Text"],

Cell[BoxData[
    \(PitchCodeOctave[e]\)], "Input"],

Cell["Get the conversion-functions:", "Text"],

Cell[BoxData[
    \(\(f = Convert[PitchCode, Frequency, e];\)\)], "Input"],

Cell[BoxData[
    \(\(g = Convert[Frequency, PitchCode, e];\)\)], "Input"],

Cell[BoxData[
    \(f /@ Range[60, 72]\)], "Input"],

Cell[BoxData[
    \(g /@ %\)], "Input"],

Cell["You can use decimals:", "Text"],

Cell[BoxData[
    \(f /@ {33.45, 44.12, 66.7765, 88.6543}\)], "Input"],

Cell[BoxData[
    \(g /@ %\)], "Input"],

Cell["\<\
Another example, using the data from default \
EqualTemperament:\
\>", "Text"],

Cell[BoxData[
    \(e = 
      CustomTuning[{{PitchCodeRef[Tuning], FrequencyRef[Tuning]}, 
          FrequencyRatios[Tuning]}]\)], "Input"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["Get the conversion-functions:", "Text"],

Cell[BoxData[
    \(\(f = Convert[PitchCode, Frequency, e];\)\)], "Input"],

Cell[BoxData[
    \(\(g = Convert[Frequency, PitchCode, e];\)\)], "Input"],

Cell[BoxData[
    \(f /@ Range[60, 72]\)], "Input"],

Cell[BoxData[
    \(g /@ %\)], "Input"],

Cell["\<\
Compare the EqualTemperament with the CustomTuning for the same \
data. While being the same for integers, they differ on decimals.\
\>", "Text"],

Cell[BoxData[
    \(\(e = Convert[PitchCode, Frequency, EqualTemperament[]];\)\)], "Input"],

Cell[BoxData[
    \(And @@ \((\(e[#] \[Equal] f[#] &\) /@ Range[60, 72])\)\)], "Input"],

Cell[BoxData[
    \(Plot[f[p]/e[p], {p, 60, 72}]\)], "Input"],

Cell["\<\
If you have a list of cents,as in the scales in \
Miscellaneous`Music`,this is what you do:\
\>", "Text"],

Cell[BoxData[
    \(<< Miscellaneous`Music`\)], "Input"],

Cell[BoxData[
    \(e = 
      CustomTuning[{{69, 440}, 
          ValuesToRatios[\(2^\((#/1200)\) &\) /@ JustMajor]}]\)], "Input"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["Note that the PitchCodeOctave is only 7", "Text"],

Cell[BoxData[
    \(PitchCodeOctave[e]\)], "Input"],

Cell["\<\
There are more scales in Miscellaneous`Music` to choose from:\
\>", \
"Text"],

Cell[BoxData[
    \({QuarterTone, PythagoreanMajor, PythagoreanChromatic, MeanMajor, 
        MeanMinor, MeanChromatic, SixthTone, JustMajor, JustMinor, 
        TemperedMajor, TemperedMinor, TemperedChromatic} // 
      ColumnForm\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Overtone", "Subsection"],

Cell["\<\
The PitchCode for the n:th overtone (one-based and currently for \
plucked strings only):\
\>", "Text"],

Cell[BoxData[
    \(\(\(Convert[{PitchCode, Overtone}, PitchCode, Tuning]\)[60, #] &\) /@ 
      Range[6]\)], "Input"],

Cell[BoxData[
    \(% // N\)], "Input"],

Cell[BoxData[
    \(\(\(Convert[{PitchCode, Overtone}, PitchCode, CustomTuning[]]\)[
          60, #] &\) /@ Range[6]\)], "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Instrument", "Subtitle"],

Cell["Instrument defaults to BasicInstrument.", "Text"],

Cell["BasicInstrument is a bad name, it will probably change.", "Text"],

Cell[BoxData[
    \(Instrument\)], "Input"],

Cell[CellGroupData[{

Cell["BasicInstrument", "Subsection"],

Cell["BasicInstrument is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[BasicInstrument]\)], "Input"],

Cell["BasicInstrument has members:", "Text"],

Cell[BoxData[
    \(Members[BasicInstrument]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[BasicInstrument]\)], "Input"],

Cell["\<\
An example creating a BasicInstrument the basic way is therefore:\
\
\>", "Text"],

Cell[BoxData[
    \(e = 
      BasicInstrument[{Function[p, Log[2, p]], Function[v, v/127], 
          Function[{f, a, sr}, a\ Sin[f\ #/sr] &]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      BasicInstrument[{Function[p, Log[2, p]], Function[v, v/127], 
          Function[{f, a, sr}, a\ Sin[f\ #/sr] &]}, donald \[Rule] duck, 
        mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called BAsicInstrument[data,opts___] it is \
stored as BasicInstrument[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default BasicInstrument:", "Text"],

Cell[BoxData[
    \(e = BasicInstrument[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["\<\
PitchCodeToFrequency is a function converting PitchCode to \
Frequency. Default is:\
\>", "Text"],

Cell[BoxData[
    \(Convert[PitchCode, Frequency, Tuning]\)], "Input"],

Cell["\<\
VelocityToAmplitude is a function converting Velocity to Amplitude. \
Default is currently VERY simple:\
\>", "Text"],

Cell[BoxData[
    \(Function[v, v/127]\)], "Input"],

Cell["\<\
TimeToSample is a function converting Frequency, Amplitude and \
SampleRate to a function taking a sampleindex and returning a sample. Default \
is:\
\>", "Text"],

Cell[BoxData[
    \(Function[{f, a, sr}, N[a\ Sin[2  Pi\ f\ #/sr]] &]\)], "Input"],

Cell["\<\
The way to use an Instrument is to get its \
Conversion-function:\
\>", "Text"],

Cell[BoxData[
    \(\(f = Convert[Melody, Snippet, e];\)\)], "Input"],

Cell["And then to convert a Melody into a Snippet:", "Text"],

Cell[BoxData[
    \(f[Melody[{60, 62, 64, 65}]]\)], "Input"],

Cell["And then perhaps listen to it:", "Text"],

Cell[BoxData[
    \(Play2[%]\)], "Input"],

Cell[BoxData[
    \(Export["\<tmp.wav\>", %]\)], "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Spectrum", "Subtitle"],

Cell[CellGroupData[{

Cell["Tone", "Subsection"],

Cell["Tone is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[Tone]\)], "Input"],

Cell["Tone's are contained in a ToneSpectrum:", "Text"],

Cell[BoxData[
    \(ElementType[ToneSpectrum]\)], "Input"],

Cell["Tone has members:", "Text"],

Cell[BoxData[
    \(Members[Tone]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[Tone]\)], "Input"],

Cell["An example creating a Tone the basic way is therefore:", "Text"],

Cell[BoxData[
    \(e = Tone[{220, {0.3, 3/2  Pi}}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      Tone[{220, {0.3, 3/2  Pi}}, donald \[Rule] duck, 
        mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called Tone[data,opts___] it is stored as \
Tone[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default Tone:", "Text"],

Cell[BoxData[
    \(e = Tone[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["\<\
Tidy[_Tone] set Frequency and Amplitude positive and Phase Mod 2Pi.\
\
\>", "Text"],

Cell[BoxData[
    \(DataToRules[Tidy[Tone[{\(-100\), {\(-1\), 4  Pi}}]]] // 
      ColumnForm\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["ToneSpectrum", "Subsection"],

Cell["ToneSpectrum is a contiainer:", "Text"],

Cell[BoxData[
    \(ContainerQ[ToneSpectrum]\)], "Input"],

Cell["ToneSpectrum's contains:", "Text"],

Cell[BoxData[
    \(ElementType[ToneSpectrum]\)], "Input"],

Cell["\<\
An example creating a ToneSpectrum the basic way is \
therefore:\
\>", "Text"],

Cell[BoxData[
    \(c = ToneSpectrum[{Tone[], Tone[]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(c = 
      ToneSpectrum[{Tone[], 
          Tone[{3, {4, 5}}, donald \[Rule] duck, mickey \[Rule] mouse]}, 
        bat \[Rule] man, cat \[Rule] woman]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(Data[c]\)], "Input"],

Cell["\<\
While the constructor is called ToneSpectrum[data,opts___] it is \
stored as ToneSpectrum[{opts},data],
observe also how the elements are stored differently if they have opts:\
\>", \
"Text"],

Cell[BoxData[
    \(c // InputForm\)], "Input"],

Cell["To convert to a list of Tone's:", "Text"],

Cell[BoxData[
    \(e = Tone[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules /@ e // ColumnForm\)], "Input"],

Cell["\<\
Tidy[_ToneSpectrum] calls Tidy for all Tones, removes Tones where \
Amplitude is zero, merge tones with the same Frequency and sorts the Tone on \
Frequency.\
\>", "Text"],

Cell["\<\
Conversion from Snippet to ToneSpectrum use Fourier, while \
ToneSpectrum to Snippet currently use a bank of sines.\
\>", "Text"],

Cell[BoxData[
    \(c = ToneSpectrum[Snippet[Note[60]]]\)], "Input"],

Cell[BoxData[
    \(Max[Amplitude[c]]\)], "Input"],

Cell[BoxData[
    \(c = Select[c, %*0.9 < Amplitude[#] &]\)], "Input"],

Cell[BoxData[
    \(DataToRules[c]\)], "Input"],

Cell[BoxData[
    \(Tuning[60] // N\)], "Input"],

Cell[BoxData[
    \(Show[Sound[Snippet[c]]]\)], "Input"],

Cell["You can add Tones to get a spectrum:", "Text"],

Cell[BoxData[
    \(Tone[100] + Tone[200]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell["You can add ToneSpectrums to get a new spectrum:", "Text"],

Cell[BoxData[
    \(%% + %%\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell[BoxData[
    \(Tidy[%%]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell["You can multiply spectrums:", "Text"],

Cell[BoxData[
    \(%%*%%\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell[BoxData[
    \(Tidy[%%]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell["You can square them:", "Text"],

Cell[BoxData[
    \(%%^2\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell[BoxData[
    \(Tidy[%%]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Naming", "Subtitle"],

Cell["\<\
Functions for naming notes and chords.
They can easily be changed or extended (i'll document that another day...).
The way to call them might change in the future, im not quite happy with them \
yet. Ideas anyone?\
\>", "Text"],

Cell["\<\
There is currently only one type of note-naming, HelixNoteNaming, \
to which NoteNaming defaults to.\
\>", "Text"],

Cell[BoxData[
    \(NoteNaming\)], "Input"],

Cell["\<\
There is currently only one type of \
chord-naming,HelixChordNaming,to which ChordNaming defaults to.\
\>", "Text"],

Cell[BoxData[
    \(ChordNaming\)], "Input"],

Cell["\<\
Both b and \[Flat] are accepted as flats, and both # and \[Sharp] \
as sharps.\
\>", "Text"],

Cell[CellGroupData[{

Cell["HelixNoteNaming", "Subsection"],

Cell["HelixNoteNaming is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[HelixNoteNaming]\)], "Input"],

Cell["HelixNoteNaming has members:", "Text"],

Cell[BoxData[
    \(Members[HelixNoteNaming]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[HelixNoteNaming]\)], "Input"],

Cell["\<\
An example creating a HelixNoteNaming the basic way is therefore:\
\
\>", "Text"],

Cell[BoxData[
    \(e = 
      HelixNoteNaming[{7, {"\<p\>", "\<q\>", "\<r\>", "\<s\>"}, {3, 5, 1}, 
          0}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      HelixNoteNaming[{7, {"\<p\>", "\<q\>", "\<r\>", "\<s\>"}, {3, 5, 1}, 
          0}, donald \[Rule] duck, mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called HelixNoteNaming[data,opts___] it is \
stored as HelixNoteNaming[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default HelixNoteNaming:", "Text"],

Cell[BoxData[
    \(e = HelixNoteNaming[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["\<\
The name of the note 60 to 71 in G major (The second parameter is \
the number of sharps/flats, one #)\
\>", "Text"],

Cell[BoxData[
    \(\(NoteNaming[#, 1] &\) /@ Range[60, 71]\)], "Input"],

Cell["The name of the note 60 to 71 in Bb major (two b's)", "Text"],

Cell[BoxData[
    \(\(NoteNaming[#, \(-2\)] &\) /@ Range[60, 71]\)], "Input"],

Cell["\<\
Calling NoteNaming directly is costly. Better to get the function \
first and then call it.\
\>", "Text"],

Cell[BoxData[
    \(\(f = Convert[PitchCode, String, NoteNaming];\)\)], "Input"],

Cell["The second parameter is the number of sharps/flats", "Text"],

Cell[BoxData[
    \(\(f[#, 5] &\) /@ Range[60, 71]\)], "Input"],

Cell["The reverse function", "Text"],

Cell[BoxData[
    \(\(g = Convert[String, PitchCode, NoteNaming];\)\)], "Input"],

Cell[BoxData[
    \(g /@ \((\(f[#, 5] &\) /@ Range[60, 71])\)\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["HelixChordNaming", "Subsection"],

Cell["HelixChordNaming is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[HelixChordNaming]\)], "Input"],

Cell["HelixChordNaming has members:", "Text"],

Cell[BoxData[
    \(Members[HelixChordNaming]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[HelixChordNaming]\)], "Input"],

Cell["\<\
An example creating a HelixChordNaming the basic way is \
therefore:\
\>", "Text"],

Cell[BoxData[
    \(e = 
      HelixChordNaming[{HelixNoteNaming[{7, {"\<p\>", "\<q\>", "\<r\>", \
"\<s\>"}, {3, 5, 1}, 
              0}], {{{"\<x\>"}, {0, 2, 4}}, {{"\<y\>"}, {0, 3, 
                4}}}}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      HelixChordNaming[{HelixNoteNaming[{7, {"\<p\>", "\<q\>", "\<r\>", \
"\<s\>"}, {3, 5, 1}, 0}], {{{"\<x\>"}, {0, 2, 4}}, {{"\<y\>"}, {0, 3, 4}}}}, 
        donald \[Rule] duck, mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called HelixChordNaming[data,opts___] it \
is stored as HelixChordNaming[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default HelixChordNaming:", "Text"],

Cell[BoxData[
    \(e = HelixChordNaming[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["\<\
The types of chords currently handled by the default chord-naming \
are:\
\>", "Text"],

Cell[BoxData[
    \(\(#[\([1, 1]\)] &\) /@ ChordNames[ChordNaming]\)], "Input"],

Cell["\<\
You can call ChordNaming directly, as with NoteNaming. The second \
parameter is the number of sharps/flats.\
\>", "Text"],

Cell[BoxData[
    \(ChordNaming[{0, 4, 7} + 3, 1]\)], "Input"],

Cell["...but getting the function first is better.", "Text"],

Cell[BoxData[
    \(\(f = Convert[{PitchCode}, String, ChordNaming];\)\)], "Input"],

Cell["The current scheme takes inversions into account.", "Text"],

Cell[BoxData[
    \(f[{3, 7, 12}, 0]\)], "Input"],

Cell[BoxData[
    \(f[{0, 4, 7, 9}, 0]\)], "Input"],

Cell["Sometimes the result contain several alternatives.", "Text"],

Cell[BoxData[
    \(f[{0, 5, 7}, 0]\)], "Input"],

Cell[BoxData[
    \(f[{0, 3, 6, 9} + 3, 0]\)], "Input"],

Cell[BoxData[
    \(f[{0, 4, 8} + 5, 0]\)], "Input"],

Cell["\<\
If there is no chord with the given set of pc's, the scheme is to \
take the notes mod 12 and search for alien notes wich will be treated as \
bass.\
\>", "Text"],

Cell[BoxData[
    \(f[{0, 1, 3, 7}, 0]\)], "Input"],

Cell[BoxData[
    \(f[{0, 3, 6, 7}, 0]\)], "Input"],

Cell["The reverse function.", "Text"],

Cell[BoxData[
    \(\(g = Convert[String, {PitchCode}, ChordNaming];\)\)], "Input"],

Cell[BoxData[
    \(g["\<GbMaj7\>"]\)], "Input"],

Cell["An oddly notated chord:", "Text"],

Cell[BoxData[
    \(g["\<B##m/Fbb\>"]\)], "Input"],

Cell[BoxData[
    \(f[%, 11]\)], "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["PianoRoll", "Subtitle"],

Cell["\<\
PianoRoll IS going to change!!
Its just an initial port from musica (the old one).\
\>", "Text"],

Cell["The options WILL change.", "Text"]
}, Closed]],

Cell[CellGroupData[{

Cell["ValueObject", "Subtitle"],

Cell[TextData[StyleBox["This module is VERY experimental. Things are very \
likely to change or even be removed.",
  FontWeight->"Bold"]], "Text"],

Cell[CellGroupData[{

Cell["Intro", "Subsection"],

Cell["\<\
As shown in the Pattern-chapter I have tried to make Musica2 \
Type-Oriented and not OO. This is somewhat changed in this module as you will \
see.\
\>", "Text"],

Cell["\<\
I wanted anything that could be converted to a Track and/or to a \
Snippet to be able to be arranged together in a structure that also could be \
recursive. I also wanted the objects to be able to have a fixed starting time \
as well as being concatenated i a row. This resulted in DurationObjectTrack, \
TimedObject and TimedObjectTrack.\
\>", "Text"],

Cell["\<\
Then I also wanted a general structure for Note,Chord,Melody and so \
on, and possibly for controllers and other stuff as well. This resulted in \
DurationValue, DurationValueTrack and TypeValue.\
\>", "Text"],

Cell["\<\
This module depends heavily on many other modules, something that \
will be reversed if this module works well.\
\>", "Text"]
}, Closed]],

Cell[CellGroupData[{

Cell["DurationObjectTrack", "Subsection"],

Cell[TextData[{
  "DurationObjectTrack is ",
  StyleBox["NOT",
    FontWeight->"Bold"],
  " a contiainer in the sofar usual sence, and definately ",
  StyleBox["NOT",
    FontWeight->"Bold"],
  " according to the pattern."
}], "Text"],

Cell[BoxData[
    \(ContainerQ[DurationObjectTrack]\)], "Input"],

Cell[TextData[{
  "DurationObjectTrack's contains anything that can be passed as an argument \
to TotalDuration, Track and Snippet, so this ",
  StyleBox["dont work",
    FontWeight->"Bold"],
  ":"
}], "Text"],

Cell[BoxData[
    \(ElementType[DurationObjectTrack]\)], "Input"],

Cell["\<\
An example creating a DurationObjectTrack the basic way is \
therefore:\
\>", "Text"],

Cell[BoxData[
    \(c = DurationObjectTrack[{Note[30], Chord[{40, 50, 60}]}]\)], "Input"],

Cell[TextData[{
  "View the data as rules ",
  StyleBox["dont work",
    FontWeight->"Bold"],
  ":"
}], "Text"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["Use Data instead:", "Text"],

Cell[BoxData[
    \(Data[c]\)], "Input"],

Cell[TextData[{
  "You can ",
  StyleBox["NOT",
    FontWeight->"Bold"],
  " add custom options to an object of this type, you can only do that toits \
elements:"
}], "Text"],

Cell[BoxData[
    \(c = 
      DurationObjectTrack[{Note[30], 
          Chord[{40, 50, 60}, donald \[Rule] duck, 
            mickey \[Rule] mouse]}]\)], "Input"],

Cell[TextData[{
  "Calling Opts ",
  StyleBox["dont work",
    FontWeight->"Bold"],
  ":"
}], "Text"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell["Calling Data works:", "Text"],

Cell[BoxData[
    \(Data[c]\)], "Input"],

Cell["To convert to a list of Object's:", "Text"],

Cell[BoxData[
    \(e = Data[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules /@ e // ColumnForm\)], "Input"],

Cell["Then call Duration, Track and Snippet:", "Text"],

Cell[BoxData[
    \(Duration[c]\)], "Input"],

Cell[BoxData[
    \(TotalDuration[c]\)], "Input"],

Cell[BoxData[
    \(DataToRules[Track[c]]\)], "Input"],

Cell[BoxData[
    \(Show[Sound[Snippet[c]]]\)], "Input"],

Cell["\<\
You can use DurationObjectTracks inside a DurationObjectTrack \
(Composite-pattern):\
\>", "Text"],

Cell[BoxData[
    \(DurationObjectTrack[{c, c}]\)], "Input"],

Cell[BoxData[
    \(Data[%]\)], "Input"],

Cell[BoxData[
    \(DataToRules[Track[%%]]\)], "Input"],

Cell[BoxData[
    \(Show[Sound[Snippet[%%%]]]\)], "Input"],

Cell["Converters of interest:", "Text"],

Cell[BoxData[
    \(DurationObjectTrack[TimedObjectTrack[{}]]\)], "Input"],

Cell[BoxData[
    \(Data[DurationObjectTrack[Melody[{10, 20, 30, 40}]]]\)], "Input"],

Cell[BoxData[
    \(Data[
      DurationObjectTrack[
        Progression[{Chord[{11, 22, 33}], Chord[{12, 23, 34}], 
            Chord[{13, 24, 35}]}]]]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["TimedObject", "Subsection"],

Cell["TimedObject is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[TimedObject]\)], "Input"],

Cell["TimedObject's are contained in a TimedObjectTrack:", "Text"],

Cell[BoxData[
    \(ElementType[TimedObjectTrack]\)], "Input"],

Cell["TimedObject has members:", "Text"],

Cell[BoxData[
    \(Members[TimedObject]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[TimedObject]\)], "Input"],

Cell["\<\
An example creating a TimedObject the basic way is therefore:\
\>", \
"Text"],

Cell[BoxData[
    \(e = TimedObject[{Note[50], 1024}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      TimedObject[{Note[50], 1024}, donald \[Rule] duck, 
        mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called TimedObject[data,opts___] it is \
stored as TimedObject[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default TimedObject:", "Text"],

Cell[BoxData[
    \(e = TimedObject[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["Converters of interest are:", "Text"],

Cell[BoxData[
    \(DataToRules[TimedObject[Event[]]]\)], "Input"],

Cell["where the Event made into an EventMessage below:", "Text"],

Cell[BoxData[
    \(DataToRules[Object /. %]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["TimedObjectTrack", "Subsection"],

Cell["TimedObjectTrack is a contiainer:", "Text"],

Cell[BoxData[
    \(ContainerQ[TimedObjectTrack]\)], "Input"],

Cell["TimedObjectTrack's contains:", "Text"],

Cell[BoxData[
    \(ElementType[TimedObjectTrack]\)], "Input"],

Cell["\<\
An example creating a TimedObjectTrack the basic way is \
therefore:\
\>", "Text"],

Cell[BoxData[
    \(c = TimedObjectTrack[{TimedObject[], TimedObject[]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(c = 
      TimedObjectTrack[{TimedObject[], 
          TimedObject[{Note[50], 1024}, donald \[Rule] duck, 
            mickey \[Rule] mouse]}, bat \[Rule] man, 
        cat \[Rule] woman]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(Data[c]\)], "Input"],

Cell["\<\
While the constructor is called TimedObjectTrack[data,opts___] it \
is stored as TimedObjectTrack[{opts},data],
observe also how the elements are stored differently if they have opts:\
\>", \
"Text"],

Cell[BoxData[
    \(c // InputForm\)], "Input"],

Cell["To convert to a list of TimedObject's:", "Text"],

Cell[BoxData[
    \(e = TimedObject[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules /@ e // ColumnForm\)], "Input"],

Cell["Converters of interest:", "Text"],

Cell[BoxData[
    \(TimedObjectTrack[DurationObjectTrack[{}]]\)], "Input"],

Cell[BoxData[
    \(TimedObjectTrack[Track[{}]]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["EventMessage", "Subsection"],

Cell["EventMessage is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[EventMessage]\)], "Input"],

Cell["EventMessage has members:", "Text"],

Cell[BoxData[
    \(Members[EventMessage]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[EventMessage]\)], "Input"],

Cell["\<\
An example creating a EventMessage the basic way is \
therefore:\
\>", "Text"],

Cell[BoxData[
    \(e = EventMessage[{{EventTypeNoteOn, 1}, {44, 55}}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      EventMessage[{{EventTypeNoteOn, 1}, {44, 55}}, donald \[Rule] duck, 
        mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called EventMessage[data,opts___] it is \
stored as EventMessage[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default EventMessage:", "Text"],

Cell[BoxData[
    \(e = EventMessage[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["Converters of interest:", "Text"],

Cell[BoxData[
    \(Event[EventMessage[]]\)], "Input"],

Cell[BoxData[
    \(EventMessage[Event[]]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["DurationValue", "Subsection"],

Cell["DurationValue is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[DurationValue]\)], "Input"],

Cell["DurationValue's are contained in a DurationValueTrack:", "Text"],

Cell[BoxData[
    \(ElementType[DurationValueTrack]\)], "Input"],

Cell["DurationValue has members:", "Text"],

Cell[BoxData[
    \(Members[DurationValue]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[DurationValue]\)], "Input"],

Cell["\<\
An example creating a DurationValue the basic way is \
therefore:\
\>", "Text"],

Cell[BoxData[
    \(e = DurationValue[{1024, {50, 64}}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      DurationValue[{1024, {50, 64}}, donald \[Rule] duck, 
        mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called DurationValue[data,opts___] it is \
stored as DurationValue[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default DurationValue:", "Text"],

Cell[BoxData[
    \(e = DurationValue[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["Converters of interest:", "Text"],

Cell[BoxData[
    \(DataToRules[DurationValue[Chord[{1, 2, 3}]]]\)], "Input"],

Cell[BoxData[
    \(DataToRules[DurationValue[Note[50]]]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["DurationValueTrack", "Subsection"],

Cell["DurationValueTrack is a contiainer:", "Text"],

Cell[BoxData[
    \(ContainerQ[DurationValueTrack]\)], "Input"],

Cell["DurationValueTrack's contains:", "Text"],

Cell[BoxData[
    \(ElementType[DurationValueTrack]\)], "Input"],

Cell["\<\
An example creating a DurationValueTrack the basic way is \
therefore:\
\>", "Text"],

Cell[BoxData[
    \(c = DurationValueTrack[{DurationValue[], DurationValue[]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(c = 
      DurationValueTrack[{DurationValue[], 
          DurationValue[{1024, {50, 64}}, donald \[Rule] duck, 
            mickey \[Rule] mouse]}, bat \[Rule] man, 
        cat \[Rule] woman]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(Data[c]\)], "Input"],

Cell["\<\
While the constructor is called DurationValueTrack[data,opts___] it \
is stored as DurationValueTrack[{opts},data],
observe also how the elements are stored differently if they have opts:\
\>", \
"Text"],

Cell[BoxData[
    \(c // InputForm\)], "Input"],

Cell["To convert to a list of DurationValue's:", "Text"],

Cell[BoxData[
    \(e = DurationValue[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules /@ e // ColumnForm\)], "Input"],

Cell["Converters of interest:", "Text"],

Cell[BoxData[
    \(DataToRules[
      DurationValueTrack[
        Counterpoint[{Melody[{1, 2}], Melody[{3, 4}]}]]]\)], "Input"],

Cell[BoxData[
    \(DataToRules[DurationValueTrack[Melody[{1, 2}]]]\)], "Input"],

Cell[BoxData[
    \(DataToRules[
      DurationValueTrack[
        Progression[{Chord[{1, 2, 3}], Chord[{4, 5, 6}]}]]]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["TypeValue", "Subsection"],

Cell["TypeValue is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[TypeValue]\)], "Input"],

Cell["TypeValue has members:", "Text"],

Cell[BoxData[
    \(Members[TypeValue]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[TypeValue]\)], "Input"],

Cell["An example creating a TypeValue the basic way is therefore:", "Text"],

Cell[BoxData[
    \(e = 
      TypeValue[{{EventTypePitchBend, 1}, DurationValueTrack[{}]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      TypeValue[{{EventTypePitchBend, 1}, DurationValueTrack[{}]}, 
        donald \[Rule] duck, mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called TypeValue[data,opts___] it is \
stored as TypeValue[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default TypeValue:", "Text"],

Cell[BoxData[
    \(e = TypeValue[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["Converters of interest:", "Text"],

Cell[BoxData[
    \(DataToRules /@ TypeValue[\(Import[cor, Midi]\)[\([1]\)]]\)], "Input"],

Cell[BoxData[
    \(DataToRules[
      TypeValue[\(Import[cor, 
            Midi]\)[\([1]\)], {EventTypeTimeSignature, _}]]\)], "Input"],

Cell[BoxData[
    \(DataToRules[Value /. %]\)], "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Comments", "Subtitle"],

Cell["\<\
Unfortunately I have not found a way to get the Convert-functions \
automatically loaded.
This means that You will have to load the actual package manually if not \
already loaded.\
\>", "Text"],

Cell["\<\
The non-trivial conversion-constructors are:
  Counterpoint[_Track] and Track[_Melody]
  Counterpoint[_Progression] and  Progression[_Counterpoint]
  Snippet[_Melody]
  Snippet[_ToneSpectrum] and ToneSpectrum[_Snippet]  
The rest of the conversion-constructors are quite simple and depend on the \
non-trivial ones.\
\>", "Text"]
}, Closed]],

Cell[CellGroupData[{

Cell["All symbols listed alphabetically", "Subtitle"],

Cell["\<\
You can get hold of almost all of the packages in Musica2 as a list \
of strings:\
\>", "Text"],

Cell[BoxData[
    \(Packages[Musica2]\)], "Input"],

Cell["\<\
You can get hold of all the symbols in Musica2 as a list of \
strings:\
\>", "Text"],

Cell[BoxData[
    \(Symbols[Musica2]\)], "Input"],

Cell[TextData[{
  "This will print all standard ",
  StyleBox["Mathematica",
    FontSlant->"Italic"],
  " ::usage texts (not the Usage-texts described above) in Musica2 (and you \
will se that there are still a lot (of) todo):"
}], "Text"],

Cell[BoxData[
    \(PrintUsage[Musica2]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["EventList", "Subtitle"],

Cell["\<\
Attention! If you evaluate this chapter the other chapters in this \
notebook will not work anymore as there are many symbol-conflicts between old \
Musica and the current Musica2.\
\>", "Text",
  FontWeight->"Bold"],

Cell["\<\
As you might have guessed, there are no EventList's in \
Musica2.\
\>", "Text"],

Cell["\<\
There is a function however that convert EventList's from old \
Musica to Midi objects in Musica2, but you have to load it manually. This \
will result in a lot of symbol-collisions...\
\>", "Text"],

Cell[BoxData[
    \(<< Musica2`EventList`\)], "Input"],

Cell["\<\
...so from now on we often have to state wich of two colliding \
symbols we refer to, be specific.\
\>", "Text"],

Cell["You also have to get the old Musica:", "Text"],

Cell[BoxData[
    \(<< Musica`\)], "Input"],

Cell["As an example, Import the choral using the old Musica:", "Text"],

Cell[BoxData[
    \(\(e = ImportMIDI[cor];\)\)], "Input"],

Cell["Take a look at the Head:", "Text"],

Cell[BoxData[
    \(e[\([0]\)] // ColumnForm\)], "Input"],

Cell["Then convert it:", "Text"],

Cell[BoxData[
    \(m = Midi[e]\)], "Input"],

Cell["Take a look at the opts:", "Text"],

Cell[BoxData[
    \(Opts[m]\)], "Input"],

Cell["The symbol PianoRoll collide, so we have to be specific:", "Text"],

Cell[BoxData[
    \(Musica2`PianoRoll`PianoRoll[m]\)], "Input"],

Cell["\<\
You can convert a specific track if you wish, but first you have to \
manually convert the data like this:\
\>", "Text"],

Cell[BoxData[
    \(\(x = 
        ConvertEventList[e, 
          EventList[MIDI, Musica`EventLists`MIDI`Messages`Tick, {}, 
            Null]];\)\)], "Input"],

Cell["Take a look at the Head:", "Text"],

Cell[BoxData[
    \(x[\([0]\)] // ColumnForm\)], "Input"],

Cell["Then convert a track:", "Text"],

Cell[BoxData[
    \(Musica2`Midi`Track[x[\([1]\)]]\)], "Input"],

Cell["Or convert just an event:", "Text"],

Cell[BoxData[
    \(Musica2`Midi`Event[x[\([1, 1]\)]]\)], "Input"],

Cell["\<\
Lots of symbol-collisions when both versions of Musica are loaded.
The rest of the examples in this document might not work anymore.\
\>", "Text"],

Cell["\<\
Currently only meta-events and notes are handled.
Look in EventList.m in Musica2 if you want to examine the functions.\
\>", \
"Text"]
}, Closed]]
}, Open  ]]
},
FrontEndVersion->"5.0 for X",
ScreenRectangle->{{0, 1600}, {0, 1200}},
AutoGeneratedPackage->Automatic,
WindowSize->{795, 1142},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
Magnification->1,
StyleDefinitions -> "Default.nb"
]

(*******************************************************************
Cached data follows.  If you edit this Notebook file directly, not
using Mathematica, you must remove the line containing CacheID at
the top of  the file.  The cache data will then be recreated when
you save this file from within Mathematica.
*******************************************************************)

(*CellTagsOutline
CellTagsIndex->{}
*)

(*CellTagsIndex
CellTagsIndex->{}
*)

(*NotebookFileOutline
Notebook[{

Cell[CellGroupData[{
Cell[1776, 53, 40, 1, 79, "Title"],
Cell[1819, 56, 53, 0, 32, "Text"],

Cell[CellGroupData[{
Cell[1897, 60, 27, 0, 51, "Subtitle"],
Cell[1927, 62, 720, 16, 284, "Text"]
}, Closed]],

Cell[CellGroupData[{
Cell[2684, 83, 27, 0, 53, "Subtitle"],
Cell[2714, 85, 991, 18, 284, "Text"]
}, Closed]],

Cell[CellGroupData[{
Cell[3742, 108, 27, 0, 53, "Subtitle"],
Cell[3772, 110, 45, 0, 32, "Text"],
Cell[3820, 112, 272, 5, 68, "Text"],
Cell[4095, 119, 55, 0, 32, "Text"]
}, Closed]],

Cell[CellGroupData[{
Cell[4187, 124, 24, 0, 53, "Subtitle"],
Cell[4214, 126, 117, 3, 32, "Text"],
Cell[4334, 131, 80, 2, 27, "Input",
  InitializationCell->True],
Cell[4417, 135, 37, 0, 32, "Text"],
Cell[4457, 137, 84, 2, 27, "Input",
  InitializationCell->True],
Cell[4544, 141, 92, 3, 32, "Text"],
Cell[4639, 146, 72, 2, 27, "Input",
  InitializationCell->True],
Cell[4714, 150, 70, 0, 32, "Text"],
Cell[4787, 152, 112, 2, 27, "Input",
  InitializationCell->True],
Cell[4902, 156, 775, 13, 107, "Input",
  InitializationCell->True],
Cell[5680, 171, 67, 0, 32, "Text"],
Cell[5750, 173, 166, 3, 43, "Input",
  InitializationCell->True]
}, Closed]],

Cell[CellGroupData[{
Cell[5953, 181, 29, 0, 53, "Subtitle"],
Cell[5985, 183, 51, 0, 32, "Text"],
Cell[6039, 185, 65, 1, 27, "Input"],
Cell[6107, 188, 39, 0, 32, "Text"],
Cell[6149, 190, 47, 1, 27, "Input"],
Cell[6199, 193, 24, 0, 32, "Text"],
Cell[6226, 195, 43, 1, 27, "Input"],
Cell[6272, 198, 36, 0, 32, "Text"],
Cell[6311, 200, 57, 1, 27, "Input"],
Cell[6371, 203, 36, 0, 32, "Text"],
Cell[6410, 205, 59, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[6506, 211, 42, 0, 53, "Subtitle"],
Cell[6551, 213, 32, 0, 32, "Text"],
Cell[6586, 215, 65, 1, 27, "Input"],
Cell[6654, 218, 56, 0, 32, "Text"],
Cell[6713, 220, 73, 1, 27, "Input"],
Cell[6789, 223, 31, 0, 32, "Text"],
Cell[6823, 225, 49, 1, 27, "Input"],
Cell[6875, 228, 51, 0, 32, "Text"],
Cell[6929, 230, 58, 1, 27, "Input"],
Cell[6990, 233, 54, 0, 32, "Text"],
Cell[7047, 235, 52, 1, 27, "Input"],
Cell[7102, 238, 63, 0, 32, "Text"],
Cell[7168, 240, 82, 1, 27, "Input"],
Cell[7253, 243, 49, 0, 32, "Text"],
Cell[7305, 245, 53, 1, 27, "Input"],
Cell[7361, 248, 44, 0, 32, "Text"],
Cell[7408, 250, 82, 1, 27, "Input"],
Cell[7493, 253, 41, 0, 32, "Text"],
Cell[7537, 255, 57, 1, 27, "Input"],
Cell[7597, 258, 39, 0, 32, "Text"],
Cell[7639, 260, 50, 1, 27, "Input"],
Cell[7692, 263, 24, 0, 32, "Text"],
Cell[7719, 265, 42, 1, 27, "Input"],
Cell[7764, 268, 36, 0, 32, "Text"],
Cell[7803, 270, 59, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[7899, 276, 47, 0, 53, "Subtitle"],
Cell[7949, 278, 135, 3, 32, "Text"],
Cell[8087, 283, 398, 8, 155, "Input"],
Cell[8488, 293, 61, 1, 27, "Input"],
Cell[8552, 296, 168, 4, 50, "Text"],
Cell[8723, 302, 38, 0, 32, "Text"],
Cell[8764, 304, 57, 1, 27, "Input"],
Cell[8824, 307, 63, 1, 27, "Input"],
Cell[8890, 310, 24, 0, 32, "Text"],
Cell[8917, 312, 57, 1, 27, "Input"],
Cell[8977, 315, 56, 1, 27, "Input"],
Cell[9036, 318, 33, 0, 32, "Text"],
Cell[9072, 320, 46, 1, 27, "Input"],
Cell[9121, 323, 24, 0, 32, "Text"],
Cell[9148, 325, 43, 1, 27, "Input"],
Cell[9194, 328, 26, 0, 32, "Text"],
Cell[9223, 330, 57, 1, 27, "Input"],
Cell[9283, 333, 87, 3, 32, "Text"],
Cell[9373, 338, 72, 1, 27, "Input"],
Cell[9448, 341, 63, 1, 27, "Input"],
Cell[9514, 344, 68, 0, 32, "Text"],
Cell[9585, 346, 73, 1, 27, "Input"],
Cell[9661, 349, 23, 0, 32, "Text"],
Cell[9687, 351, 47, 1, 27, "Input"],
Cell[9737, 354, 31, 0, 32, "Text"],
Cell[9771, 356, 59, 1, 27, "Input"],
Cell[9833, 359, 55, 0, 32, "Text"],
Cell[9891, 361, 67, 1, 27, "Input"],
Cell[9961, 364, 24, 0, 32, "Text"],
Cell[9988, 366, 43, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[10068, 372, 30, 0, 53, "Subtitle"],
Cell[10101, 374, 331, 6, 68, "Text"],
Cell[10435, 382, 192, 4, 50, "Text"],
Cell[10630, 388, 70, 0, 32, "Text"],
Cell[10703, 390, 43, 1, 27, "Input"],
Cell[10749, 393, 52, 1, 27, "Input"],
Cell[10804, 396, 107, 3, 32, "Text"],
Cell[10914, 401, 53, 1, 27, "Input"],
Cell[10970, 404, 31, 0, 32, "Text"],
Cell[11004, 406, 97, 3, 32, "Text"],
Cell[11104, 411, 60, 1, 27, "Input"],
Cell[11167, 414, 73, 0, 32, "Text"],
Cell[11243, 416, 64, 1, 27, "Input"],
Cell[11310, 419, 138, 3, 32, "Text"],
Cell[11451, 424, 60, 1, 27, "Input"],
Cell[11514, 427, 103, 3, 32, "Text"],
Cell[11620, 432, 54, 0, 32, "Text"]
}, Closed]],

Cell[CellGroupData[{
Cell[11711, 437, 42, 0, 53, "Subtitle"],

Cell[CellGroupData[{
Cell[11778, 441, 27, 0, 38, "Subsection"],
Cell[11808, 443, 130, 3, 32, "Text"],
Cell[11941, 448, 379, 8, 122, "Text"],
Cell[12323, 458, 205, 6, 32, "Text"],
Cell[12531, 466, 401, 7, 68, "Text"],
Cell[12935, 475, 192, 4, 50, "Text"],
Cell[13130, 481, 101, 3, 32, "Text"],
Cell[13234, 486, 293, 6, 50, "Text"],
Cell[13530, 494, 96, 3, 32, "Text"],
Cell[13629, 499, 401, 12, 68, "Text"]
}, Closed]],

Cell[CellGroupData[{
Cell[14067, 516, 43, 0, 30, "Subsection"],
Cell[14113, 518, 151, 4, 50, "Text"],
Cell[14267, 524, 430, 8, 139, "Input"],
Cell[14700, 534, 305, 8, 104, "Text"],
Cell[15008, 544, 166, 4, 50, "Text"],
Cell[15177, 550, 47, 1, 27, "Input"],
Cell[15227, 553, 44, 0, 32, "Text"],
Cell[15274, 555, 65, 1, 27, "Input"],
Cell[15342, 558, 57, 0, 32, "Text"],
Cell[15402, 560, 340, 6, 123, "Input"],
Cell[15745, 568, 253, 7, 86, "Text"],
Cell[16001, 577, 52, 1, 27, "Input"],
Cell[16056, 580, 92, 3, 32, "Text"],
Cell[16151, 585, 65, 1, 27, "Input"],
Cell[16219, 588, 70, 0, 32, "Text"],
Cell[16292, 590, 350, 6, 123, "Input"],
Cell[16645, 598, 91, 3, 32, "Text"],
Cell[16739, 603, 106, 3, 32, "Text"],
Cell[16848, 608, 76, 0, 32, "Text"],
Cell[16927, 610, 473, 9, 107, "Input"],
Cell[17403, 621, 45, 0, 32, "Text"],
Cell[17451, 623, 442, 8, 107, "Input"],
Cell[17896, 633, 71, 0, 32, "Text"],
Cell[17970, 635, 399, 7, 91, "Input"],
Cell[18372, 644, 392, 7, 75, "Input"],
Cell[18767, 653, 97, 3, 32, "Text"],
Cell[18867, 658, 2254, 38, 539, "Input"],
Cell[21124, 698, 289, 5, 75, "Input"],
Cell[21416, 705, 465, 8, 155, "Input"],
Cell[21884, 715, 1707, 33, 395, "Input"],
Cell[23594, 750, 552, 10, 155, "Input"],
Cell[24149, 762, 99, 3, 32, "Text"],
Cell[24251, 767, 61, 1, 27, "Input"],
Cell[24315, 770, 91, 3, 32, "Text"],
Cell[24409, 775, 54, 1, 27, "Input"],
Cell[24466, 778, 63, 0, 32, "Text"],
Cell[24532, 780, 72, 1, 27, "Input"],
Cell[24607, 783, 62, 0, 32, "Text"],
Cell[24672, 785, 50, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[24759, 791, 31, 0, 30, "Subsection"],
Cell[24793, 793, 40, 0, 32, "Text"],
Cell[24836, 795, 54, 1, 27, "Input"],
Cell[24893, 798, 62, 0, 32, "Text"],
Cell[24958, 800, 60, 1, 27, "Input"],
Cell[25021, 803, 38, 0, 32, "Text"],
Cell[25062, 805, 51, 1, 27, "Input"],
Cell[25116, 808, 46, 0, 32, "Text"],
Cell[25165, 810, 50, 1, 27, "Input"],
Cell[25218, 813, 75, 0, 32, "Text"],
Cell[25296, 815, 64, 1, 27, "Input"],
Cell[25363, 818, 39, 0, 32, "Text"],
Cell[25405, 820, 61, 1, 27, "Input"],
Cell[25469, 823, 56, 0, 32, "Text"],
Cell[25528, 825, 123, 3, 27, "Input"],
Cell[25654, 830, 40, 1, 27, "Input"],
Cell[25697, 833, 40, 1, 27, "Input"],
Cell[25740, 836, 120, 3, 32, "Text"],
Cell[25863, 841, 47, 1, 27, "Input"],
Cell[25913, 844, 45, 0, 32, "Text"],
Cell[25961, 846, 48, 1, 27, "Input"],
Cell[26012, 849, 39, 0, 32, "Text"],
Cell[26054, 851, 61, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[26152, 857, 36, 0, 30, "Subsection"],
Cell[26191, 859, 47, 0, 32, "Text"],
Cell[26241, 861, 59, 1, 27, "Input"],
Cell[26303, 864, 42, 0, 32, "Text"],
Cell[26348, 866, 60, 1, 27, "Input"],
Cell[26411, 869, 67, 0, 32, "Text"],
Cell[26481, 871, 60, 1, 27, "Input"],
Cell[26544, 874, 90, 3, 32, "Text"],
Cell[26637, 879, 79, 1, 27, "Input"],
Cell[26719, 882, 39, 0, 32, "Text"],
Cell[26761, 884, 61, 1, 27, "Input"],
Cell[26825, 887, 56, 0, 32, "Text"],
Cell[26884, 889, 214, 5, 43, "Input"],
Cell[27101, 896, 40, 1, 27, "Input"],
Cell[27144, 899, 40, 1, 27, "Input"],
Cell[27187, 902, 205, 5, 50, "Text"],
Cell[27395, 909, 47, 1, 27, "Input"],
Cell[27445, 912, 52, 0, 32, "Text"],
Cell[27500, 914, 49, 1, 27, "Input"],
Cell[27552, 917, 39, 0, 32, "Text"],
Cell[27594, 919, 63, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[27694, 925, 36, 0, 30, "Subsection"],
Cell[27733, 927, 47, 0, 32, "Text"],
Cell[27783, 929, 59, 1, 27, "Input"],
Cell[27845, 932, 42, 0, 32, "Text"],
Cell[27890, 934, 60, 1, 27, "Input"],
Cell[27953, 937, 90, 3, 32, "Text"],
Cell[28046, 942, 159, 3, 43, "Input"],
Cell[28208, 947, 39, 0, 32, "Text"],
Cell[28250, 949, 61, 1, 27, "Input"],
Cell[28314, 952, 56, 0, 32, "Text"],
Cell[28373, 954, 260, 5, 59, "Input"],
Cell[28636, 961, 40, 1, 27, "Input"],
Cell[28679, 964, 40, 1, 27, "Input"],
Cell[28722, 967, 205, 5, 50, "Text"],
Cell[28930, 974, 47, 1, 27, "Input"],
Cell[28980, 977, 57, 0, 32, "Text"],
Cell[29040, 979, 54, 1, 27, "Input"],
Cell[29097, 982, 39, 0, 32, "Text"],
Cell[29139, 984, 63, 1, 27, "Input"],
Cell[29205, 987, 52, 0, 32, "Text"],
Cell[29260, 989, 49, 1, 27, "Input"],
Cell[29312, 992, 39, 0, 32, "Text"],
Cell[29354, 994, 74, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[29465, 1000, 63, 0, 30, "Subsection"],
Cell[29531, 1002, 56, 1, 27, "Input"],
Cell[29590, 1005, 58, 1, 27, "Input"],
Cell[29651, 1008, 42, 1, 27, "Input"],
Cell[29696, 1011, 49, 1, 27, "Input"],
Cell[29748, 1014, 65, 1, 27, "Input"],
Cell[29816, 1017, 79, 1, 27, "Input"],
Cell[29898, 1020, 49, 1, 27, "Input"],
Cell[29950, 1023, 81, 1, 27, "Input"],
Cell[30034, 1026, 49, 1, 27, "Input"],
Cell[30086, 1029, 89, 1, 27, "Input"],
Cell[30178, 1032, 49, 1, 27, "Input"],
Cell[30230, 1035, 234, 5, 50, "Text"]
}, Closed]],

Cell[CellGroupData[{
Cell[30501, 1045, 28, 0, 30, "Subsection"],
Cell[30532, 1047, 102, 3, 32, "Text"],
Cell[30637, 1052, 40, 0, 32, "Text"],
Cell[30680, 1054, 51, 1, 27, "Input"],
Cell[30734, 1057, 61, 1, 27, "Input"],
Cell[30798, 1060, 90, 1, 27, "Input"],
Cell[30891, 1063, 80, 1, 27, "Input"],
Cell[30974, 1066, 50, 1, 27, "Input"],
Cell[31027, 1069, 58, 0, 32, "Text"],
Cell[31088, 1071, 94, 3, 32, "Text"],
Cell[31185, 1076, 150, 2, 27, "Input"],
Cell[31338, 1080, 93, 3, 32, "Text"],
Cell[31434, 1085, 55, 1, 27, "Input"],
Cell[31492, 1088, 135, 3, 27, "Input"],
Cell[31630, 1093, 106, 3, 32, "Text"],
Cell[31739, 1098, 50, 1, 27, "Input"],
Cell[31792, 1101, 45, 1, 27, "Input"],
Cell[31840, 1104, 45, 1, 27, "Input"],
Cell[31888, 1107, 91, 3, 32, "Text"],
Cell[31982, 1112, 64, 1, 27, "Input"],
Cell[32049, 1115, 215, 5, 50, "Text"],
Cell[32267, 1122, 64, 1, 27, "Input"],
Cell[32334, 1125, 63, 0, 32, "Text"],
Cell[32400, 1127, 71, 1, 27, "Input"],
Cell[32474, 1130, 89, 3, 32, "Text"],
Cell[32566, 1135, 105, 2, 27, "Input"],
Cell[32674, 1139, 128, 3, 32, "Text"],
Cell[32805, 1144, 68, 1, 27, "Input"],
Cell[32876, 1147, 90, 3, 32, "Text"],
Cell[32969, 1152, 46, 0, 32, "Text"],
Cell[33018, 1154, 70, 1, 27, "Input"],
Cell[33091, 1157, 47, 1, 27, "Input"],
Cell[33141, 1160, 44, 0, 32, "Text"],
Cell[33188, 1162, 75, 1, 27, "Input"],
Cell[33266, 1165, 47, 1, 27, "Input"],
Cell[33316, 1168, 103, 3, 32, "Text"],
Cell[33422, 1173, 78, 1, 27, "Input"],
Cell[33503, 1176, 47, 1, 27, "Input"],
Cell[33553, 1179, 22, 0, 32, "Text"],
Cell[33578, 1181, 132, 2, 27, "Input"],
Cell[33713, 1185, 191, 3, 43, "Input"],
Cell[33907, 1190, 75, 0, 32, "Text"],
Cell[33985, 1192, 43, 0, 32, "Text"],
Cell[34031, 1194, 45, 1, 27, "Input"],
Cell[34079, 1197, 61, 1, 27, "Input"],
Cell[34143, 1200, 38, 0, 32, "Text"],
Cell[34184, 1202, 50, 1, 27, "Input"],
Cell[34237, 1205, 61, 1, 27, "Input"],
Cell[34301, 1208, 35, 0, 32, "Text"],
Cell[34339, 1210, 43, 1, 27, "Input"],
Cell[34385, 1213, 61, 1, 27, "Input"],
Cell[34449, 1216, 88, 3, 32, "Text"],
Cell[34540, 1221, 46, 1, 27, "Input"],
Cell[34589, 1224, 61, 1, 27, "Input"],
Cell[34653, 1227, 33, 0, 32, "Text"],
Cell[34689, 1229, 41, 1, 27, "Input"],
Cell[34733, 1232, 61, 1, 27, "Input"],
Cell[34797, 1235, 53, 0, 32, "Text"],
Cell[34853, 1237, 48, 1, 27, "Input"],
Cell[34904, 1240, 61, 1, 27, "Input"],
Cell[34968, 1243, 32, 0, 32, "Text"],
Cell[35003, 1245, 40, 1, 27, "Input"],
Cell[35046, 1248, 61, 1, 27, "Input"],
Cell[35110, 1251, 34, 0, 32, "Text"],
Cell[35147, 1253, 42, 1, 27, "Input"],
Cell[35192, 1256, 34, 0, 32, "Text"],
Cell[35229, 1258, 42, 1, 27, "Input"],
Cell[35274, 1261, 111, 3, 32, "Text"],
Cell[35388, 1266, 45, 1, 27, "Input"],
Cell[35436, 1269, 59, 0, 32, "Text"],
Cell[35498, 1271, 51, 1, 27, "Input"],
Cell[35552, 1274, 32, 0, 32, "Text"],
Cell[35587, 1276, 40, 1, 27, "Input"],
Cell[35630, 1279, 42, 0, 32, "Text"],
Cell[35675, 1281, 43, 1, 27, "Input"],
Cell[35721, 1284, 53, 0, 32, "Text"],
Cell[35777, 1286, 46, 1, 27, "Input"],
Cell[35826, 1289, 44, 0, 32, "Text"],
Cell[35873, 1291, 46, 1, 27, "Input"],
Cell[35922, 1294, 58, 0, 32, "Text"],
Cell[35983, 1296, 70, 1, 27, "Input"],
Cell[36056, 1299, 32, 0, 32, "Text"],
Cell[36091, 1301, 40, 1, 27, "Input"],
Cell[36134, 1304, 35, 0, 32, "Text"],
Cell[36172, 1306, 47, 1, 27, "Input"],
Cell[36222, 1309, 37, 0, 32, "Text"],
Cell[36262, 1311, 66, 1, 27, "Input"],
Cell[36331, 1314, 35, 0, 32, "Text"],
Cell[36369, 1316, 43, 1, 27, "Input"],
Cell[36415, 1319, 45, 0, 32, "Text"],
Cell[36463, 1321, 206, 4, 50, "Text"],
Cell[36672, 1327, 46, 1, 27, "Input"],
Cell[36721, 1330, 58, 1, 27, "Input"],
Cell[36782, 1333, 46, 1, 27, "Input"],
Cell[36831, 1336, 126, 3, 32, "Text"],
Cell[36960, 1341, 50, 1, 27, "Input"],
Cell[37013, 1344, 53, 1, 27, "Input"],
Cell[37069, 1347, 56, 1, 27, "Input"],
Cell[37128, 1350, 170, 4, 50, "Text"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{
Cell[37347, 1360, 25, 0, 53, "Subtitle"],

Cell[CellGroupData[{
Cell[37397, 1364, 29, 0, 38, "Subsection"],
Cell[37429, 1366, 56, 0, 32, "Text"],
Cell[37488, 1368, 38, 0, 32, "Text"],
Cell[37529, 1370, 52, 1, 27, "Input"],
Cell[37584, 1373, 51, 0, 32, "Text"],
Cell[37638, 1375, 51, 1, 27, "Input"],
Cell[37692, 1378, 36, 0, 32, "Text"],
Cell[37731, 1380, 49, 1, 27, "Input"],
Cell[37783, 1383, 46, 0, 32, "Text"],
Cell[37832, 1385, 48, 1, 27, "Input"],
Cell[37883, 1388, 73, 0, 32, "Text"],
Cell[37959, 1390, 123, 3, 27, "Input"],
Cell[38085, 1395, 39, 0, 32, "Text"],
Cell[38127, 1397, 61, 1, 27, "Input"],
Cell[38191, 1400, 56, 0, 32, "Text"],
Cell[38250, 1402, 164, 3, 27, "Input"],
Cell[38417, 1407, 40, 1, 27, "Input"],
Cell[38460, 1410, 40, 1, 27, "Input"],
Cell[38503, 1413, 116, 3, 32, "Text"],
Cell[38622, 1418, 47, 1, 27, "Input"],
Cell[38672, 1421, 43, 0, 32, "Text"],
Cell[38718, 1423, 46, 1, 27, "Input"],
Cell[38767, 1426, 39, 0, 32, "Text"],
Cell[38809, 1428, 61, 1, 27, "Input"],
Cell[38873, 1431, 74, 0, 32, "Text"],
Cell[38950, 1433, 54, 1, 27, "Input"],
Cell[39007, 1436, 70, 0, 32, "Text"],
Cell[39080, 1438, 41, 1, 27, "Input"],
Cell[39124, 1441, 57, 1, 27, "Input"],
Cell[39184, 1444, 33, 0, 32, "Text"],
Cell[39220, 1446, 44, 1, 27, "Input"],
Cell[39267, 1449, 44, 1, 27, "Input"],
Cell[39314, 1452, 44, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[39395, 1458, 27, 0, 30, "Subsection"],
Cell[39425, 1460, 192, 4, 50, "Text"],
Cell[39620, 1466, 38, 0, 32, "Text"],
Cell[39661, 1468, 50, 1, 27, "Input"],
Cell[39714, 1471, 33, 0, 32, "Text"],
Cell[39750, 1473, 51, 1, 27, "Input"],
Cell[39804, 1476, 71, 0, 32, "Text"],
Cell[39878, 1478, 66, 1, 27, "Input"],
Cell[39947, 1481, 39, 0, 32, "Text"],
Cell[39989, 1483, 61, 1, 27, "Input"],
Cell[40053, 1486, 73, 0, 32, "Text"],
Cell[40129, 1488, 40, 1, 27, "Input"],
Cell[40172, 1491, 50, 0, 32, "Text"],
Cell[40225, 1493, 47, 1, 27, "Input"],
Cell[40275, 1496, 39, 0, 32, "Text"],
Cell[40317, 1498, 63, 1, 27, "Input"],
Cell[40383, 1501, 76, 0, 32, "Text"],
Cell[40462, 1503, 96, 3, 32, "Text"],
Cell[40561, 1508, 114, 2, 27, "Input"],
Cell[40678, 1512, 80, 1, 27, "Input"],
Cell[40761, 1515, 72, 0, 32, "Text"],
Cell[40836, 1517, 54, 1, 27, "Input"],
Cell[40893, 1520, 89, 3, 32, "Text"],
Cell[40985, 1525, 42, 1, 27, "Input"],
Cell[41030, 1528, 49, 1, 27, "Input"],
Cell[41082, 1531, 57, 1, 27, "Input"],
Cell[41142, 1534, 33, 0, 32, "Text"],
Cell[41178, 1536, 42, 1, 27, "Input"],
Cell[41223, 1539, 42, 1, 27, "Input"],
Cell[41268, 1542, 44, 1, 27, "Input"],
Cell[41315, 1545, 44, 1, 27, "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{
Cell[41408, 1552, 24, 0, 53, "Subtitle"],
Cell[41435, 1554, 41, 0, 32, "Text"],

Cell[CellGroupData[{
Cell[41501, 1558, 26, 0, 38, "Subsection"],
Cell[41530, 1560, 48, 0, 32, "Text"],
Cell[41581, 1562, 35, 0, 32, "Text"],
Cell[41619, 1564, 49, 1, 27, "Input"],
Cell[41671, 1567, 49, 0, 32, "Text"],
Cell[41723, 1569, 52, 1, 27, "Input"],
Cell[41778, 1572, 48, 0, 32, "Text"],
Cell[41829, 1574, 51, 1, 27, "Input"],
Cell[41883, 1577, 33, 0, 32, "Text"],
Cell[41919, 1579, 46, 1, 27, "Input"],
Cell[41968, 1582, 46, 0, 32, "Text"],
Cell[42017, 1584, 45, 1, 27, "Input"],
Cell[42065, 1587, 70, 0, 32, "Text"],
Cell[42138, 1589, 58, 1, 27, "Input"],
Cell[42199, 1592, 39, 0, 32, "Text"],
Cell[42241, 1594, 61, 1, 27, "Input"],
Cell[42305, 1597, 56, 0, 32, "Text"],
Cell[42364, 1599, 117, 3, 27, "Input"],
Cell[42484, 1604, 40, 1, 27, "Input"],
Cell[42527, 1607, 40, 1, 27, "Input"],
Cell[42570, 1610, 110, 3, 32, "Text"],
Cell[42683, 1615, 47, 1, 27, "Input"],
Cell[42733, 1618, 40, 0, 32, "Text"],
Cell[42776, 1620, 43, 1, 27, "Input"],
Cell[42822, 1623, 39, 0, 32, "Text"],
Cell[42864, 1625, 61, 1, 27, "Input"],
Cell[42928, 1628, 113, 3, 32, "Text"],
Cell[43044, 1633, 68, 0, 32, "Text"],
Cell[43115, 1635, 49, 1, 27, "Input"],
Cell[43167, 1638, 66, 0, 32, "Text"],
Cell[43236, 1640, 46, 1, 27, "Input"],
Cell[43285, 1643, 68, 1, 27, "Input"],
Cell[43356, 1646, 93, 3, 32, "Text"],
Cell[43452, 1651, 41, 1, 27, "Input"],
Cell[43496, 1654, 62, 0, 32, "Text"],
Cell[43561, 1656, 28, 0, 32, "Text"],
Cell[43592, 1658, 44, 1, 27, "Input"],
Cell[43639, 1661, 44, 1, 27, "Input"],
Cell[43686, 1664, 151, 3, 32, "Text"],
Cell[43840, 1669, 48, 1, 27, "Input"],
Cell[43891, 1672, 63, 0, 32, "Text"],
Cell[43957, 1674, 55, 1, 27, "Input"],
Cell[44015, 1677, 47, 1, 27, "Input"],
Cell[44065, 1680, 49, 1, 27, "Input"],
Cell[44117, 1683, 88, 3, 32, "Text"],
Cell[44208, 1688, 44, 1, 27, "Input"],
Cell[44255, 1691, 58, 0, 32, "Text"],
Cell[44316, 1693, 51, 1, 27, "Input"],
Cell[44370, 1696, 47, 1, 27, "Input"],
Cell[44420, 1699, 45, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[44502, 1705, 28, 0, 30, "Subsection"],
Cell[44533, 1707, 87, 3, 32, "Text"],
Cell[44623, 1712, 39, 0, 32, "Text"],
Cell[44665, 1714, 51, 1, 27, "Input"],
Cell[44719, 1717, 34, 0, 32, "Text"],
Cell[44756, 1719, 52, 1, 27, "Input"],
Cell[44811, 1722, 59, 0, 32, "Text"],
Cell[44873, 1724, 58, 1, 27, "Input"],
Cell[44934, 1727, 72, 0, 32, "Text"],
Cell[45009, 1729, 61, 1, 27, "Input"],
Cell[45073, 1732, 39, 0, 32, "Text"],
Cell[45115, 1734, 61, 1, 27, "Input"],
Cell[45179, 1737, 56, 0, 32, "Text"],
Cell[45238, 1739, 158, 3, 27, "Input"],
Cell[45399, 1744, 40, 1, 27, "Input"],
Cell[45442, 1747, 40, 1, 27, "Input"],
Cell[45485, 1750, 189, 5, 50, "Text"],
Cell[45677, 1757, 47, 1, 27, "Input"],
Cell[45727, 1760, 47, 0, 32, "Text"],
Cell[45777, 1762, 44, 1, 27, "Input"],
Cell[45824, 1765, 39, 0, 32, "Text"],
Cell[45866, 1767, 63, 1, 27, "Input"],
Cell[45932, 1770, 39, 0, 32, "Text"],
Cell[45974, 1772, 173, 3, 43, "Input"],
Cell[46150, 1777, 61, 1, 27, "Input"],
Cell[46214, 1780, 54, 0, 32, "Text"],
Cell[46271, 1782, 49, 1, 27, "Input"],
Cell[46323, 1785, 55, 0, 32, "Text"],
Cell[46381, 1787, 44, 1, 27, "Input"],
Cell[46428, 1790, 87, 1, 27, "Input"],
Cell[46518, 1793, 67, 0, 32, "Text"],
Cell[46588, 1795, 41, 1, 27, "Input"],
Cell[46632, 1798, 44, 1, 27, "Input"],
Cell[46679, 1801, 54, 0, 32, "Text"],
Cell[46736, 1803, 70, 1, 27, "Input"],
Cell[46809, 1806, 61, 1, 27, "Input"],
Cell[46873, 1809, 86, 1, 27, "Input"],
Cell[46962, 1812, 75, 0, 32, "Text"],
Cell[47040, 1814, 41, 1, 27, "Input"],
Cell[47084, 1817, 62, 0, 32, "Text"],
Cell[47149, 1819, 64, 0, 32, "Text"],
Cell[47216, 1821, 75, 1, 27, "Input"],
Cell[47294, 1824, 70, 1, 27, "Input"],
Cell[47367, 1827, 69, 1, 27, "Input"],
Cell[47439, 1830, 79, 1, 27, "Input"],
Cell[47521, 1833, 28, 0, 32, "Text"],
Cell[47552, 1835, 44, 1, 27, "Input"],
Cell[47599, 1838, 44, 1, 27, "Input"],
Cell[47646, 1841, 76, 0, 32, "Text"]
}, Closed]],

Cell[CellGroupData[{
Cell[47759, 1846, 27, 0, 30, "Subsection"],
Cell[47789, 1848, 76, 0, 32, "Text"],
Cell[47868, 1850, 38, 0, 32, "Text"],
Cell[47909, 1852, 50, 1, 27, "Input"],
Cell[47962, 1855, 33, 0, 32, "Text"],
Cell[47998, 1857, 51, 1, 27, "Input"],
Cell[48052, 1860, 57, 0, 32, "Text"],
Cell[48112, 1862, 57, 1, 27, "Input"],
Cell[48172, 1865, 71, 0, 32, "Text"],
Cell[48246, 1867, 60, 1, 27, "Input"],
Cell[48309, 1870, 39, 0, 32, "Text"],
Cell[48351, 1872, 61, 1, 27, "Input"],
Cell[48415, 1875, 56, 0, 32, "Text"],
Cell[48474, 1877, 157, 3, 27, "Input"],
Cell[48634, 1882, 40, 1, 27, "Input"],
Cell[48677, 1885, 40, 1, 27, "Input"],
Cell[48720, 1888, 187, 5, 50, "Text"],
Cell[48910, 1895, 156, 3, 32, "Text"],
Cell[49069, 1900, 47, 1, 27, "Input"],
Cell[49119, 1903, 47, 0, 32, "Text"],
Cell[49169, 1905, 44, 1, 27, "Input"],
Cell[49216, 1908, 39, 0, 32, "Text"],
Cell[49258, 1910, 63, 1, 27, "Input"],
Cell[49324, 1913, 32, 0, 32, "Text"],
Cell[49359, 1915, 154, 3, 27, "Input"],
Cell[49516, 1920, 61, 1, 27, "Input"],
Cell[49580, 1923, 94, 3, 32, "Text"],
Cell[49677, 1928, 54, 0, 32, "Text"],
Cell[49734, 1930, 49, 1, 27, "Input"],
Cell[49786, 1933, 55, 0, 32, "Text"],
Cell[49844, 1935, 44, 1, 27, "Input"],
Cell[49891, 1938, 70, 1, 27, "Input"],
Cell[49964, 1941, 70, 0, 32, "Text"],
Cell[50037, 1943, 42, 1, 27, "Input"],
Cell[50082, 1946, 44, 1, 27, "Input"],
Cell[50129, 1949, 53, 0, 32, "Text"],
Cell[50185, 1951, 60, 1, 27, "Input"],
Cell[50248, 1954, 61, 1, 27, "Input"],
Cell[50312, 1957, 70, 1, 27, "Input"],
Cell[50385, 1960, 90, 3, 32, "Text"],
Cell[50478, 1965, 41, 1, 27, "Input"],
Cell[50522, 1968, 62, 0, 32, "Text"],
Cell[50587, 1970, 28, 0, 32, "Text"],
Cell[50618, 1972, 44, 1, 27, "Input"],
Cell[50665, 1975, 44, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[50746, 1981, 33, 0, 30, "Subsection"],
Cell[50782, 1983, 94, 3, 32, "Text"],
Cell[50879, 1988, 44, 0, 32, "Text"],
Cell[50926, 1990, 56, 1, 27, "Input"],
Cell[50985, 1993, 39, 0, 32, "Text"],
Cell[51027, 1995, 57, 1, 27, "Input"],
Cell[51087, 1998, 87, 3, 32, "Text"],
Cell[51177, 2003, 118, 3, 27, "Input"],
Cell[51298, 2008, 39, 0, 32, "Text"],
Cell[51340, 2010, 61, 1, 27, "Input"],
Cell[51404, 2013, 56, 0, 32, "Text"],
Cell[51463, 2015, 219, 5, 59, "Input"],
Cell[51685, 2022, 40, 1, 27, "Input"],
Cell[51728, 2025, 40, 1, 27, "Input"],
Cell[51771, 2028, 199, 5, 50, "Text"],
Cell[51973, 2035, 47, 1, 27, "Input"],
Cell[52023, 2038, 48, 0, 32, "Text"],
Cell[52074, 2040, 45, 1, 27, "Input"],
Cell[52122, 2043, 39, 0, 32, "Text"],
Cell[52164, 2045, 63, 1, 27, "Input"],
Cell[52230, 2048, 47, 0, 32, "Text"],
Cell[52280, 2050, 44, 1, 27, "Input"],
Cell[52327, 2053, 39, 0, 32, "Text"],
Cell[52369, 2055, 74, 1, 27, "Input"],
Cell[52446, 2058, 32, 0, 32, "Text"],
Cell[52481, 2060, 152, 3, 43, "Input"],
Cell[52636, 2065, 61, 1, 27, "Input"],
Cell[52700, 2068, 54, 0, 32, "Text"],
Cell[52757, 2070, 49, 1, 27, "Input"],
Cell[52809, 2073, 55, 0, 32, "Text"],
Cell[52867, 2075, 44, 1, 27, "Input"],
Cell[52914, 2078, 70, 1, 27, "Input"],
Cell[52987, 2081, 46, 0, 32, "Text"],
Cell[53036, 2083, 41, 1, 27, "Input"],
Cell[53080, 2086, 50, 0, 32, "Text"],
Cell[53133, 2088, 42, 1, 27, "Input"],
Cell[53178, 2091, 27, 0, 32, "Text"],
Cell[53208, 2093, 40, 1, 27, "Input"],
Cell[53251, 2096, 96, 3, 32, "Text"],
Cell[53350, 2101, 41, 1, 27, "Input"],
Cell[53394, 2104, 62, 0, 32, "Text"],
Cell[53459, 2106, 28, 0, 32, "Text"],
Cell[53490, 2108, 44, 1, 27, "Input"],
Cell[53537, 2111, 44, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[53618, 2117, 34, 0, 30, "Subsection"],
Cell[53655, 2119, 98, 3, 32, "Text"],
Cell[53756, 2124, 45, 0, 32, "Text"],
Cell[53804, 2126, 57, 1, 27, "Input"],
Cell[53864, 2129, 40, 0, 32, "Text"],
Cell[53907, 2131, 58, 1, 27, "Input"],
Cell[53968, 2134, 88, 3, 32, "Text"],
Cell[54059, 2139, 121, 3, 27, "Input"],
Cell[54183, 2144, 39, 0, 32, "Text"],
Cell[54225, 2146, 61, 1, 27, "Input"],
Cell[54289, 2149, 56, 0, 32, "Text"],
Cell[54348, 2151, 222, 5, 59, "Input"],
Cell[54573, 2158, 40, 1, 27, "Input"],
Cell[54616, 2161, 40, 1, 27, "Input"],
Cell[54659, 2164, 201, 5, 50, "Text"],
Cell[54863, 2171, 47, 1, 27, "Input"],
Cell[54913, 2174, 49, 0, 32, "Text"],
Cell[54965, 2176, 46, 1, 27, "Input"],
Cell[55014, 2179, 39, 0, 32, "Text"],
Cell[55056, 2181, 63, 1, 27, "Input"],
Cell[55122, 2184, 47, 0, 32, "Text"],
Cell[55172, 2186, 44, 1, 27, "Input"],
Cell[55219, 2189, 39, 0, 32, "Text"],
Cell[55261, 2191, 74, 1, 27, "Input"],
Cell[55338, 2194, 32, 0, 32, "Text"],
Cell[55373, 2196, 307, 5, 91, "Input"],
Cell[55683, 2203, 53, 0, 32, "Text"],
Cell[55739, 2205, 61, 1, 27, "Input"],
Cell[55803, 2208, 54, 0, 32, "Text"],
Cell[55860, 2210, 49, 1, 27, "Input"],
Cell[55912, 2213, 55, 0, 32, "Text"],
Cell[55970, 2215, 44, 1, 27, "Input"],
Cell[56017, 2218, 70, 1, 27, "Input"],
Cell[56090, 2221, 48, 0, 32, "Text"],
Cell[56141, 2223, 42, 1, 27, "Input"],
Cell[56186, 2226, 28, 0, 32, "Text"],
Cell[56217, 2228, 41, 1, 27, "Input"],
Cell[56261, 2231, 46, 0, 32, "Text"],
Cell[56310, 2233, 63, 1, 27, "Input"],
Cell[56376, 2236, 27, 0, 32, "Text"],
Cell[56406, 2238, 40, 1, 27, "Input"],
Cell[56449, 2241, 33, 0, 32, "Text"],
Cell[56485, 2243, 47, 1, 27, "Input"],
Cell[56535, 2246, 46, 0, 32, "Text"],
Cell[56584, 2248, 61, 1, 27, "Input"],
Cell[56648, 2251, 97, 3, 32, "Text"],
Cell[56748, 2256, 41, 1, 27, "Input"],
Cell[56792, 2259, 62, 0, 32, "Text"],
Cell[56857, 2261, 28, 0, 32, "Text"],
Cell[56888, 2263, 44, 1, 27, "Input"],
Cell[56935, 2266, 44, 1, 27, "Input"],
Cell[56982, 2269, 74, 0, 32, "Text"]
}, Closed]],

Cell[CellGroupData[{
Cell[57093, 2274, 29, 0, 30, "Subsection"],
Cell[57125, 2276, 105, 3, 32, "Text"],
Cell[57233, 2281, 38, 0, 32, "Text"],
Cell[57274, 2283, 52, 1, 27, "Input"],
Cell[57329, 2286, 36, 0, 32, "Text"],
Cell[57368, 2288, 49, 1, 27, "Input"],
Cell[57420, 2291, 46, 0, 32, "Text"],
Cell[57469, 2293, 48, 1, 27, "Input"],
Cell[57520, 2296, 73, 0, 32, "Text"],
Cell[57596, 2298, 62, 1, 27, "Input"],
Cell[57661, 2301, 39, 0, 32, "Text"],
Cell[57703, 2303, 61, 1, 27, "Input"],
Cell[57767, 2306, 56, 0, 32, "Text"],
Cell[57826, 2308, 121, 3, 27, "Input"],
Cell[57950, 2313, 40, 1, 27, "Input"],
Cell[57993, 2316, 40, 1, 27, "Input"],
Cell[58036, 2319, 116, 3, 32, "Text"],
Cell[58155, 2324, 47, 1, 27, "Input"],
Cell[58205, 2327, 43, 0, 32, "Text"],
Cell[58251, 2329, 46, 1, 27, "Input"],
Cell[58300, 2332, 39, 0, 32, "Text"],
Cell[58342, 2334, 61, 1, 27, "Input"],
Cell[58406, 2337, 32, 0, 32, "Text"],
Cell[58441, 2339, 63, 1, 27, "Input"],
Cell[58507, 2342, 42, 0, 32, "Text"],
Cell[58552, 2344, 45, 1, 27, "Input"],
Cell[58600, 2347, 88, 1, 27, "Input"],
Cell[58691, 2350, 69, 0, 32, "Text"],
Cell[58763, 2352, 86, 1, 27, "Input"],
Cell[58852, 2355, 99, 3, 32, "Text"],
Cell[58954, 2360, 120, 2, 27, "Input"],
Cell[59077, 2364, 45, 1, 27, "Input"],
Cell[59125, 2367, 111, 2, 27, "Input"],
Cell[59239, 2371, 45, 1, 27, "Input"],
Cell[59287, 2374, 44, 0, 32, "Text"],
Cell[59334, 2376, 307, 5, 91, "Input"],
Cell[59644, 2383, 87, 3, 32, "Text"],
Cell[59734, 2388, 90, 1, 27, "Input"],
Cell[59827, 2391, 51, 0, 32, "Text"],
Cell[59881, 2393, 129, 2, 27, "Input"],
Cell[60013, 2397, 137, 3, 32, "Text"],
Cell[60153, 2402, 86, 1, 27, "Input"],
Cell[60242, 2405, 37, 0, 32, "Text"],
Cell[60282, 2407, 83, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[60402, 2413, 31, 0, 30, "Subsection"],
Cell[60436, 2415, 48, 0, 32, "Text"],
Cell[60487, 2417, 107, 3, 32, "Text"],
Cell[60597, 2422, 40, 0, 32, "Text"],
Cell[60640, 2424, 54, 1, 27, "Input"],
Cell[60697, 2427, 38, 0, 32, "Text"],
Cell[60738, 2429, 51, 1, 27, "Input"],
Cell[60792, 2432, 46, 0, 32, "Text"],
Cell[60841, 2434, 50, 1, 27, "Input"],
Cell[60894, 2437, 75, 0, 32, "Text"],
Cell[60972, 2439, 75, 1, 27, "Input"],
Cell[61050, 2442, 39, 0, 32, "Text"],
Cell[61092, 2444, 61, 1, 27, "Input"],
Cell[61156, 2447, 56, 0, 32, "Text"],
Cell[61215, 2449, 134, 3, 27, "Input"],
Cell[61352, 2454, 40, 1, 27, "Input"],
Cell[61395, 2457, 40, 1, 27, "Input"],
Cell[61438, 2460, 120, 3, 32, "Text"],
Cell[61561, 2465, 47, 1, 27, "Input"],
Cell[61611, 2468, 45, 0, 32, "Text"],
Cell[61659, 2470, 48, 1, 27, "Input"],
Cell[61710, 2473, 39, 0, 32, "Text"],
Cell[61752, 2475, 61, 1, 27, "Input"],
Cell[61816, 2478, 32, 0, 32, "Text"],
Cell[61851, 2480, 73, 1, 27, "Input"],
Cell[61927, 2483, 101, 3, 32, "Text"],
Cell[62031, 2488, 92, 1, 27, "Input"],
Cell[62126, 2491, 41, 0, 32, "Text"],
Cell[62170, 2493, 69, 0, 32, "Text"],
Cell[62242, 2495, 88, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[62367, 2501, 29, 0, 30, "Subsection"],
Cell[62399, 2503, 38, 0, 32, "Text"],
Cell[62440, 2505, 52, 1, 27, "Input"],
Cell[62495, 2508, 36, 0, 32, "Text"],
Cell[62534, 2510, 49, 1, 27, "Input"],
Cell[62586, 2513, 46, 0, 32, "Text"],
Cell[62635, 2515, 48, 1, 27, "Input"],
Cell[62686, 2518, 73, 0, 32, "Text"],
Cell[62762, 2520, 67, 1, 27, "Input"],
Cell[62832, 2523, 39, 0, 32, "Text"],
Cell[62874, 2525, 61, 1, 27, "Input"],
Cell[62938, 2528, 56, 0, 32, "Text"],
Cell[62997, 2530, 126, 3, 27, "Input"],
Cell[63126, 2535, 40, 1, 27, "Input"],
Cell[63169, 2538, 40, 1, 27, "Input"],
Cell[63212, 2541, 116, 3, 32, "Text"],
Cell[63331, 2546, 47, 1, 27, "Input"],
Cell[63381, 2549, 43, 0, 32, "Text"],
Cell[63427, 2551, 46, 1, 27, "Input"],
Cell[63476, 2554, 39, 0, 32, "Text"],
Cell[63518, 2556, 61, 1, 27, "Input"],
Cell[63582, 2559, 59, 0, 32, "Text"],
Cell[63644, 2561, 431, 7, 86, "Text"],
Cell[64078, 2570, 67, 1, 27, "Input"],
Cell[64148, 2573, 77, 1, 27, "Input"],
Cell[64228, 2576, 72, 1, 27, "Input"],
Cell[64303, 2579, 110, 3, 32, "Text"],
Cell[64416, 2584, 158, 2, 43, "Input"],
Cell[64577, 2588, 160, 4, 50, "Text"],
Cell[64740, 2594, 102, 3, 32, "Text"],
Cell[64845, 2599, 55, 1, 27, "Input"],
Cell[64903, 2602, 295, 5, 68, "Text"],
Cell[65201, 2609, 26, 0, 32, "Text"],
Cell[65230, 2611, 56, 1, 27, "Input"],
Cell[65289, 2614, 26, 0, 32, "Text"],
Cell[65318, 2616, 56, 1, 27, "Input"],
Cell[65377, 2619, 25, 0, 32, "Text"],
Cell[65405, 2621, 61, 1, 27, "Input"],
Cell[65469, 2624, 26, 0, 32, "Text"],
Cell[65498, 2626, 61, 1, 27, "Input"],
Cell[65562, 2629, 139, 3, 32, "Text"],
Cell[65704, 2634, 108, 2, 27, "Input"],
Cell[65815, 2638, 57, 1, 27, "Input"],
Cell[65875, 2641, 108, 2, 27, "Input"],
Cell[65986, 2645, 42, 1, 27, "Input"],
Cell[66031, 2648, 58, 0, 32, "Text"],
Cell[66092, 2650, 79, 1, 27, "Input"],
Cell[66174, 2653, 59, 0, 32, "Text"],
Cell[66236, 2655, 45, 1, 27, "Input"],
Cell[66284, 2658, 53, 1, 27, "Input"],
Cell[66340, 2661, 73, 0, 32, "Text"],
Cell[66416, 2663, 55, 1, 27, "Input"],
Cell[66474, 2666, 71, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[66582, 2672, 32, 0, 30, "Subsection"],
Cell[66617, 2674, 110, 3, 32, "Text"],
Cell[66730, 2679, 41, 0, 32, "Text"],
Cell[66774, 2681, 55, 1, 27, "Input"],
Cell[66832, 2684, 39, 0, 32, "Text"],
Cell[66874, 2686, 52, 1, 27, "Input"],
Cell[66929, 2689, 46, 0, 32, "Text"],
Cell[66978, 2691, 51, 1, 27, "Input"],
Cell[67032, 2694, 76, 0, 32, "Text"],
Cell[67111, 2696, 65, 1, 27, "Input"],
Cell[67179, 2699, 39, 0, 32, "Text"],
Cell[67221, 2701, 61, 1, 27, "Input"],
Cell[67285, 2704, 56, 0, 32, "Text"],
Cell[67344, 2706, 124, 3, 27, "Input"],
Cell[67471, 2711, 40, 1, 27, "Input"],
Cell[67514, 2714, 40, 1, 27, "Input"],
Cell[67557, 2717, 122, 3, 32, "Text"],
Cell[67682, 2722, 47, 1, 27, "Input"],
Cell[67732, 2725, 46, 0, 32, "Text"],
Cell[67781, 2727, 49, 1, 27, "Input"],
Cell[67833, 2730, 39, 0, 32, "Text"],
Cell[67875, 2732, 61, 1, 27, "Input"],
Cell[67939, 2735, 42, 0, 32, "Text"],
Cell[67984, 2737, 45, 1, 27, "Input"],
Cell[68032, 2740, 69, 0, 32, "Text"],
Cell[68104, 2742, 71, 0, 32, "Text"],
Cell[68178, 2744, 107, 2, 27, "Input"],
Cell[68288, 2748, 67, 1, 27, "Input"],
Cell[68358, 2751, 105, 2, 27, "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{
Cell[68512, 2759, 24, 0, 53, "Subtitle"],
Cell[68539, 2761, 40, 0, 32, "Text"],
Cell[68582, 2763, 242, 5, 68, "Text"],
Cell[68827, 2770, 362, 8, 122, "Text"],
Cell[69192, 2780, 161, 4, 68, "Text"],
Cell[69356, 2786, 71, 4, 68, "Text"],

Cell[CellGroupData[{
Cell[69452, 2794, 27, 0, 38, "Subsection"],
Cell[69482, 2796, 36, 0, 32, "Text"],
Cell[69521, 2798, 50, 1, 27, "Input"],
Cell[69574, 2801, 49, 0, 32, "Text"],
Cell[69626, 2803, 51, 1, 27, "Input"],
Cell[69680, 2806, 34, 0, 32, "Text"],
Cell[69717, 2808, 47, 1, 27, "Input"],
Cell[69767, 2811, 46, 0, 32, "Text"],
Cell[69816, 2813, 46, 1, 27, "Input"],
Cell[69865, 2816, 71, 0, 32, "Text"],
Cell[69939, 2818, 69, 1, 27, "Input"],
Cell[70011, 2821, 39, 0, 32, "Text"],
Cell[70053, 2823, 61, 1, 27, "Input"],
Cell[70117, 2826, 56, 0, 32, "Text"],
Cell[70176, 2828, 128, 3, 27, "Input"],
Cell[70307, 2833, 40, 1, 27, "Input"],
Cell[70350, 2836, 40, 1, 27, "Input"],
Cell[70393, 2839, 112, 3, 32, "Text"],
Cell[70508, 2844, 47, 1, 27, "Input"],
Cell[70558, 2847, 41, 0, 32, "Text"],
Cell[70602, 2849, 44, 1, 27, "Input"],
Cell[70649, 2852, 39, 0, 32, "Text"],
Cell[70691, 2854, 61, 1, 27, "Input"],
Cell[70755, 2857, 76, 0, 32, "Text"],
Cell[70834, 2859, 49, 1, 27, "Input"],
Cell[70886, 2862, 48, 1, 27, "Input"],
Cell[70937, 2865, 119, 3, 32, "Text"],
Cell[71059, 2870, 46, 1, 27, "Input"],
Cell[71108, 2873, 147, 4, 50, "Text"],
Cell[71258, 2879, 45, 1, 27, "Input"],
Cell[71306, 2882, 54, 1, 27, "Input"],
Cell[71363, 2885, 47, 1, 27, "Input"],
Cell[71413, 2888, 55, 1, 27, "Input"],
Cell[71471, 2891, 139, 4, 50, "Text"],
Cell[71613, 2897, 47, 1, 27, "Input"],
Cell[71663, 2900, 47, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[71747, 2906, 27, 0, 30, "Subsection"],
Cell[71777, 2908, 38, 0, 32, "Text"],
Cell[71818, 2910, 50, 1, 27, "Input"],
Cell[71871, 2913, 33, 0, 32, "Text"],
Cell[71907, 2915, 51, 1, 27, "Input"],
Cell[71961, 2918, 50, 0, 32, "Text"],
Cell[72014, 2920, 50, 1, 27, "Input"],
Cell[72067, 2923, 71, 0, 32, "Text"],
Cell[72141, 2925, 62, 1, 27, "Input"],
Cell[72206, 2928, 39, 0, 32, "Text"],
Cell[72248, 2930, 61, 1, 27, "Input"],
Cell[72312, 2933, 56, 0, 32, "Text"],
Cell[72371, 2935, 203, 5, 43, "Input"],
Cell[72577, 2942, 40, 1, 27, "Input"],
Cell[72620, 2945, 40, 1, 27, "Input"],
Cell[72663, 2948, 187, 5, 50, "Text"],
Cell[72853, 2955, 47, 1, 27, "Input"],
Cell[72903, 2958, 48, 0, 32, "Text"],
Cell[72954, 2960, 45, 1, 27, "Input"],
Cell[73002, 2963, 39, 0, 32, "Text"],
Cell[73044, 2965, 63, 1, 27, "Input"],
Cell[73110, 2968, 33, 0, 32, "Text"],
Cell[73146, 2970, 44, 1, 27, "Input"],
Cell[73193, 2973, 44, 1, 27, "Input"],
Cell[73240, 2976, 44, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[73321, 2982, 26, 0, 30, "Subsection"],
Cell[73350, 2984, 37, 0, 32, "Text"],
Cell[73390, 2986, 49, 1, 27, "Input"],
Cell[73442, 2989, 32, 0, 32, "Text"],
Cell[73477, 2991, 50, 1, 27, "Input"],
Cell[73530, 2994, 70, 0, 32, "Text"],
Cell[73603, 2996, 104, 2, 27, "Input"],
Cell[73710, 3000, 39, 0, 32, "Text"],
Cell[73752, 3002, 61, 1, 27, "Input"],
Cell[73816, 3005, 56, 0, 32, "Text"],
Cell[73875, 3007, 216, 5, 43, "Input"],
Cell[74094, 3014, 40, 1, 27, "Input"],
Cell[74137, 3017, 40, 1, 27, "Input"],
Cell[74180, 3020, 185, 5, 50, "Text"],
Cell[74368, 3027, 47, 1, 27, "Input"],
Cell[74418, 3030, 48, 0, 32, "Text"],
Cell[74469, 3032, 45, 1, 27, "Input"],
Cell[74517, 3035, 39, 0, 32, "Text"],
Cell[74559, 3037, 63, 1, 27, "Input"],
Cell[74625, 3040, 48, 0, 32, "Text"],
Cell[74676, 3042, 45, 1, 27, "Input"],
Cell[74724, 3045, 39, 0, 32, "Text"],
Cell[74766, 3047, 74, 1, 27, "Input"],
Cell[74843, 3050, 33, 0, 32, "Text"],
Cell[74879, 3052, 44, 1, 27, "Input"],
Cell[74926, 3055, 111, 3, 32, "Text"],
Cell[75040, 3060, 44, 1, 27, "Input"],
Cell[75087, 3063, 44, 1, 27, "Input"],
Cell[75134, 3066, 64, 0, 32, "Text"],
Cell[75201, 3068, 54, 1, 27, "Input"],
Cell[75258, 3071, 40, 1, 27, "Input"],
Cell[75301, 3074, 54, 1, 27, "Input"],
Cell[75358, 3077, 31, 0, 32, "Text"],
Cell[75392, 3079, 69, 1, 27, "Input"],
Cell[75464, 3082, 40, 1, 27, "Input"],
Cell[75507, 3085, 54, 1, 27, "Input"],
Cell[75564, 3088, 36, 0, 32, "Text"],
Cell[75603, 3090, 74, 1, 27, "Input"],
Cell[75680, 3093, 40, 1, 27, "Input"],
Cell[75723, 3096, 54, 1, 27, "Input"],
Cell[75780, 3099, 26, 0, 32, "Text"],
Cell[75809, 3101, 67, 1, 27, "Input"],
Cell[75879, 3104, 40, 1, 27, "Input"],
Cell[75922, 3107, 54, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[76013, 3113, 27, 0, 30, "Subsection"],
Cell[76043, 3115, 36, 0, 32, "Text"],
Cell[76082, 3117, 50, 1, 27, "Input"],
Cell[76135, 3120, 54, 0, 32, "Text"],
Cell[76192, 3122, 56, 1, 27, "Input"],
Cell[76251, 3125, 34, 0, 32, "Text"],
Cell[76288, 3127, 47, 1, 27, "Input"],
Cell[76338, 3130, 46, 0, 32, "Text"],
Cell[76387, 3132, 46, 1, 27, "Input"],
Cell[76436, 3135, 71, 0, 32, "Text"],
Cell[76510, 3137, 51, 1, 27, "Input"],
Cell[76564, 3140, 39, 0, 32, "Text"],
Cell[76606, 3142, 61, 1, 27, "Input"],
Cell[76670, 3145, 56, 0, 32, "Text"],
Cell[76729, 3147, 101, 2, 27, "Input"],
Cell[76833, 3151, 40, 1, 27, "Input"],
Cell[76876, 3154, 40, 1, 27, "Input"],
Cell[76919, 3157, 112, 3, 32, "Text"],
Cell[77034, 3162, 47, 1, 27, "Input"],
Cell[77084, 3165, 41, 0, 32, "Text"],
Cell[77128, 3167, 44, 1, 27, "Input"],
Cell[77175, 3170, 39, 0, 32, "Text"],
Cell[77217, 3172, 61, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[77315, 3178, 32, 0, 30, "Subsection"],
Cell[77350, 3180, 43, 0, 32, "Text"],
Cell[77396, 3182, 55, 1, 27, "Input"],
Cell[77454, 3185, 38, 0, 32, "Text"],
Cell[77495, 3187, 56, 1, 27, "Input"],
Cell[77554, 3190, 76, 0, 32, "Text"],
Cell[77633, 3192, 67, 1, 27, "Input"],
Cell[77703, 3195, 39, 0, 32, "Text"],
Cell[77745, 3197, 61, 1, 27, "Input"],
Cell[77809, 3200, 56, 0, 32, "Text"],
Cell[77868, 3202, 182, 4, 27, "Input"],
Cell[78053, 3208, 40, 1, 27, "Input"],
Cell[78096, 3211, 40, 1, 27, "Input"],
Cell[78139, 3214, 197, 5, 50, "Text"],
Cell[78339, 3221, 47, 1, 27, "Input"],
Cell[78389, 3224, 48, 0, 32, "Text"],
Cell[78440, 3226, 45, 1, 27, "Input"],
Cell[78488, 3229, 39, 0, 32, "Text"],
Cell[78530, 3231, 63, 1, 27, "Input"],
Cell[78596, 3234, 57, 0, 32, "Text"],
Cell[78656, 3236, 66, 1, 27, "Input"],
Cell[78725, 3239, 68, 1, 27, "Input"],
Cell[78796, 3242, 88, 3, 32, "Text"],
Cell[78887, 3247, 54, 1, 27, "Input"],
Cell[78944, 3250, 49, 1, 27, "Input"],
Cell[78996, 3253, 84, 1, 27, "Input"],
Cell[79083, 3256, 70, 1, 27, "Input"],
Cell[79156, 3259, 49, 0, 32, "Text"],
Cell[79208, 3261, 74, 1, 27, "Input"],
Cell[79285, 3264, 67, 1, 27, "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{
Cell[79401, 3271, 26, 0, 53, "Subtitle"],
Cell[79430, 3273, 52, 0, 32, "Text"],
Cell[79485, 3275, 39, 1, 27, "Input"],

Cell[CellGroupData[{
Cell[79549, 3280, 38, 0, 38, "Subsection"],
Cell[79590, 3282, 47, 0, 32, "Text"],
Cell[79640, 3284, 61, 1, 27, "Input"],
Cell[79704, 3287, 45, 0, 32, "Text"],
Cell[79752, 3289, 58, 1, 27, "Input"],
Cell[79813, 3292, 46, 0, 32, "Text"],
Cell[79862, 3294, 57, 1, 27, "Input"],
Cell[79922, 3297, 92, 3, 32, "Text"],
Cell[80017, 3302, 75, 1, 27, "Input"],
Cell[80095, 3305, 39, 0, 32, "Text"],
Cell[80137, 3307, 61, 1, 27, "Input"],
Cell[80201, 3310, 56, 0, 32, "Text"],
Cell[80260, 3312, 134, 3, 27, "Input"],
Cell[80397, 3317, 40, 1, 27, "Input"],
Cell[80440, 3320, 40, 1, 27, "Input"],
Cell[80483, 3323, 134, 3, 32, "Text"],
Cell[80620, 3328, 47, 1, 27, "Input"],
Cell[80670, 3331, 52, 0, 32, "Text"],
Cell[80725, 3333, 55, 1, 27, "Input"],
Cell[80783, 3336, 39, 0, 32, "Text"],
Cell[80825, 3338, 61, 1, 27, "Input"],
Cell[80889, 3341, 66, 0, 32, "Text"],
Cell[80958, 3343, 75, 1, 27, "Input"],
Cell[81036, 3346, 103, 3, 32, "Text"],
Cell[81142, 3351, 74, 1, 27, "Input"],
Cell[81219, 3354, 38, 1, 27, "Input"],
Cell[81260, 3357, 74, 1, 27, "Input"],
Cell[81337, 3360, 38, 1, 27, "Input"],
Cell[81378, 3363, 74, 0, 32, "Text"],
Cell[81455, 3365, 56, 1, 27, "Input"],
Cell[81514, 3368, 94, 3, 32, "Text"],
Cell[81611, 3373, 51, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[81699, 3379, 34, 0, 30, "Subsection"],
Cell[81736, 3381, 74, 0, 32, "Text"],
Cell[81813, 3383, 94, 3, 32, "Text"],
Cell[81910, 3388, 43, 0, 32, "Text"],
Cell[81956, 3390, 57, 1, 27, "Input"],
Cell[82016, 3393, 41, 0, 32, "Text"],
Cell[82060, 3395, 54, 1, 27, "Input"],
Cell[82117, 3398, 46, 0, 32, "Text"],
Cell[82166, 3400, 53, 1, 27, "Input"],
Cell[82222, 3403, 88, 3, 32, "Text"],
Cell[82313, 3408, 89, 1, 27, "Input"],
Cell[82405, 3411, 39, 0, 32, "Text"],
Cell[82447, 3413, 61, 1, 27, "Input"],
Cell[82511, 3416, 56, 0, 32, "Text"],
Cell[82570, 3418, 148, 3, 27, "Input"],
Cell[82721, 3423, 40, 1, 27, "Input"],
Cell[82764, 3426, 40, 1, 27, "Input"],
Cell[82807, 3429, 125, 3, 32, "Text"],
Cell[82935, 3434, 47, 1, 27, "Input"],
Cell[82985, 3437, 48, 0, 32, "Text"],
Cell[83036, 3439, 51, 1, 27, "Input"],
Cell[83090, 3442, 39, 0, 32, "Text"],
Cell[83132, 3444, 61, 1, 27, "Input"],
Cell[83196, 3447, 65, 0, 32, "Text"],
Cell[83264, 3449, 91, 1, 27, "Input"],
Cell[83358, 3452, 85, 1, 27, "Input"],
Cell[83446, 3455, 50, 1, 27, "Input"],
Cell[83499, 3458, 48, 0, 32, "Text"],
Cell[83550, 3460, 51, 1, 27, "Input"],
Cell[83604, 3463, 48, 0, 32, "Text"],
Cell[83655, 3465, 51, 1, 27, "Input"],
Cell[83709, 3468, 45, 0, 32, "Text"],
Cell[83757, 3470, 74, 1, 27, "Input"],
Cell[83834, 3473, 74, 1, 27, "Input"],
Cell[83911, 3476, 51, 1, 27, "Input"],
Cell[83965, 3479, 39, 1, 27, "Input"],
Cell[84007, 3482, 37, 0, 32, "Text"],
Cell[84047, 3484, 70, 1, 27, "Input"],
Cell[84120, 3487, 39, 1, 27, "Input"],
Cell[84162, 3490, 88, 3, 32, "Text"],
Cell[84253, 3495, 140, 3, 27, "Input"],
Cell[84396, 3500, 61, 1, 27, "Input"],
Cell[84460, 3503, 45, 0, 32, "Text"],
Cell[84508, 3505, 74, 1, 27, "Input"],
Cell[84585, 3508, 74, 1, 27, "Input"],
Cell[84662, 3511, 51, 1, 27, "Input"],
Cell[84716, 3514, 39, 1, 27, "Input"],
Cell[84758, 3517, 155, 3, 50, "Text"],
Cell[84916, 3522, 91, 1, 27, "Input"],
Cell[85010, 3525, 87, 1, 27, "Input"],
Cell[85100, 3528, 61, 1, 27, "Input"],
Cell[85164, 3531, 115, 3, 32, "Text"],
Cell[85282, 3536, 56, 1, 27, "Input"],
Cell[85341, 3539, 131, 3, 27, "Input"],
Cell[85475, 3544, 61, 1, 27, "Input"],
Cell[85539, 3547, 55, 0, 32, "Text"],
Cell[85597, 3549, 51, 1, 27, "Input"],
Cell[85651, 3552, 87, 3, 32, "Text"],
Cell[85741, 3557, 244, 4, 59, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[86022, 3566, 30, 0, 30, "Subsection"],
Cell[86055, 3568, 113, 3, 32, "Text"],
Cell[86171, 3573, 118, 2, 27, "Input"],
Cell[86292, 3577, 39, 1, 27, "Input"],
Cell[86334, 3580, 130, 2, 27, "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{
Cell[86513, 3588, 30, 0, 53, "Subtitle"],
Cell[86546, 3590, 55, 0, 32, "Text"],
Cell[86604, 3592, 71, 0, 32, "Text"],
Cell[86678, 3594, 43, 1, 27, "Input"],

Cell[CellGroupData[{
Cell[86746, 3599, 37, 0, 38, "Subsection"],
Cell[86786, 3601, 46, 0, 32, "Text"],
Cell[86835, 3603, 60, 1, 27, "Input"],
Cell[86898, 3606, 44, 0, 32, "Text"],
Cell[86945, 3608, 57, 1, 27, "Input"],
Cell[87005, 3611, 46, 0, 32, "Text"],
Cell[87054, 3613, 56, 1, 27, "Input"],
Cell[87113, 3616, 91, 3, 32, "Text"],
Cell[87207, 3621, 157, 3, 43, "Input"],
Cell[87367, 3626, 39, 0, 32, "Text"],
Cell[87409, 3628, 61, 1, 27, "Input"],
Cell[87473, 3631, 56, 0, 32, "Text"],
Cell[87532, 3633, 209, 4, 43, "Input"],
Cell[87744, 3639, 40, 1, 27, "Input"],
Cell[87787, 3642, 40, 1, 27, "Input"],
Cell[87830, 3645, 132, 3, 32, "Text"],
Cell[87965, 3650, 47, 1, 27, "Input"],
Cell[88015, 3653, 51, 0, 32, "Text"],
Cell[88069, 3655, 54, 1, 27, "Input"],
Cell[88126, 3658, 39, 0, 32, "Text"],
Cell[88168, 3660, 61, 1, 27, "Input"],
Cell[88232, 3663, 107, 3, 32, "Text"],
Cell[88342, 3668, 70, 1, 27, "Input"],
Cell[88415, 3671, 127, 3, 32, "Text"],
Cell[88545, 3676, 51, 1, 27, "Input"],
Cell[88599, 3679, 172, 4, 50, "Text"],
Cell[88774, 3685, 82, 1, 27, "Input"],
Cell[88859, 3688, 89, 3, 32, "Text"],
Cell[88951, 3693, 69, 1, 27, "Input"],
Cell[89023, 3696, 60, 0, 32, "Text"],
Cell[89086, 3698, 60, 1, 27, "Input"],
Cell[89149, 3701, 46, 0, 32, "Text"],
Cell[89198, 3703, 41, 1, 27, "Input"],
Cell[89242, 3706, 57, 1, 27, "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{
Cell[89348, 3713, 28, 0, 53, "Subtitle"],

Cell[CellGroupData[{
Cell[89401, 3717, 26, 0, 38, "Subsection"],
Cell[89430, 3719, 35, 0, 32, "Text"],
Cell[89468, 3721, 49, 1, 27, "Input"],
Cell[89520, 3724, 55, 0, 32, "Text"],
Cell[89578, 3726, 58, 1, 27, "Input"],
Cell[89639, 3729, 33, 0, 32, "Text"],
Cell[89675, 3731, 46, 1, 27, "Input"],
Cell[89724, 3734, 46, 0, 32, "Text"],
Cell[89773, 3736, 45, 1, 27, "Input"],
Cell[89821, 3739, 70, 0, 32, "Text"],
Cell[89894, 3741, 64, 1, 27, "Input"],
Cell[89961, 3744, 39, 0, 32, "Text"],
Cell[90003, 3746, 61, 1, 27, "Input"],
Cell[90067, 3749, 56, 0, 32, "Text"],
Cell[90126, 3751, 123, 3, 27, "Input"],
Cell[90252, 3756, 40, 1, 27, "Input"],
Cell[90295, 3759, 40, 1, 27, "Input"],
Cell[90338, 3762, 110, 3, 32, "Text"],
Cell[90451, 3767, 47, 1, 27, "Input"],
Cell[90501, 3770, 40, 0, 32, "Text"],
Cell[90544, 3772, 43, 1, 27, "Input"],
Cell[90590, 3775, 39, 0, 32, "Text"],
Cell[90632, 3777, 61, 1, 27, "Input"],
Cell[90696, 3780, 93, 3, 32, "Text"],
Cell[90792, 3785, 106, 2, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[90935, 3792, 34, 0, 30, "Subsection"],
Cell[90972, 3794, 45, 0, 32, "Text"],
Cell[91020, 3796, 57, 1, 27, "Input"],
Cell[91080, 3799, 40, 0, 32, "Text"],
Cell[91123, 3801, 58, 1, 27, "Input"],
Cell[91184, 3804, 88, 3, 32, "Text"],
Cell[91275, 3809, 67, 1, 27, "Input"],
Cell[91345, 3812, 39, 0, 32, "Text"],
Cell[91387, 3814, 61, 1, 27, "Input"],
Cell[91451, 3817, 56, 0, 32, "Text"],
Cell[91510, 3819, 184, 4, 27, "Input"],
Cell[91697, 3825, 40, 1, 27, "Input"],
Cell[91740, 3828, 40, 1, 27, "Input"],
Cell[91783, 3831, 201, 5, 50, "Text"],
Cell[91987, 3838, 47, 1, 27, "Input"],
Cell[92037, 3841, 47, 0, 32, "Text"],
Cell[92087, 3843, 44, 1, 27, "Input"],
Cell[92134, 3846, 39, 0, 32, "Text"],
Cell[92176, 3848, 63, 1, 27, "Input"],
Cell[92242, 3851, 181, 4, 50, "Text"],
Cell[92426, 3857, 139, 3, 32, "Text"],
Cell[92568, 3862, 68, 1, 27, "Input"],
Cell[92639, 3865, 50, 1, 27, "Input"],
Cell[92692, 3868, 70, 1, 27, "Input"],
Cell[92765, 3871, 47, 1, 27, "Input"],
Cell[92815, 3874, 48, 1, 27, "Input"],
Cell[92866, 3877, 56, 1, 27, "Input"],
Cell[92925, 3880, 52, 0, 32, "Text"],
Cell[92980, 3882, 54, 1, 27, "Input"],
Cell[93037, 3885, 61, 1, 27, "Input"],
Cell[93101, 3888, 64, 0, 32, "Text"],
Cell[93168, 3890, 40, 1, 27, "Input"],
Cell[93211, 3893, 61, 1, 27, "Input"],
Cell[93275, 3896, 41, 1, 27, "Input"],
Cell[93319, 3899, 61, 1, 27, "Input"],
Cell[93383, 3902, 43, 0, 32, "Text"],
Cell[93429, 3904, 38, 1, 27, "Input"],
Cell[93470, 3907, 61, 1, 27, "Input"],
Cell[93534, 3910, 41, 1, 27, "Input"],
Cell[93578, 3913, 61, 1, 27, "Input"],
Cell[93642, 3916, 36, 0, 32, "Text"],
Cell[93681, 3918, 37, 1, 27, "Input"],
Cell[93721, 3921, 61, 1, 27, "Input"],
Cell[93785, 3924, 41, 1, 27, "Input"],
Cell[93829, 3927, 61, 1, 27, "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{
Cell[93939, 3934, 26, 0, 53, "Subtitle"],
Cell[93968, 3936, 237, 5, 68, "Text"],
Cell[94208, 3943, 124, 3, 32, "Text"],
Cell[94335, 3948, 43, 1, 27, "Input"],
Cell[94381, 3951, 125, 3, 32, "Text"],
Cell[94509, 3956, 44, 1, 27, "Input"],
Cell[94556, 3959, 102, 3, 32, "Text"],

Cell[CellGroupData[{
Cell[94683, 3966, 37, 0, 38, "Subsection"],
Cell[94723, 3968, 46, 0, 32, "Text"],
Cell[94772, 3970, 60, 1, 27, "Input"],
Cell[94835, 3973, 44, 0, 32, "Text"],
Cell[94882, 3975, 57, 1, 27, "Input"],
Cell[94942, 3978, 46, 0, 32, "Text"],
Cell[94991, 3980, 56, 1, 27, "Input"],
Cell[95050, 3983, 91, 3, 32, "Text"],
Cell[95144, 3988, 127, 3, 27, "Input"],
Cell[95274, 3993, 39, 0, 32, "Text"],
Cell[95316, 3995, 61, 1, 27, "Input"],
Cell[95380, 3998, 56, 0, 32, "Text"],
Cell[95439, 4000, 170, 3, 27, "Input"],
Cell[95612, 4005, 40, 1, 27, "Input"],
Cell[95655, 4008, 40, 1, 27, "Input"],
Cell[95698, 4011, 132, 3, 32, "Text"],
Cell[95833, 4016, 47, 1, 27, "Input"],
Cell[95883, 4019, 51, 0, 32, "Text"],
Cell[95937, 4021, 54, 1, 27, "Input"],
Cell[95994, 4024, 39, 0, 32, "Text"],
Cell[96036, 4026, 61, 1, 27, "Input"],
Cell[96100, 4029, 126, 3, 32, "Text"],
Cell[96229, 4034, 72, 1, 27, "Input"],
Cell[96304, 4037, 67, 0, 32, "Text"],
Cell[96374, 4039, 77, 1, 27, "Input"],
Cell[96454, 4042, 115, 3, 32, "Text"],
Cell[96572, 4047, 80, 1, 27, "Input"],
Cell[96655, 4050, 66, 0, 32, "Text"],
Cell[96724, 4052, 63, 1, 27, "Input"],
Cell[96790, 4055, 36, 0, 32, "Text"],
Cell[96829, 4057, 80, 1, 27, "Input"],
Cell[96912, 4060, 74, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[97023, 4066, 38, 0, 30, "Subsection"],
Cell[97064, 4068, 47, 0, 32, "Text"],
Cell[97114, 4070, 61, 1, 27, "Input"],
Cell[97178, 4073, 45, 0, 32, "Text"],
Cell[97226, 4075, 58, 1, 27, "Input"],
Cell[97287, 4078, 46, 0, 32, "Text"],
Cell[97336, 4080, 57, 1, 27, "Input"],
Cell[97396, 4083, 92, 3, 32, "Text"],
Cell[97491, 4088, 220, 5, 43, "Input"],
Cell[97714, 4095, 39, 0, 32, "Text"],
Cell[97756, 4097, 61, 1, 27, "Input"],
Cell[97820, 4100, 56, 0, 32, "Text"],
Cell[97879, 4102, 240, 4, 43, "Input"],
Cell[98122, 4108, 40, 1, 27, "Input"],
Cell[98165, 4111, 40, 1, 27, "Input"],
Cell[98208, 4114, 134, 3, 32, "Text"],
Cell[98345, 4119, 47, 1, 27, "Input"],
Cell[98395, 4122, 52, 0, 32, "Text"],
Cell[98450, 4124, 55, 1, 27, "Input"],
Cell[98508, 4127, 39, 0, 32, "Text"],
Cell[98550, 4129, 61, 1, 27, "Input"],
Cell[98614, 4132, 96, 3, 32, "Text"],
Cell[98713, 4137, 79, 1, 27, "Input"],
Cell[98795, 4140, 132, 3, 32, "Text"],
Cell[98930, 4145, 62, 1, 27, "Input"],
Cell[98995, 4148, 60, 0, 32, "Text"],
Cell[99058, 4150, 83, 1, 27, "Input"],
Cell[99144, 4153, 65, 0, 32, "Text"],
Cell[99212, 4155, 49, 1, 27, "Input"],
Cell[99264, 4158, 51, 1, 27, "Input"],
Cell[99318, 4161, 66, 0, 32, "Text"],
Cell[99387, 4163, 48, 1, 27, "Input"],
Cell[99438, 4166, 55, 1, 27, "Input"],
Cell[99496, 4169, 52, 1, 27, "Input"],
Cell[99551, 4172, 172, 4, 50, "Text"],
Cell[99726, 4178, 51, 1, 27, "Input"],
Cell[99780, 4181, 51, 1, 27, "Input"],
Cell[99834, 4184, 37, 0, 32, "Text"],
Cell[99874, 4186, 83, 1, 27, "Input"],
Cell[99960, 4189, 48, 1, 27, "Input"],
Cell[100011, 4192, 39, 0, 32, "Text"],
Cell[100053, 4194, 50, 1, 27, "Input"],
Cell[100106, 4197, 41, 1, 27, "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{
Cell[100196, 4204, 29, 0, 53, "Subtitle"],
Cell[100228, 4206, 106, 3, 50, "Text"],
Cell[100337, 4211, 40, 0, 32, "Text"]
}, Closed]],

Cell[CellGroupData[{
Cell[100414, 4216, 31, 0, 53, "Subtitle"],
Cell[100448, 4218, 146, 2, 32, "Text"],

Cell[CellGroupData[{
Cell[100619, 4224, 27, 0, 38, "Subsection"],
Cell[100649, 4226, 171, 4, 50, "Text"],
Cell[100823, 4232, 362, 6, 68, "Text"],
Cell[101188, 4240, 219, 4, 50, "Text"],
Cell[101410, 4246, 135, 3, 32, "Text"]
}, Closed]],

Cell[CellGroupData[{
Cell[101582, 4254, 41, 0, 30, "Subsection"],
Cell[101626, 4256, 234, 8, 32, "Text"],
Cell[101863, 4266, 64, 1, 27, "Input"],
Cell[101930, 4269, 209, 6, 32, "Text"],
Cell[102142, 4277, 65, 1, 27, "Input"],
Cell[102210, 4280, 95, 3, 32, "Text"],
Cell[102308, 4285, 89, 1, 27, "Input"],
Cell[102400, 4288, 111, 5, 32, "Text"],
Cell[102514, 4295, 61, 1, 27, "Input"],
Cell[102578, 4298, 33, 0, 32, "Text"],
Cell[102614, 4300, 40, 1, 27, "Input"],
Cell[102657, 4303, 174, 6, 32, "Text"],
Cell[102834, 4311, 163, 4, 27, "Input"],
Cell[103000, 4317, 101, 5, 32, "Text"],
Cell[103104, 4324, 40, 1, 27, "Input"],
Cell[103147, 4327, 35, 0, 32, "Text"],
Cell[103185, 4329, 40, 1, 27, "Input"],
Cell[103228, 4332, 49, 0, 32, "Text"],
Cell[103280, 4334, 44, 1, 27, "Input"],
Cell[103327, 4337, 39, 0, 32, "Text"],
Cell[103369, 4339, 63, 1, 27, "Input"],
Cell[103435, 4342, 54, 0, 32, "Text"],
Cell[103492, 4344, 44, 1, 27, "Input"],
Cell[103539, 4347, 49, 1, 27, "Input"],
Cell[103591, 4350, 54, 1, 27, "Input"],
Cell[103648, 4353, 56, 1, 27, "Input"],
Cell[103707, 4356, 108, 3, 32, "Text"],
Cell[103818, 4361, 60, 1, 27, "Input"],
Cell[103881, 4364, 40, 1, 27, "Input"],
Cell[103924, 4367, 55, 1, 27, "Input"],
Cell[103982, 4370, 58, 1, 27, "Input"],
Cell[104043, 4373, 39, 0, 32, "Text"],
Cell[104085, 4375, 74, 1, 27, "Input"],
Cell[104162, 4378, 84, 1, 27, "Input"],
Cell[104249, 4381, 165, 4, 59, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[104451, 4390, 33, 0, 30, "Subsection"],
Cell[104487, 4392, 42, 0, 32, "Text"],
Cell[104532, 4394, 56, 1, 27, "Input"],
Cell[104591, 4397, 66, 0, 32, "Text"],
Cell[104660, 4399, 62, 1, 27, "Input"],
Cell[104725, 4402, 40, 0, 32, "Text"],
Cell[104768, 4404, 53, 1, 27, "Input"],
Cell[104824, 4407, 46, 0, 32, "Text"],
Cell[104873, 4409, 52, 1, 27, "Input"],
Cell[104928, 4412, 87, 3, 32, "Text"],
Cell[105018, 4417, 66, 1, 27, "Input"],
Cell[105087, 4420, 39, 0, 32, "Text"],
Cell[105129, 4422, 61, 1, 27, "Input"],
Cell[105193, 4425, 56, 0, 32, "Text"],
Cell[105252, 4427, 125, 3, 27, "Input"],
Cell[105380, 4432, 40, 1, 27, "Input"],
Cell[105423, 4435, 40, 1, 27, "Input"],
Cell[105466, 4438, 124, 3, 32, "Text"],
Cell[105593, 4443, 47, 1, 27, "Input"],
Cell[105643, 4446, 47, 0, 32, "Text"],
Cell[105693, 4448, 50, 1, 27, "Input"],
Cell[105746, 4451, 39, 0, 32, "Text"],
Cell[105788, 4453, 61, 1, 27, "Input"],
Cell[105852, 4456, 43, 0, 32, "Text"],
Cell[105898, 4458, 66, 1, 27, "Input"],
Cell[105967, 4461, 64, 0, 32, "Text"],
Cell[106034, 4463, 57, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[106128, 4469, 38, 0, 30, "Subsection"],
Cell[106169, 4471, 49, 0, 32, "Text"],
Cell[106221, 4473, 61, 1, 27, "Input"],
Cell[106285, 4476, 44, 0, 32, "Text"],
Cell[106332, 4478, 62, 1, 27, "Input"],
Cell[106397, 4481, 92, 3, 32, "Text"],
Cell[106492, 4486, 85, 1, 27, "Input"],
Cell[106580, 4489, 39, 0, 32, "Text"],
Cell[106622, 4491, 61, 1, 27, "Input"],
Cell[106686, 4494, 56, 0, 32, "Text"],
Cell[106745, 4496, 220, 5, 59, "Input"],
Cell[106968, 4503, 40, 1, 27, "Input"],
Cell[107011, 4506, 40, 1, 27, "Input"],
Cell[107054, 4509, 209, 5, 50, "Text"],
Cell[107266, 4516, 47, 1, 27, "Input"],
Cell[107316, 4519, 54, 0, 32, "Text"],
Cell[107373, 4521, 51, 1, 27, "Input"],
Cell[107427, 4524, 39, 0, 32, "Text"],
Cell[107469, 4526, 63, 1, 27, "Input"],
Cell[107535, 4529, 39, 0, 32, "Text"],
Cell[107577, 4531, 74, 1, 27, "Input"],
Cell[107654, 4534, 60, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[107751, 4540, 34, 0, 30, "Subsection"],
Cell[107788, 4542, 43, 0, 32, "Text"],
Cell[107834, 4544, 57, 1, 27, "Input"],
Cell[107894, 4547, 41, 0, 32, "Text"],
Cell[107938, 4549, 54, 1, 27, "Input"],
Cell[107995, 4552, 46, 0, 32, "Text"],
Cell[108044, 4554, 53, 1, 27, "Input"],
Cell[108100, 4557, 88, 3, 32, "Text"],
Cell[108191, 4562, 83, 1, 27, "Input"],
Cell[108277, 4565, 39, 0, 32, "Text"],
Cell[108319, 4567, 61, 1, 27, "Input"],
Cell[108383, 4570, 56, 0, 32, "Text"],
Cell[108442, 4572, 142, 3, 27, "Input"],
Cell[108587, 4577, 40, 1, 27, "Input"],
Cell[108630, 4580, 40, 1, 27, "Input"],
Cell[108673, 4583, 126, 3, 32, "Text"],
Cell[108802, 4588, 47, 1, 27, "Input"],
Cell[108852, 4591, 48, 0, 32, "Text"],
Cell[108903, 4593, 51, 1, 27, "Input"],
Cell[108957, 4596, 39, 0, 32, "Text"],
Cell[108999, 4598, 61, 1, 27, "Input"],
Cell[109063, 4601, 39, 0, 32, "Text"],
Cell[109105, 4603, 54, 1, 27, "Input"],
Cell[109162, 4606, 54, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[109253, 4612, 35, 0, 30, "Subsection"],
Cell[109291, 4614, 44, 0, 32, "Text"],
Cell[109338, 4616, 58, 1, 27, "Input"],
Cell[109399, 4619, 70, 0, 32, "Text"],
Cell[109472, 4621, 64, 1, 27, "Input"],
Cell[109539, 4624, 42, 0, 32, "Text"],
Cell[109584, 4626, 55, 1, 27, "Input"],
Cell[109642, 4629, 46, 0, 32, "Text"],
Cell[109691, 4631, 54, 1, 27, "Input"],
Cell[109748, 4634, 89, 3, 32, "Text"],
Cell[109840, 4639, 68, 1, 27, "Input"],
Cell[109911, 4642, 39, 0, 32, "Text"],
Cell[109953, 4644, 61, 1, 27, "Input"],
Cell[110017, 4647, 56, 0, 32, "Text"],
Cell[110076, 4649, 127, 3, 27, "Input"],
Cell[110206, 4654, 40, 1, 27, "Input"],
Cell[110249, 4657, 40, 1, 27, "Input"],
Cell[110292, 4660, 128, 3, 32, "Text"],
Cell[110423, 4665, 47, 1, 27, "Input"],
Cell[110473, 4668, 49, 0, 32, "Text"],
Cell[110525, 4670, 52, 1, 27, "Input"],
Cell[110580, 4673, 39, 0, 32, "Text"],
Cell[110622, 4675, 61, 1, 27, "Input"],
Cell[110686, 4678, 39, 0, 32, "Text"],
Cell[110728, 4680, 77, 1, 27, "Input"],
Cell[110808, 4683, 69, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[110914, 4689, 40, 0, 30, "Subsection"],
Cell[110957, 4691, 51, 0, 32, "Text"],
Cell[111011, 4693, 63, 1, 27, "Input"],
Cell[111077, 4696, 46, 0, 32, "Text"],
Cell[111126, 4698, 64, 1, 27, "Input"],
Cell[111193, 4701, 94, 3, 32, "Text"],
Cell[111290, 4706, 91, 1, 27, "Input"],
Cell[111384, 4709, 39, 0, 32, "Text"],
Cell[111426, 4711, 61, 1, 27, "Input"],
Cell[111490, 4714, 56, 0, 32, "Text"],
Cell[111549, 4716, 226, 5, 59, "Input"],
Cell[111778, 4723, 40, 1, 27, "Input"],
Cell[111821, 4726, 40, 1, 27, "Input"],
Cell[111864, 4729, 213, 5, 50, "Text"],
Cell[112080, 4736, 47, 1, 27, "Input"],
Cell[112130, 4739, 56, 0, 32, "Text"],
Cell[112189, 4741, 53, 1, 27, "Input"],
Cell[112245, 4744, 39, 0, 32, "Text"],
Cell[112287, 4746, 63, 1, 27, "Input"],
Cell[112353, 4749, 39, 0, 32, "Text"],
Cell[112395, 4751, 128, 3, 27, "Input"],
Cell[112526, 4756, 80, 1, 27, "Input"],
Cell[112609, 4759, 131, 3, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[112777, 4767, 31, 0, 30, "Subsection"],
Cell[112811, 4769, 40, 0, 32, "Text"],
Cell[112854, 4771, 54, 1, 27, "Input"],
Cell[112911, 4774, 38, 0, 32, "Text"],
Cell[112952, 4776, 51, 1, 27, "Input"],
Cell[113006, 4779, 46, 0, 32, "Text"],
Cell[113055, 4781, 50, 1, 27, "Input"],
Cell[113108, 4784, 75, 0, 32, "Text"],
Cell[113186, 4786, 104, 2, 27, "Input"],
Cell[113293, 4790, 39, 0, 32, "Text"],
Cell[113335, 4792, 61, 1, 27, "Input"],
Cell[113399, 4795, 56, 0, 32, "Text"],
Cell[113458, 4797, 156, 3, 27, "Input"],
Cell[113617, 4802, 40, 1, 27, "Input"],
Cell[113660, 4805, 40, 1, 27, "Input"],
Cell[113703, 4808, 120, 3, 32, "Text"],
Cell[113826, 4813, 47, 1, 27, "Input"],
Cell[113876, 4816, 45, 0, 32, "Text"],
Cell[113924, 4818, 48, 1, 27, "Input"],
Cell[113975, 4821, 39, 0, 32, "Text"],
Cell[114017, 4823, 61, 1, 27, "Input"],
Cell[114081, 4826, 39, 0, 32, "Text"],
Cell[114123, 4828, 89, 1, 27, "Input"],
Cell[114215, 4831, 136, 3, 27, "Input"],
Cell[114354, 4836, 56, 1, 27, "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{
Cell[114459, 4843, 28, 0, 53, "Subtitle"],
Cell[114490, 4845, 204, 5, 50, "Text"],
Cell[114697, 4852, 339, 8, 122, "Text"]
}, Closed]],

Cell[CellGroupData[{
Cell[115073, 4865, 53, 0, 53, "Subtitle"],
Cell[115129, 4867, 105, 3, 32, "Text"],
Cell[115237, 4872, 50, 1, 27, "Input"],
Cell[115290, 4875, 94, 3, 32, "Text"],
Cell[115387, 4880, 49, 1, 27, "Input"],
Cell[115439, 4883, 240, 6, 50, "Text"],
Cell[115682, 4891, 52, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[115771, 4897, 29, 0, 53, "Subtitle"],
Cell[115803, 4899, 226, 5, 50, "Text"],
Cell[116032, 4906, 89, 3, 32, "Text"],
Cell[116124, 4911, 208, 4, 50, "Text"],
Cell[116335, 4917, 54, 1, 27, "Input"],
Cell[116392, 4920, 122, 3, 32, "Text"],
Cell[116517, 4925, 52, 0, 32, "Text"],
Cell[116572, 4927, 43, 1, 27, "Input"],
Cell[116618, 4930, 70, 0, 32, "Text"],
Cell[116691, 4932, 57, 1, 27, "Input"],
Cell[116751, 4935, 40, 0, 32, "Text"],
Cell[116794, 4937, 57, 1, 27, "Input"],
Cell[116854, 4940, 32, 0, 32, "Text"],
Cell[116889, 4942, 44, 1, 27, "Input"],
Cell[116936, 4945, 40, 0, 32, "Text"],
Cell[116979, 4947, 40, 1, 27, "Input"],
Cell[117022, 4950, 72, 0, 32, "Text"],
Cell[117097, 4952, 63, 1, 27, "Input"],
Cell[117163, 4955, 130, 3, 32, "Text"],
Cell[117296, 4960, 159, 4, 27, "Input"],
Cell[117458, 4966, 40, 0, 32, "Text"],
Cell[117501, 4968, 57, 1, 27, "Input"],
Cell[117561, 4971, 37, 0, 32, "Text"],
Cell[117601, 4973, 63, 1, 27, "Input"],
Cell[117667, 4976, 41, 0, 32, "Text"],
Cell[117711, 4978, 66, 1, 27, "Input"],
Cell[117780, 4981, 156, 3, 50, "Text"],
Cell[117939, 4986, 144, 4, 50, "Text"]
}, Closed]]
}, Open  ]]
}
]
*)



(*******************************************************************
End of Mathematica Notebook file.
*******************************************************************)

