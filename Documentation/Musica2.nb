(************** Content-type: application/mathematica **************
                     CreatedBy='Mathematica 5.0'

                    Mathematica-Compatible Notebook

This notebook can be used with any Mathematica-compatible
application, such as Mathematica, MathReader or Publicon. The data
for the notebook starts with the line containing stars above.

To get the notebook into a Mathematica-compatible application, do
one of the following:

* Save the data starting with the line of stars above into a file
  with a name ending in .nb, then open the file inside the
  application;

* Copy the data starting with the line of stars above to the
  clipboard, then use the Paste menu command inside the application.

Data for notebooks contains only printable 7-bit ASCII and can be
sent directly in email or through ftp in text mode.  Newlines can be
CR, LF or CRLF (Unix, Macintosh or MS-DOS style).

NOTE: If you modify the data for this notebook not in a Mathematica-
compatible application, you must delete the line below containing
the word CacheID, otherwise Mathematica-compatible applications may
try to use invalid cache data.

For more information on notebooks and Mathematica-compatible 
applications, contact Wolfram Research:
  web: http://www.wolfram.com
  email: info@wolfram.com
  phone: +1-217-398-0700 (U.S.)

Notebook reader applications are available free of charge from 
Wolfram Research.
*******************************************************************)

(*CacheID: 232*)


(*NotebookFileLineBreakTest
NotebookFileLineBreakTest*)
(*NotebookOptionsPosition[     89500,       3963]*)
(*NotebookOutlinePosition[     90214,       3988]*)
(*  CellTagsIndexPosition[     90170,       3984]*)
(*WindowFrame->Normal*)



Notebook[{

Cell[CellGroupData[{
Cell["Musica2", "Title",
  FontSize->24],

Cell["Documentation on the Musica2 package.", "Text"],

Cell[CellGroupData[{

Cell["Licence", "Subtitle"],

Cell["\<\
Copyright (C) 2004 Bo C. Herlin

This program is free software;you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation;either version 2
of the License,or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY;without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program;if not,write to the Free Software Foundation,
Inc.,59 Temple Place-Suite 330,Boston,MA 02111-1307,USA.\
\>", "Text"]
}, Closed]],

Cell[CellGroupData[{

Cell["Changes", "Subtitle"],

Cell["\<\
2005-01-27 Bo C. Herlin : renamed Spectrum to ToneSpectrum, Scale \
to KeyMode and Type to ObjectType to avoid conflicts
2005-01-25 Bo C. Herlin : added the \"All symbols listed alphabetically\" \
chapter
2005-01-23 Bo C. Herlin : changed Duration to TotalDuration
2005-01-23 Bo C. Herlin : changed NoteDuration to Duration
2005-01-21 Bo C. Herlin : coded Mix, Par and Seq for Sound and Snippet
2005-01-21 Bo C. Herlin : more and hopefully better opts-handling
2005-01-19 Bo C. Herlin : changed the struct of Scale
2005-01-16 Bo C. Herlin : added EventList chapter at the end
2005-01-09 Bo C. Herlin : added CustomTuning
2005-01-07 Bo C. Herlin : ...still rewriting and killing bugs...\
\>", "Text"]
}, Closed]],

Cell[CellGroupData[{

Cell["Welcome", "Subtitle"],

Cell["Hi there! Welcome to Musica2.", "Text"],

Cell["\<\
This is a randomly created notebook that sometimes also works as a \
testbench when I extend Musica2. I try to make everything in this notebook to \
work in every release, and even in the CVS at sourceforge.net.
I hope that You will find it useful.\
\>", "Text"],

Cell["Homepage: http://musica.sourceforge.net", "Text"]
}, Closed]],

Cell[CellGroupData[{

Cell["Init", "Subtitle"],

Cell["\<\
A small example below uses a tiny part of the Audio package when \
creating a triangle sound.\
\>", "Text"],

Cell[BoxData[
    \(<< Graphics`Colors`\)], "Input",
  InitializationCell->True],

Cell["Im using some colors.", "Text"],

Cell[BoxData[
    \(<< Miscellaneous`Audio`\)], "Input",
  InitializationCell->True],

Cell["\<\
Load Musica2 which in turn will load each sub-package when \
needed.\
\>", "Text"],

Cell[BoxData[
    \(<< Musica2`\)], "Input",
  InitializationCell->True],

Cell["Set DataFolder to the folder containing the testfiles.", "Text"],

Cell[BoxData[
    \(\(DataFolder = "\<Musica2/Documentation/Data/\>";\)\)], "Input",
  InitializationCell->True],

Cell[BoxData[
    \(\(\(\(cor := DataFolder <> "\<cor.mid\>"\) \)\(;\)\( (*\ 2.9  kb, \ 
      J . S . Bach, \ bwv\ 323, \ choral, \ Holy, \ 
      holy, \ \(\(holy\)\(.\)\)\ *) \)\(\[IndentingNewLine]\)\(\(fug := 
        DataFolder <> "\<fug.mid\>"\) \)\(;\)\( (*\ 6.1  kb, \ 
      J . S . Bach, \ bwv\ 846  b, \ fugue\ 1\ in\ C\ major, \ 
      wtc1\ *) \)\(\[IndentingNewLine]\)\(\(cun := 
        DataFolder <> "\<cun.mid\>"\) \)\(;\)\( (*\ 6.4  kb, \ 
      J . S . Bach, \ bwv\ 1080  a, \ contrapunctus\ 1, \ 
      cunst\ die\ fugue\ *) \)\(\[IndentingNewLine]\)\(\(pre := 
        DataFolder <> "\<pre.mid\>"\) \)\(;\)\( (*\ 8.9  kb, \ 
      J . S . Bach, \ bwv\ 847  a, \ preludium\ 2\ in\ C\ minor, \ 
      wtc1\ *) \)\)\)], "Input",
  InitializationCell->True],

Cell["Set MidiTestFile to the file to apply the tests to.", "Text"],

Cell[BoxData[{
    \(\(MidiTestFile := cor;\)\), "\[IndentingNewLine]", 
    \(\(MidiTestFileList := {cor, fug, cun, pre};\)\)}], "Input",
  InitializationCell->True]
}, Closed]],

Cell[CellGroupData[{

Cell["Mini-tour", "Subtitle"],

Cell["Read from a SMF (StandardMidiFile).", "Text"],

Cell[BoxData[
    \(mid = Import[MidiTestFile, Midi]\)], "Input"],

Cell["Plot it on a pianoroll.", "Text"],

Cell[BoxData[
    \(PianoRoll[mid]\)], "Input"],

Cell["Play it.", "Text"],

Cell[BoxData[
    \(Play2[mid]\)], "Input"],

Cell["Write to a WAV-file.", "Text"],

Cell[BoxData[
    \(Export["\<tmp.wav\>", %]\)], "Input"],

Cell["Write to a SMF-file.", "Text"],

Cell[BoxData[
    \(Export["\<tmp.mid\>", mid]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Mini-tour step by step", "Subtitle"],

Cell["Read from a SMF.", "Text"],

Cell[BoxData[
    \(mid = Import[MidiTestFile, Midi]\)], "Input"],

Cell["Set time-unit to second instead of tick.", "Text"],

Cell[BoxData[
    \(mid = Midi[mid, TimeUnit \[Rule] Second]\)], "Input"],

Cell["Get all tracks.", "Text"],

Cell[BoxData[
    \(trk = Track[mid]\)], "Input"],

Cell["Convert each track to counterpoint.", "Text"],

Cell[BoxData[
    \(cpt = Counterpoint /@ trk\)], "Input"],

Cell["Get the melodies in each counterpoint.", "Text"],

Cell[BoxData[
    \(mel = Melody /@ cpt\)], "Input"],

Cell["Flatten it and get the ones that are non-empty.", "Text"],

Cell[BoxData[
    \(mel = Select[Flatten[mel], \((0 < Length[#])\) &]\)], "Input"],

Cell["Convert each melody to a snippet.", "Text"],

Cell[BoxData[
    \(snp = Snippet /@ mel\)], "Input"],

Cell["Or to be even more specific.", "Text"],

Cell[BoxData[
    \(snp = Convert[Melody, Snippet, Instrument] /@ mel\)], "Input"],

Cell["Make a 4ch sound of them.", "Text"],

Cell[BoxData[
    \(Length[snd = Sound[snp]]\)], "Input"],

Cell["Mix it to two channels.", "Text"],

Cell[BoxData[
    \(snd = Mix[snd, 2]\)], "Input"],

Cell["Play it.", "Text"],

Cell[BoxData[
    \(Show[snd]\)], "Input"],

Cell["Write to a WAV-file.", "Text"],

Cell[BoxData[
    \(Export["\<tmp.wav\>", snd]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Melody-Play2-Export example", "Subtitle"],

Cell["\<\
Create a random diatonic melody. The Note-constructor used take \
{duration,{pitchcode,velocity}} as parameter.\
\>", "Text"],

Cell[BoxData[
    \(mel = 
      Melody[Table[
          Note[\[IndentingNewLine]{\[IndentingNewLine]Random[Integer, {1, 4}]/
                4, \[IndentingNewLine]{\[IndentingNewLine]Random[
                  Integer, {35, 41}], \[IndentingNewLine]Random[
                  Integer, {64, 
                    127}]\[IndentingNewLine]}\[IndentingNewLine]}\
\[IndentingNewLine]], {12}]]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell["\<\
The KeyMode constructor without arguments return a C-major scale.
KeyModes can be used as a function to convert from scale-step to \
pitch-code.\
\>", "Text"],

Cell["Diatonic to chromatic.", "Text"],

Cell[BoxData[
    \(mel = \(KeyMode[]\)[mel]\)], "Input"],

Cell[BoxData[
    \(DataToRules[mel] // ColumnForm\)], "Input"],

Cell["Plot it.", "Text"],

Cell[BoxData[
    \(NotePlot[mel, PitchCode]\)], "Input"],

Cell[BoxData[
    \(NotePlot[mel, Velocity]\)], "Input"],

Cell["Get the durations", "Text"],

Cell[BoxData[
    \(Duration[mel]\)], "Input"],

Cell["Play it.", "Text"],

Cell[BoxData[
    \(Play2[mel]\)], "Input"],

Cell["Export it.", "Text"],

Cell[BoxData[
    \(Export["\<tmp.wav\>", %]\)], "Input"],

Cell["\<\
Convert to midi-track and set midi-channel to 3 (zero-based).\
\>", \
"Text"],

Cell[BoxData[
    \(trk = Track[mel, MidiChannel \[Rule] 3]\)], "Input"],

Cell[BoxData[
    \(DataToRules[trk] // ColumnForm\)], "Input"],

Cell["Convert to midi (assuming we used sec as time-unit).", "Text"],

Cell[BoxData[
    \(mid = Midi[trk, TimeUnit \[Rule] Second]\)], "Input"],

Cell["Plot it", "Text"],

Cell[BoxData[
    \(PianoRoll[mid]\)], "Input"],

Cell["Write to a SMF.", "Text"],

Cell[BoxData[
    \(Export["\<tmp.mid\>", mid]\)], "Input"],

Cell["Augment the durations by a ratio of 3/2", "Text"],

Cell[BoxData[
    \(mel = Map[3  #/2 &, mel, Duration]\)], "Input"],

Cell["Play it.", "Text"],

Cell[BoxData[
    \(Play2[mel]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Pattern (as in design)", "Subtitle"],

Cell[CellGroupData[{

Cell["Intro", "Subsection"],

Cell["\<\
I have tried to minimize the number of new symbols by applying a \
pattern to each object-type in Musica2.\
\>", "Text"],

Cell["\<\
Most types in Musica2 is either a container or an element whithin a \
container (or both). Examples of this in Musica2 is
  Midi that contains Track's that contains Event's
  TempoTrack that contains Tempo's
  Progression that contains Chord's that contains Note's
  Counterpoint that contains Melody's that contains Note's
  Sound that contains Snippet's\
\>", "Text"],

Cell[TextData[{
  "Its not OOP (no inheritance or polymorphism), its rather TOP \
(Type-Oriented-Programming ;-), just like ",
  StyleBox["Mathematica",
    FontSlant->"Italic"],
  " wants it."
}], "Text"],

Cell["\<\
Instead of having a Midi-object with a list of Track-objects I \
wanted the Midi-object to have no other Head's on its internal data than \
List. This since other Head's sometimes mess things up (i must admit, it may \
be because of my bad programming). But having custom Head's on the contaier \
its a handy thing, so I want to have it both ways, at least pretend I have \
it.\
\>", "Text"],

Cell["\<\
This is where the design-pattern comes in. I have written code than \
generates the code needed for this dual-face to appear. The result of a lazy \
programmer I'd say.\
\>", "Text"],

Cell["\<\
The best way to describe the pattern used is probably by giving an \
example. I am using a Tree-Branch-Leaf example, but since Tree is already \
taken I decided to use Bush-Twig-Leaf instead.\
\>", "Text"],

Cell["\<\
Creating types like this is rather easy (if you stick to some rules \
on the pattern for the leaf element which I havent documented yet and \
probably never will, ok, dont use \
BlankSequence,BlankNullSequence,Alternatives and then some...nested List's is \
ok though).\
\>", "Text"],

Cell["Always create the types in leaf to tree order.", "Text"],

Cell[TextData[{
  "We dont like the ",
  Cell[BoxData[
      \(General::"spell1"\)], "Message"],
  " message about LeafQ and ",
  "Leaf",
  ".\n(todo: is there a way of getting the status of On and Off so this can \
be automated?)"
}], "Text"],

Cell[BoxData[
    \(Off[General::spell1]\)], "Input"],

Cell["\<\
Ok, lets create Bush that contains Twig's that contains \
Leaf's\
\>", "Text"],

Cell[BoxData[
    \(CreateElement[
      Leaf, {Alive : \((True | False)\), Worms_Integer}, {True, 
        0}, "\<An object representing a Leaf.\>"]\)], "Input"],

Cell[BoxData[
    \(CreateContainer[Twig, Leaf, "\<Twigs has Leafs\>"]\)], "Input"],

Cell[BoxData[
    \(CreateContainer[Bush, Twig, "\<A Bush has Twigs\>"]\)], "Input"],

Cell[BoxData[
    \(On[General::spell1]\)], "Input"],

Cell["\<\
We now have a load of code generated for us that will make it \
easier to handle these new types. We even have some usage-text \
generated:\
\>", "Text"],

Cell[BoxData[
    \(\(?Leaf\)\)], "Input"],

Cell[BoxData[
    \(\(?Twig\)\)], "Input"],

Cell[BoxData[
    \(\(?Bush\)\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Leaf", "Subsection"],

Cell["Leaf is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[Leaf]\)], "Input"],

Cell["Leaf's are contained in a Twig:", "Text"],

Cell[BoxData[
    \(ElementType[Twig]\)], "Input"],

Cell["Leaf has members:", "Text"],

Cell[BoxData[
    \(Members[Leaf]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[Leaf]\)], "Input"],

Cell["An example creating a Leaf the basic way is therefore:", "Text"],

Cell[BoxData[
    \(e = Leaf[{True, 42}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      Leaf[{True, 42}, donald \[Rule] duck, mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called Leaf[data,opts___] it is stored as \
Leaf[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default Leaf:", "Text"],

Cell[BoxData[
    \(e = Leaf[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Twig", "Subsection"],

Cell["Twig is a contiainer:", "Text"],

Cell[BoxData[
    \(ContainerQ[Twig]\)], "Input"],

Cell["Twig's contains:", "Text"],

Cell[BoxData[
    \(ElementType[Twig]\)], "Input"],

Cell["Twig's are contained in a Bush's:", "Text"],

Cell[BoxData[
    \(ElementType[Bush]\)], "Input"],

Cell["An example creating a Twig the basic way is therefore:", "Text"],

Cell[BoxData[
    \(c = Twig[{Leaf[], Leaf[]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(c = 
      Twig[{Leaf[], 
          Leaf[{True, 42}, donald \[Rule] duck, mickey \[Rule] mouse]}, 
        bat \[Rule] man, cat \[Rule] woman]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(Data[c]\)], "Input"],

Cell["\<\
While the constructor is called Twig[data,opts___] it is stored as \
Twig[{opts},data],
observe also how the elements are stored differently if they have opts:\
\>", \
"Text"],

Cell[BoxData[
    \(c // InputForm\)], "Input"],

Cell["To convert to a list of Leaf's:", "Text"],

Cell[BoxData[
    \(e = Leaf[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules /@ e // ColumnForm\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Bush", "Subsection"],

Cell["Bush is a contiainer:", "Text"],

Cell[BoxData[
    \(ContainerQ[Bush]\)], "Input"],

Cell["Bush's contains:", "Text"],

Cell[BoxData[
    \(ElementType[Bush]\)], "Input"],

Cell["An example creating a Bush the basic way is therefore:", "Text"],

Cell[BoxData[
    \(c = Bush[{Twig[{Leaf[], Leaf[]}], Twig[{Leaf[], Leaf[]}]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(c = 
      Bush[{Twig[{Leaf[], Leaf[]}], 
          Twig[{Leaf[], Leaf[]}, donald \[Rule] duck, mickey \[Rule] mouse]}, 
        bat \[Rule] man, cat \[Rule] woman]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(Data[c]\)], "Input"],

Cell["\<\
While the constructor is called Twig[data,opts___] it is stored as \
Twig[{opts},data],
observe also how the elements are stored differently if they have opts:\
\>", \
"Text"],

Cell[BoxData[
    \(c // InputForm\)], "Input"],

Cell["To convert to a list of Twig's:", "Text"],

Cell[BoxData[
    \(e = Twig[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules /@ e // ColumnForm\)], "Input"],

Cell["To convert to a list of Leaf's:", "Text"],

Cell[BoxData[
    \(e = Leaf[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(\(DataToRules /@ # &\) /@ e // ColumnForm\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Extras", "Subsection"],

Cell["\<\
All this extra code is generated for all elements and containers.\
\
\>", "Text"],

Cell["Code for \"reflection\":", "Text"],

Cell[BoxData[
    \(Members[Leaf]\)], "Input"],

Cell[BoxData[
    \(\(Pos[Leaf, #] &\) /@ %\)], "Input"],

Cell[BoxData[
    \(ContainerQ /@ {Bush, Twig, Leaf}\)], "Input"],

Cell[BoxData[
    \(ElementType /@ {Bush, Twig}\)], "Input"],

Cell[BoxData[
    \(Struct[Leaf]\)], "Input"],

Cell["All constructors take optional parameters.", "Text"],

Cell["\<\
Default-constructors for all types take the data as first \
parameter.\
\>", "Text"],

Cell[BoxData[
    \(ln = {l = Leaf[{True, 0}, name \[Rule] "\<john\>"], 
        Leaf[{False, 1}, age \[Rule] 12]}\)], "Input"],

Cell["\<\
Extra constructors for a container takes one or a list of elements.\
\
\>", "Text"],

Cell[BoxData[
    \(t = Twig[ln]\)], "Input"],

Cell[BoxData[
    \(b = 
      Bush[{t, Twig[ln, no \[Rule] good]}, 
        nice \[Rule] DataNoValue]\)], "Input"],

Cell["\<\
Then there are som constructors for elements that take a container \
as parameter.\
\>", "Text"],

Cell[BoxData[
    \(Twig[b]\)], "Input"],

Cell[BoxData[
    \(Leaf[t]\)], "Input"],

Cell[BoxData[
    \(Leaf[b]\)], "Input"],

Cell["\<\
Each type has two parts, Opts and Data. Data is a \"raw\" format:\
\
\>", "Text"],

Cell[BoxData[
    \(Opts /@ {b, t, l} // ColumnForm\)], "Input"],

Cell["\<\
The elements are simply stored in a list, one item for each \
element.
Each element is a two item list {Opts,Data}, but if an element has no Opts it \
is just Data without the enclosing list.\
\>", "Text"],

Cell[BoxData[
    \(Data /@ {b, t, l} // ColumnForm\)], "Input"],

Cell["DataToRules is another way of getting the data:", "Text"],

Cell[BoxData[
    \(DataToRules /@ {b, t, l} // ColumnForm\)], "Input"],

Cell["\<\
The \"default-constructor\" for all types thus works like \
this:\
\>", "Text"],

Cell[BoxData[
    \(\(\(#[\([0]\)]\)[Data[#], Sequence @@ Opts[#]] &\) /@ {b, t, 
        l}\)], "Input"],

Cell["\<\
But we usually never use this \"raw\" Data, only the Opts. Instead \
we use the members in various ways:\
\>", "Text"],

Cell[BoxData[
    \(Worms /@ {b, t, l} // ColumnForm\)], "Input"],

Cell["Tests:", "Text"],

Cell[BoxData[
    \(\({BushQ[#], TwigQ[#], LeafQ[#]} &\) /@ {b, t, l} // 
      ColumnForm\)], "Input"],

Cell[BoxData[
    \(\({\(DataQ[Bush]\)[Data[#]], \(DataQ[Twig]\)[Data[#]], \(DataQ[Leaf]\)[
              Data[#]]} &\) /@ {b, t, l} // ColumnForm\)], "Input"],

Cell["Map and many other List-functions also works on Containers.", "Text"],

Cell["Append[_Container,_Element]", "Text"],

Cell[BoxData[
    \(Append[b, t]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell["Delete[_Container,n__]", "Text"],

Cell[BoxData[
    \(Delete[b, \(-1\)]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell["Drop[_Container,n_]", "Text"],

Cell[BoxData[
    \(Drop[b, 1]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell["\<\
Extract[_Container,n_Integer] calls \
Part[_Container,n_Integer]\
\>", "Text"],

Cell[BoxData[
    \(Extract[b, 1]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell["First[_Container]", "Text"],

Cell[BoxData[
    \(First[b]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell["Insert[_Container,_Element,n_Integer]", "Text"],

Cell[BoxData[
    \(Insert[b, t, 2]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell["Last[_Container]", "Text"],

Cell[BoxData[
    \(Last[b]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell["Length[_Container]", "Text"],

Cell[BoxData[
    \(Length[b]\)], "Input"],

Cell["Map[f_,_Container]", "Text"],

Cell[BoxData[
    \(Opts /@ b\)], "Input"],

Cell["\<\
If the result from Map is a list of elements or an empty list a \
container is returned\
\>", "Text"],

Cell[BoxData[
    \(\(# &\) /@ b\)], "Input"],

Cell["The same goes for MapIndexed[f_,_Container]", "Text"],

Cell[BoxData[
    \(MapIndexed[# &, b]\)], "Input"],

Cell["Most[_Container]", "Text"],

Cell[BoxData[
    \(Most[b]\)], "Input"],

Cell["Part[_Container,n_Integer]", "Text"],

Cell[BoxData[
    \(b[\([1]\)]\)], "Input"],

Cell["Part[_Container,n_Integer,m__Integer]", "Text"],

Cell[BoxData[
    \(b[\([1, 2]\)]\)], "Input"],

Cell["Prepend[_Container,_Element]", "Text"],

Cell[BoxData[
    \(Prepend[b, t]\)], "Input"],

Cell["ReplacePart[_Container,_Element,n_Integer]", "Text"],

Cell[BoxData[
    \(ReplacePart[b, Twig[{}], 1]\)], "Input"],

Cell["Rest[_Container]", "Text"],

Cell[BoxData[
    \(Rest[b]\)], "Input"],

Cell["Scan[f_,_Container]", "Text"],

Cell[BoxData[
    \(Scan[Print, b]\)], "Input"],

Cell["Select[_Container,f_]", "Text"],

Cell[BoxData[
    \(Select[b, \((Opts[#] =!= {})\) &]\)], "Input"],

Cell["Take[_Container,n_]", "Text"],

Cell[BoxData[
    \(Take[b, 1]\)], "Input"],

Cell["Some, like Map, are extended.", "Text"],

Cell["\<\
Map[f_,_Container,s_Symbol] and MapIndexed[f_, _Container, \
s_Symbol] maps through all elements (leafs) and applys f to the leaf's member \
and the reconstructs the container again.\
\>", "Text"],

Cell[BoxData[
    \(Worms /@ b\)], "Input"],

Cell[BoxData[
    \(Map[2 + # &, b, Worms]\)], "Input"],

Cell[BoxData[
    \(Worms /@ %\)], "Input"],

Cell["\<\
Part[_Container,s_Symbol] and Part[_Container, n_Integer, \
m___Integer, s_Symbol] works like expected\
\>", "Text"],

Cell[BoxData[
    \(b[\([Worms]\)]\)], "Input"],

Cell[BoxData[
    \(b[\([1, Worms]\)]\)], "Input"],

Cell[BoxData[
    \(b[\([1, 2, Worms]\)]\)], "Input"],

Cell["\<\
Until I write more documentation the best way to find out about all \
List-functions for Containers is to look inside ObjectType.m\
\>", "Text"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Sound", "Subtitle"],

Cell[CellGroupData[{

Cell["Snippet", "Subsection"],

Cell["Snippets represents a one-channel sound.", "Text"],

Cell["Snippet is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[Snippet]\)], "Input"],

Cell["Snippet's are contained in a Sound:", "Text"],

Cell[BoxData[
    \(ElementType[Sound]\)], "Input"],

Cell["Snippet has members:", "Text"],

Cell[BoxData[
    \(Members[Snippet]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[Snippet]\)], "Input"],

Cell["An example creating a Snippet the basic way is therefore:", "Text"],

Cell[BoxData[
    \(e = 
      Snippet[{SampledSoundFunction, Sin[2\ Pi\ 220\ #1] &, 22050, 
          22050}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      Snippet[{SampledSoundFunction, Sin[2\ Pi\ 220\ #1] &, 22050, 22050}, 
        donald \[Rule] duck, mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called Snippet[data,opts___] it is stored \
as Snippet[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default Snippet:", "Text"],

Cell[BoxData[
    \(e = Snippet[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["TotalDuration[_Snippet] calculates the duration in seconds", "Text"],

Cell[BoxData[
    \(TotalDuration[e] // N\)], "Input"],

Cell["Play2[snp_Snippet] is horthand for Play2[Sound[{snp}]]", "Text"],

Cell[BoxData[
    \(Play2[e]\)], "Input"],

Cell[BoxData[
    \(Export["\<tmp.wav\>", %]\)], "Input"],

Cell["Mix, Par and Seq:", "Text"],

Cell[BoxData[
    \(Mix[{e, e}]\)], "Input"],

Cell[BoxData[
    \(Par[{e, e}]\)], "Input"],

Cell[BoxData[
    \(Seq[{e, e}]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Sound", "Subsection"],

Cell["\<\
Since Sound is a type that I don't own, the underlying logic for it \
is not straightforward, but I have made Sound behave like the rest of the \
Containers in Musica2.\
\>", "Text"],

Cell["Sound is a contiainer:", "Text"],

Cell[BoxData[
    \(ContainerQ[Sound]\)], "Input"],

Cell["Sound's contains:", "Text"],

Cell[BoxData[
    \(ElementType[Sound]\)], "Input"],

Cell["An example creating a Sound the basic way is therefore:", "Text"],

Cell[BoxData[
    \(c = Sound[{Snippet[], Snippet[]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["You CANNOT add custom options to an object of type Sound!", "Text"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell["To convert to a list of Snippet's:", "Text"],

Cell[BoxData[
    \(e = Snippet[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules /@ e // ColumnForm\)], "Input"],

Cell["All Snippets in a Sound object must have the same SoundType.", "Text"],

Cell["\<\
Tidy[_Sound] makes sure even a monophonic Sound has a List \
internally.\
\>", "Text"],

Cell[BoxData[
    \(\(ReplacePart[c = Waveform[Triangle, 440, 0.2], List, {0}]\)[\([1, 
        1]\)]\)], "Input"],

Cell[BoxData[
    \(\(ReplacePart[Tidy[c], List, {0}]\)[\([1, 1]\)]\)], "Input"],

Cell["TotalDuration[_Sound] calculates the duration in seconds", "Text"],

Cell[BoxData[
    \(TotalDuration[c] // N\)], "Input"],

Cell["\<\
Play2[_Sound] calls Show after first mixing it to two \
channels.\
\>", "Text"],

Cell[BoxData[
    \(Length[c]\)], "Input"],

Cell[BoxData[
    \(Length[Play2[c]]\)], "Input"],

Cell[BoxData[
    \(Export["\<tmp.wav\>", c]\)], "Input"],

Cell["Mix, Par and Seq:", "Text"],

Cell[BoxData[
    \(Mix[c, 1]\)], "Input"],

Cell[BoxData[
    \(Mix[c, 2]\)], "Input"],

Cell[BoxData[
    \(Par[{c, c}]\)], "Input"],

Cell[BoxData[
    \(Seq[{c, c}]\)], "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Note", "Subtitle"],

Cell["Note.m depends on Sound.m", "Text"],

Cell[CellGroupData[{

Cell["Note", "Subsection"],

Cell["A Note is a simple note or rest.", "Text"],

Cell["Note is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[Note]\)], "Input"],

Cell["Note's are contained in a Melody:", "Text"],

Cell[BoxData[
    \(ElementType[Melody]\)], "Input"],

Cell["Note's are contained in a Chord:", "Text"],

Cell[BoxData[
    \(ElementType[Chord]\)], "Input"],

Cell["Note has members:", "Text"],

Cell[BoxData[
    \(Members[Note]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[Note]\)], "Input"],

Cell["An example creating a Note the basic way is therefore:", "Text"],

Cell[BoxData[
    \(e = Note[{1/4, {72, 64}}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      Note[{1/4, {72, 64}}, donald \[Rule] duck, 
        mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called Note[data,opts___] it is stored as \
Note[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default Note:", "Text"],

Cell[BoxData[
    \(e = Note[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["\<\
If PitchCode or Velocity contains the symbol DataNoValue it is \
concidered to be a rest.\
\>", "Text"],

Cell["TotalDuration for a Note returns the Duration value.", "Text"],

Cell[BoxData[
    \(TotalDuration[e]\)], "Input"],

Cell["Note[pc_?AtomQ] creates a Note using Options[Note]", "Text"],

Cell[BoxData[
    \(Options[Note]\)], "Input"],

Cell[BoxData[
    \(DataToRules[Note[pc]] // ColumnForm\)], "Input"],

Cell["\<\
Play2[n_Note] is shorthand for Play2[Sound[{Snippet[Melody[{n}]]}]]\
\
\>", "Text"],

Cell[BoxData[
    \(Play2[e]\)], "Input"],

Cell["Play2 assumes second is the unit for duration.", "Text"],

Cell["Par and Seq:", "Text"],

Cell[BoxData[
    \(Par[{e, e}]\)], "Input"],

Cell[BoxData[
    \(Seq[{e, e}]\)], "Input"],

Cell["\<\
NoteRestQ returns true if PitchCode or Velocity is NadaNoValue or \
if Velocity is 0 (zero)\
\>", "Text"],

Cell[BoxData[
    \(NoteRestQ[e]\)], "Input"],

Cell["NoteRest turns a Note to a rest", "Text"],

Cell[BoxData[
    \(NoteRest[e]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%]\)], "Input"],

Cell[BoxData[
    \(NoteRestQ[%%]\)], "Input"],

Cell["\<\
NoteTieQ returns true if PitchCode or Velocity is/has \
DataTieQ\
\>", "Text"],

Cell[BoxData[
    \(NoteTieQ[e]\)], "Input"],

Cell["NoteTie turns a note to a tie", "Text"],

Cell[BoxData[
    \(NoteTie[e]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%]\)], "Input"],

Cell[BoxData[
    \(NoteTieQ[%%]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Melody", "Subsection"],

Cell["\<\
Melody is a Note container. The notes are played in sequence.\
\>", \
"Text"],

Cell["Melody is a contiainer:", "Text"],

Cell[BoxData[
    \(ContainerQ[Melody]\)], "Input"],

Cell["Melody's contains:", "Text"],

Cell[BoxData[
    \(ElementType[Melody]\)], "Input"],

Cell["Melody's are contained in a Counterpoint's:", "Text"],

Cell[BoxData[
    \(ElementType[Counterpoint]\)], "Input"],

Cell["An example creating a Melody the basic way is therefore:", "Text"],

Cell[BoxData[
    \(c = Melody[{Note[], Note[]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(c = 
      Melody[{Note[], Note[70, donald \[Rule] duck, mickey \[Rule] mouse]}, 
        bat \[Rule] man, cat \[Rule] woman]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(Data[c]\)], "Input"],

Cell["\<\
While the constructor is called Melody[data,opts___] it is stored \
as Melody[{opts},data],
observe also how the elements are stored differently if they have opts:\
\>", \
"Text"],

Cell[BoxData[
    \(c // InputForm\)], "Input"],

Cell["To convert to a list of Note's:", "Text"],

Cell[BoxData[
    \(e = Note[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules /@ e // ColumnForm\)], "Input"],

Cell["An example with a rest:", "Text"],

Cell[BoxData[
    \(c = 
      Melody[{Note[{ .2, {60, 64}}], Note[{ .2, {DataNoValue, DataNoValue}}], 
          Note[{ .2, {64, 64}}], Note[{ .6, {65, 64}}]}]\)], "Input"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["TotalDuration gives the total duration", "Text"],

Cell[BoxData[
    \(TotalDuration[c]\)], "Input"],

Cell["Duration gives the individual durations", "Text"],

Cell[BoxData[
    \(Duration[c]\)], "Input"],

Cell[BoxData[
    \(PianoRoll[c, TimeUnit \[Rule] Second, QPM \[Rule] 100]\)], "Input"],

Cell["Converting to Chord gives a list of one-note chords", "Text"],

Cell[BoxData[
    \(Chord[c]\)], "Input"],

Cell[BoxData[
    \(Length /@ %\)], "Input"],

Cell["You can pass just PitchCodes to Melody", "Text"],

Cell[BoxData[
    \(c = Melody[{60, DataNoValue, 64, 65}]\)], "Input"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell[BoxData[
    \(PianoRoll[c, TimeUnit \[Rule] Second, QPM \[Rule] 60]\)], "Input"],

Cell["Play2[m_Melody] is shorthand for Play2[Sound[{Snippet[m]}]]", "Text"],

Cell[BoxData[
    \(Play2[c]\)], "Input"],

Cell["Play2 assumes second is the unit for duration.", "Text"],

Cell["You can get functions for PitchCode and Velocity", "Text"],

Cell[BoxData[
    \(c = \(Melody[Import[cor, Midi]]\)[\([1]\)]\)], "Input"],

Cell[BoxData[
    \(\(fp = Convert[Time, PitchCode, c];\)\)], "Input"],

Cell[BoxData[
    \(\(fv = Convert[Time, Velocity, c];\)\)], "Input"],

Cell[BoxData[
    \(Plot[{fp[x], fv[x]}, {x, 0, TotalDuration[c]}]\)], "Input"],

Cell["Par and Seq:", "Text"],

Cell[BoxData[
    \(Par[{c, c}]\)], "Input"],

Cell[BoxData[
    \(Seq[{c, c}]\)], "Input"],

Cell["Tidy[_Melody] sets any leading ties to rest and merges rests", "Text"]
}, Closed]],

Cell[CellGroupData[{

Cell["Chord", "Subsection"],

Cell["Chord is a Note container. The notes are played in paralell.", "Text"],

Cell["Chord is a contiainer:", "Text"],

Cell[BoxData[
    \(ContainerQ[Chord]\)], "Input"],

Cell["Chord's contains:", "Text"],

Cell[BoxData[
    \(ElementType[Chord]\)], "Input"],

Cell["Chord's are contained in a Progression's:", "Text"],

Cell[BoxData[
    \(ElementType[Progression]\)], "Input"],

Cell["An example creating a Chord the basic way is therefore:", "Text"],

Cell[BoxData[
    \(c = Chord[{Note[], Note[]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(c = 
      Chord[{Note[], Note[70, donald \[Rule] duck, mickey \[Rule] mouse]}, 
        bat \[Rule] man, cat \[Rule] woman]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(Data[c]\)], "Input"],

Cell["\<\
While the constructor is called Chord[data,opts___] it is stored as \
Chord[{opts},data],
observe also how the elements are stored differently if they have opts:\
\>", \
"Text"],

Cell["\<\
Chord handles its elements (notes) in a special way, the duration \
is an opt (wich is not optional) and the notes lack is duration:\
\>", "Text"],

Cell[BoxData[
    \(c // InputForm\)], "Input"],

Cell["To convert to a list of Note's:", "Text"],

Cell[BoxData[
    \(e = Note[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules /@ e // ColumnForm\)], "Input"],

Cell["Another example:", "Text"],

Cell[BoxData[
    \(c = 
      Chord[{Note[{ .2, {60, 64}}], Note[{ .4, {64, 64}}], 
          Note[{ .6, {67, 64}}], Note[{ .8, {70, 64}}]}]\)], "Input"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["\<\
The Duration of the first Note is used as the duration for the \
Chord\
\>", "Text"],

Cell["TotalDuration gives the total duration", "Text"],

Cell[BoxData[
    \(TotalDuration[c]\)], "Input"],

Cell["Duration gives the individual durations", "Text"],

Cell[BoxData[
    \(Duration[c]\)], "Input"],

Cell[BoxData[
    \(PianoRoll[c, TimeUnit \[Rule] Second]\)], "Input"],

Cell["Converting to Melody gives a list of one-note melodies", "Text"],

Cell[BoxData[
    \(Melody[c]\)], "Input"],

Cell[BoxData[
    \(Length /@ %\)], "Input"],

Cell["You can pass just PitchCodes to Chord", "Text"],

Cell[BoxData[
    \(c = Chord[{60, 64, 67, 70}]\)], "Input"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell[BoxData[
    \(PianoRoll[c, TimeUnit \[Rule] Second]\)], "Input"],

Cell["\<\
Play2[c_Chord] is shorthand for \
Play2[Sound[Snippet/@Melody[c]]]\
\>", "Text"],

Cell[BoxData[
    \(Play2[c]\)], "Input"],

Cell["Play2 assumes second is the unit for duration.", "Text"],

Cell["Par and Seq:", "Text"],

Cell[BoxData[
    \(Par[{c, c}]\)], "Input"],

Cell[BoxData[
    \(Seq[{c, c}]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Progression", "Subsection"],

Cell["\<\
Progression is a Chord container. The chords are played in \
sequence.\
\>", "Text"],

Cell["Progression is a contiainer:", "Text"],

Cell[BoxData[
    \(ContainerQ[Progression]\)], "Input"],

Cell["Progression's contains:", "Text"],

Cell[BoxData[
    \(ElementType[Progression]\)], "Input"],

Cell["\<\
An example creating a Progression the basic way is therefore:\
\>", \
"Text"],

Cell[BoxData[
    \(c = 
      Progression[{Chord[{Note[], Note[]}], 
          Chord[{Note[], Note[]}]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(c = 
      Progression[{Chord[{Note[], Note[]}], 
          Chord[{Note[], Note[]}, donald \[Rule] duck, 
            mickey \[Rule] mouse]}, bat \[Rule] man, 
        cat \[Rule] woman]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(Data[c]\)], "Input"],

Cell["\<\
While the constructor is called Progression[data,opts___] it is \
stored as Progression[{opts},data],
observe also how the elements are stored differently if they have opts:\
\>", \
"Text"],

Cell[BoxData[
    \(c // InputForm\)], "Input"],

Cell["To convert to a list of Chord's:", "Text"],

Cell[BoxData[
    \(e = Chord[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules /@ e // ColumnForm\)], "Input"],

Cell["To convert to a list of Note's:", "Text"],

Cell[BoxData[
    \(e = Note[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(\(DataToRules /@ # &\) /@ e // ColumnForm\)], "Input"],

Cell["Another example:", "Text"],

Cell[BoxData[
    \(c = 
      Progression[{Chord[{60, 64, 67}], Chord[{60, 65, 69}], 
          Chord[{62, 67, 71}], Chord[{64, 67, 72}]}]\)], "Input"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["TotalDuration gives the total duration", "Text"],

Cell[BoxData[
    \(TotalDuration[c]\)], "Input"],

Cell["Duration gives the individual durations", "Text"],

Cell[BoxData[
    \(Duration[c]\)], "Input"],

Cell[BoxData[
    \(PianoRoll[c, TimeUnit \[Rule] Second]\)], "Input"],

Cell["You can convert back to Chords", "Text"],

Cell[BoxData[
    \(Chord[c]\)], "Input"],

Cell["Or to melodies, one for each voice", "Text"],

Cell[BoxData[
    \(Melody[c]\)], "Input"],

Cell["Or to Notes", "Text"],

Cell[BoxData[
    \(Note[c]\)], "Input"],

Cell["\<\
Play2[p_Progression] is shorthand for \
Play2[Sound[Snippet/@Melody[p]]]\
\>", "Text"],

Cell[BoxData[
    \(Play2[c]\)], "Input"],

Cell["Play2 assumes second is the unit for duration.", "Text"],

Cell["Par and Seq:", "Text"],

Cell[BoxData[
    \(Par[{c, c}]\)], "Input"],

Cell[BoxData[
    \(Seq[{c, c}]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Counterpoint", "Subsection"],

Cell["\<\
Counterpoint is a Melody container. The melodies are played in \
paralell.\
\>", "Text"],

Cell["Counterpoint is a contiainer:", "Text"],

Cell[BoxData[
    \(ContainerQ[Counterpoint]\)], "Input"],

Cell["Counterpoint's contains:", "Text"],

Cell[BoxData[
    \(ElementType[Counterpoint]\)], "Input"],

Cell["\<\
An example creating a Counterpoint the basic way is \
therefore:\
\>", "Text"],

Cell[BoxData[
    \(c = 
      Counterpoint[{Melody[{Note[], Note[]}], 
          Melody[{Note[], Note[]}]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(c = 
      Counterpoint[{Melody[{Note[], Note[]}], 
          Melody[{Note[], Note[]}, donald \[Rule] duck, 
            mickey \[Rule] mouse]}, bat \[Rule] man, 
        cat \[Rule] woman]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(Data[c]\)], "Input"],

Cell["\<\
While the constructor is called Counterpoint[data,opts___] it is \
stored as Counterpoint[{opts},data],
observe also how the elements are stored differently if they have opts:\
\>", \
"Text"],

Cell[BoxData[
    \(c // InputForm\)], "Input"],

Cell["To convert to a list of Melody's:", "Text"],

Cell[BoxData[
    \(e = Melody[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules /@ e // ColumnForm\)], "Input"],

Cell["To convert to a list of Note's:", "Text"],

Cell[BoxData[
    \(e = Note[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(\(DataToRules /@ # &\) /@ e // ColumnForm\)], "Input"],

Cell["Another example:", "Text"],

Cell[BoxData[
    \(c = 
      Counterpoint[{\[IndentingNewLine]Melody[{Note[{2, {60, 64}}], Note[62], 
              Note[64]}], \[IndentingNewLine]Melody[{Note[64], Note[65], 
              Note[{2, {67, 64}}]}], \[IndentingNewLine]Melody[{67, 69, 71, 
              72}]\[IndentingNewLine]}]\)], "Input"],

Cell["Note that the last melody har 4 notes", "Text"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["TotalDuration gives the total duration", "Text"],

Cell[BoxData[
    \(TotalDuration[c]\)], "Input"],

Cell["Duration gives the individual durations", "Text"],

Cell[BoxData[
    \(Duration[c]\)], "Input"],

Cell[BoxData[
    \(PianoRoll[c, TimeUnit \[Rule] Second]\)], "Input"],

Cell["You can convert back to Melodies", "Text"],

Cell[BoxData[
    \(Melody[c]\)], "Input"],

Cell["Or to chords", "Text"],

Cell[BoxData[
    \(Chord[c]\)], "Input"],

Cell["Observe the ties in the chords", "Text"],

Cell[BoxData[
    \(DataToRules /@ % // ColumnForm\)], "Input"],

Cell["Or to Notes", "Text"],

Cell[BoxData[
    \(Note[c]\)], "Input"],

Cell["Or to Progression", "Text"],

Cell[BoxData[
    \(Progression[c]\)], "Input"],

Cell["Observe the ties in the chords", "Text"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell["\<\
Play2[c_Counterpoint] is shorthand for \
Play2[Sound[Snippet/@Melody[c]]]\
\>", "Text"],

Cell[BoxData[
    \(Play2[c]\)], "Input"],

Cell["Play2 assumes second is the unit for duration.", "Text"],

Cell["Par and Seq:", "Text"],

Cell[BoxData[
    \(Par[{c, c}]\)], "Input"],

Cell[BoxData[
    \(Seq[{c, c}]\)], "Input"],

Cell["Tidy[_Counterpoint] calls Tidy on all Melody's it contains", "Text"]
}, Closed]],

Cell[CellGroupData[{

Cell["FigBass", "Subsection"],

Cell["\<\
FigBass is almost like a figured-bass-chord, but without duration \
and velocity.\
\>", "Text"],

Cell["FigBass is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[FigBass]\)], "Input"],

Cell["FigBass has members:", "Text"],

Cell[BoxData[
    \(Members[FigBass]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[FigBass]\)], "Input"],

Cell["An example creating a FigBass the basic way is therefore:", "Text"],

Cell[BoxData[
    \(e = FigBass[{12, {{2}, 242}}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      FigBass[{12, {{2}, 242}}, donald \[Rule] duck, 
        mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called FigBass[data,opts___] it is stored \
as FigBass[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default FigBass:", "Text"],

Cell[BoxData[
    \(e = FigBass[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["Another example:", "Text"],

Cell[BoxData[
    \(e = FigBass[{12, {{40}, 145}}]\)], "Input"],

Cell["You can get the PitchCodes", "Text"],

Cell[BoxData[
    \(PitchCode[e]\)], "Input"],

Cell[BoxData[
    \(PianoRoll[Chord[PitchCode[e]], TimeUnit \[Rule] Second]\)], "Input"],

Cell["You can also supply a list of pitchcodes as argument:", "Text"],

Cell[BoxData[
    \(DataToRules[FigBass[{0, 3, 5, 9}, Octave \[Rule] 12]]\)], "Input"],

Cell["\<\
Octave can also be \[Infinity] to allow inversions and octave \
distictions\
\>", "Text"],

Cell[BoxData[
    \(DataToRules[e = FigBass[{60, 65, 69}, Octave \[Rule] \[Infinity]]] // 
      ColumnForm\)], "Input"],

Cell[BoxData[
    \(PitchCode[e]\)], "Input"],

Cell[BoxData[
    \(DataToRules[e = FigBass[{60, 65, 69}, Octave \[Rule] 12]] // 
      ColumnForm\)], "Input"],

Cell[BoxData[
    \(PitchCode[e]\)], "Input"],

Cell["Using the counterpoint above", "Text"],

Cell[BoxData[
    \(c = 
      Counterpoint[{\[IndentingNewLine]Melody[{Note[{2, {60, 64}}], Note[62], 
              Note[64]}], \[IndentingNewLine]Melody[{Note[64], Note[65], 
              Note[{2, {67, 64}}]}], \[IndentingNewLine]Melody[{67, 69, 71, 
              72}]\[IndentingNewLine]}]\)], "Input"],

Cell["\<\
Octave is \[Infinity] so the inversions are shown in the code\
\>", \
"Text"],

Cell[BoxData[
    \(Code /@ \((FigBass /@ DataUnTie[PitchCode /@ Chord[c]])\)\)], "Input"],

Cell["Octave is 12 so inversions are gone", "Text"],

Cell[BoxData[
    \(Code /@ \((\(FigBass[#, Octave \[Rule] 12] &\) /@ 
          DataUnTie[PitchCode /@ Chord[c]])\)\)], "Input"],

Cell["\<\
The reason for Bass to be a list is when we make a FigBass out of \
{0,3,6,9}, a dim chord, which have many roots\
\>", "Text"],

Cell[BoxData[
    \(DataToRules[FigBass[{0, 3, 6, 9}, Octave \[Rule] 12]]\)], "Input"],

Cell["or an augmented chord", "Text"],

Cell[BoxData[
    \(DataToRules[FigBass[{0, 4, 8}, Octave \[Rule] 12]]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Intervals", "Subsection"],

Cell["Intervals is an interval-vector.", "Text"],

Cell["\<\
The member-name \"Content\" is a bad name, it will probably change \
in the future.\
\>", "Text"],

Cell["Intervals is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[Intervals]\)], "Input"],

Cell["Intervals has members:", "Text"],

Cell[BoxData[
    \(Members[Intervals]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[Intervals]\)], "Input"],

Cell["An example creating a Intervals the basic way is therefore:", "Text"],

Cell[BoxData[
    \(e = Intervals[{12, {0, 0, 1, 2, 1, 0, 0}}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      Intervals[{12, {0, 0, 1, 2, 1, 0, 0}}, donald \[Rule] duck, 
        mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called Intervals[data,opts___] it is \
stored as Intervals[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default Intervals:", "Text"],

Cell[BoxData[
    \(e = Intervals[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["Another example:", "Text"],

Cell[BoxData[
    \(DataToRules[Intervals[Chord[{0, 4, 7}]]]\)], "Input"],

Cell["\<\
The answer means that we have 1 minor third, one major third and \
one fifth.\
\>", "Text"],

Cell[BoxData[
    \(DataToRules[Intervals[Chord[{0, 4, 7}], Octave \[Rule] 12]]\)], "Input"],

Cell["Now the fifth is a forth.", "Text"],

Cell["You can also supply a list of pitchcodes as argument:", "Text"],

Cell[BoxData[
    \(DataToRules[Intervals[{0, 3, 5, 9}, Octave \[Rule] 12]]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["KeyMode", "Subsection"],

Cell["KeyMode is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[KeyMode]\)], "Input"],

Cell["KeyMode has members:", "Text"],

Cell[BoxData[
    \(Members[KeyMode]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[KeyMode]\)], "Input"],

Cell["An example creating a KeyMode the basic way is therefore:", "Text"],

Cell[BoxData[
    \(e = KeyMode[{60, {2, 2, 3, 2, 3}}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      KeyMode[{60, {2, 2, 3, 2, 3}}, donald \[Rule] duck, 
        mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called KeyMode[data,opts___] it is stored \
as KeyMode[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default KeyMode:", "Text"],

Cell[BoxData[
    \(e = KeyMode[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["There are more ways to construct a KeyMode.", "Text"],

Cell["\<\
The first parameter is the number of sharps/flats as a \
positive/negative number. The second is the mode which is a number 0 to 6 \
representing the scale-step the scale starts on compared to major, or one of \
{ModeAeolian, ModeDorian, ModeIonian, ModeLocrian, ModeLydian, ModeMajor, \
ModeMinor, ModeMixolydian, ModePhrygian}. The pitch-codes are always \
positive. The number of sharps/flats are mod 12.\
\>", "Text"],

Cell[BoxData[
    \(DataToRules[KeyMode[3, ModeMajor]]\)], "Input"],

Cell[BoxData[
    \(DataToRules[KeyMode[\(-6\), ModeMixolydian]]\)], "Input"],

Cell[BoxData[
    \(DataToRules[KeyMode[6, ModeMixolydian]]\)], "Input"],

Cell["\<\
The Mode* constants are integers for the scale-step they start on \
compared to major.\
\>", "Text"],

Cell[BoxData[
    \({{ModeIonian, ModeMajor}, ModeDorian, ModePhrygian, ModeLydian, 
      ModeMixolydian, {ModeAeolian, ModeMinor}, ModeLocrian}\)], "Input"],

Cell["\<\
Unfortunately this dont match the EventTypeKeySignature in Midi \
(which by the way only handles minor and major), so it might CHANGE.\
\>", \
"Text"],

Cell["\<\
KeyMode[], with no parameter, is C-major scale, same as \
KeyMode[0,ModeMajor]\
\>", "Text"],

Cell[BoxData[
    \(DataToRules[KeyMode[]]\)], "Input"],

Cell["\<\
Giving only one parameter to KeyMode[n] (number of sharps/flats) \
will return a scale that differ in only one scale-step from KeyMode[n-1] and \
KeyMode[n+1] and may therefore result in a scale with negative pitch-codes. \
The number of sharps/flats are NOT mod 12 here.\
\>", "Text"],

Cell["Compare...", "Text"],

Cell[BoxData[
    \(DataToRules[KeyMode[3]]\)], "Input"],

Cell["...with...", "Text"],

Cell[BoxData[
    \(DataToRules[KeyMode[4]]\)], "Input"],

Cell["...and...", "Text"],

Cell[BoxData[
    \(DataToRules[KeyMode[\(-6\)]]\)], "Input"],

Cell["...with...", "Text"],

Cell[BoxData[
    \(DataToRules[KeyMode[\(-5\)]]\)], "Input"],

Cell["\<\
The proper way to get a function that convert ScaleStep to \
PitchCode or vice versa is to use the Convert function\
\>", "Text"],

Cell[BoxData[
    \(\(sff = 
        Convert[ScaleStep, PitchCode, KeyMode[0, ModePhrygian]];\)\)], "Input"],

Cell[BoxData[
    \(sff /@ Range[35, 35 + 7]\)], "Input"],

Cell[BoxData[
    \(\(sfr = 
        Convert[PitchCode, ScaleStep, KeyMode[0, ModePhrygian]];\)\)], "Input"],

Cell[BoxData[
    \(sfr /@ %%\)], "Input"],

Cell["You can create a KeyMode from PitchCode's:", "Text"],

Cell[BoxData[
    \(DataToRules[e = KeyMode[{20, 23, 25, 29, 31}]]\)], "Input"],

Cell["You can get the PitchCode's from a KeyMode:", "Text"],

Cell[BoxData[
    \(PitchCode[e]\)], "Input"],

Cell[BoxData[
    \(PitchCode[KeyMode[]]\)], "Input"],

Cell["You can get the Octave and the scale-size from a KeyMode:", "Text"],

Cell[BoxData[
    \({Octave[e], Length[e]}\)], "Input"],

Cell[BoxData[
    \({Octave[KeyMode[]], Length[KeyMode[]]}\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["ThirdStack", "Subsection"],

Cell["\<\
ThirdStack is another way besides FigBass of coding chords. No \
duration or velocity.\
\>", "Text"],

Cell["ThirdStack is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[ThirdStack]\)], "Input"],

Cell["ThirdStack has members:", "Text"],

Cell[BoxData[
    \(Members[ThirdStack]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[ThirdStack]\)], "Input"],

Cell["An example creating a ThirdStack the basic way is therefore:", "Text"],

Cell[BoxData[
    \(e = ThirdStack[{{3, 4}, {2, 7}}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      ThirdStack[{{3, 4}, {2, 7}}, donald \[Rule] duck, 
        mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called ThirdStack[data,opts___] it is \
stored as ThirdStack[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default ThirdStack:", "Text"],

Cell[BoxData[
    \(e = ThirdStack[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can get the PitchCodes", "Text"],

Cell[BoxData[
    \(PitchCode[e]\)], "Input"],

Cell["You can use another base than {3,4} which is default.", "Text"],

Cell["ThirdStack[i] is the same as ThirdStack[{{3,4},{0,i}}].", "Text"],

Cell[BoxData[
    \(\((p = \(PitchCode[ThirdStack[#]] &\) /@ Range[10])\) // 
      ColumnForm\)], "Input"],

Cell[BoxData[
    \(PianoRoll[Progression[Chord /@ p]]\)], "Input"],

Cell[BoxData[
    \(\(Content[Intervals[#, Octave \[Rule] 12]] &\) /@ p // 
      ColumnForm\)], "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Midi", "Subtitle"],

Cell["Midi.m depends on Note.m", "Text"],

Cell["\<\
Tidy[_Track] sorts the events and makes sure that there is exactly \
one EOT in the track.
Tidy[_Midi] calls Tidy for each track and sets them to the same length.
Tidy[_TempoTrack] sorts the tempos for the tempo-track.\
\>", "Text"],

Cell["\<\
Conversion- and extra- constructors:
  Event[_Tempo] does the hard work
  Midi[_Midi, opts___] is used to change time-unit and uses TempoTrack and \
TempoFunction and then some
  Tempo[_Event] does the hard work
  TempoTrack[_Track] uses Tempo[_Event] and TempoTrack[{__Tempo}]
  Track[_TempoTrack] uses Event[_Tempo] and Track[{__Event}]\
\>", "Text"],

Cell["\<\
TotalDuration functions:
  TotalDuration[_Midi] uses EventTime[_Event] and Max
  TotalDuration[_Track] uses TotalDuration[_Track] and Max\
\>", "Text"],

Cell["\<\
Play2 functions:
  Play2[_Midi]
  Play2[_Track]\
\>", "Text"],

Cell[CellGroupData[{

Cell["Event", "Subsection"],

Cell["Event is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[Event]\)], "Input"],

Cell["Event's are contained in a Track:", "Text"],

Cell[BoxData[
    \(ElementType[Track]\)], "Input"],

Cell["Event has members:", "Text"],

Cell[BoxData[
    \(Members[Event]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[Event]\)], "Input"],

Cell["An example creating a Event the basic way is therefore:", "Text"],

Cell[BoxData[
    \(e = Event[{100, {{1, 0}, {60, 64}}}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      Event[{100, {{1, 0}, {60, 64}}}, donald \[Rule] duck, 
        mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called Event[data,opts___] it is stored as \
Event[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default Event:", "Text"],

Cell[BoxData[
    \(e = Event[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["There are some EventType's and parts of EventType's defined:", "Text"],

Cell[BoxData[
    \(EventTypeNoteOff\)], "Input"],

Cell[BoxData[
    \(EventTypeNoteOn\)], "Input"],

Cell["\<\
The EventTypes's of channel event's like noteon's and noteoff's are \
stored as {type, channel}\
\>", "Text"],

Cell[BoxData[
    \(EventTypeMeta\)], "Input"],

Cell["\<\
The EventTypes's of meta event's like eot and tempo are stored as \
{EventTypeMeta, type}
The Length of the data is omitted\
\>", "Text"],

Cell[BoxData[
    \(EventTypeEOT\)], "Input"],

Cell[BoxData[
    \(EventTypeKeySignature\)], "Input"],

Cell[BoxData[
    \(EventTypeTempo\)], "Input"],

Cell[BoxData[
    \(EventTypeTimeSignature\)], "Input"],

Cell["\<\
The EventTypes's of sysx event's are stored as EventTypeSysX0 or \
EventTypeSysX7
The Length of the data is omitted\
\>", "Text"],

Cell[BoxData[
    \(EventTypeSysX0\)], "Input"],

Cell[BoxData[
    \(EventTypeSysX7\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Track", "Subsection"],

Cell["Track is a contiainer:", "Text"],

Cell[BoxData[
    \(ContainerQ[Track]\)], "Input"],

Cell["Track's contains:", "Text"],

Cell[BoxData[
    \(ElementType[Track]\)], "Input"],

Cell["Track's are contained in a Midi's:", "Text"],

Cell[BoxData[
    \(ElementType[Midi]\)], "Input"],

Cell["An example creating a Track the basic way is therefore:", "Text"],

Cell[BoxData[
    \(c = Track[{Event[], Event[]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(c = 
      Track[{Event[], 
          Event[{1, {{0, 0}, {60, 0}}}, donald \[Rule] duck, 
            mickey \[Rule] mouse]}, bat \[Rule] man, 
        cat \[Rule] woman]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(Data[c]\)], "Input"],

Cell["\<\
While the constructor is called Track[data,opts___] it is stored as \
Track[{opts},data],
observe also how the elements are stored differently if they have opts:\
\>", \
"Text"],

Cell[BoxData[
    \(c // InputForm\)], "Input"],

Cell["To convert to a list of Event's:", "Text"],

Cell[BoxData[
    \(e = Event[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules /@ e // ColumnForm\)], "Input"],

Cell["Mix, Par and Seq:", "Text"],

Cell[BoxData[
    \(Mix[{c, c}]\)], "Input"],

Cell[BoxData[
    \(Par[{c, c}]\)], "Input"],

Cell[BoxData[
    \(Seq[{c, c}]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Midi", "Subsection"],

Cell["Midi is a contiainer:", "Text"],

Cell[BoxData[
    \(ContainerQ[Midi]\)], "Input"],

Cell["Midi's contains:", "Text"],

Cell[BoxData[
    \(ElementType[Midi]\)], "Input"],

Cell["An example creating a Midi the basic way is therefore:", "Text"],

Cell[BoxData[
    \(c = 
      Midi[{Track[{Event[], Event[]}], Track[{Event[], Event[]}]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(c = 
      Midi[{Track[{Event[], Event[]}], 
          Track[{Event[], Event[]}, donald \[Rule] duck, 
            mickey \[Rule] mouse]}, bat \[Rule] man, 
        cat \[Rule] woman]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(Data[c]\)], "Input"],

Cell["\<\
While the constructor is called Midi[data,opts___] it is stored as \
Midi[{opts},data],
observe also how the elements are stored differently if they have opts:\
\>", \
"Text"],

Cell[BoxData[
    \(c // InputForm\)], "Input"],

Cell["To convert to a list of Track's:", "Text"],

Cell[BoxData[
    \(e = Track[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules /@ e // ColumnForm\)], "Input"],

Cell["To convert to a list of Event's:", "Text"],

Cell[BoxData[
    \(e = Event[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(\(DataToRules /@ # &\) /@ e // ColumnForm\)], "Input"],

Cell["Mix, Par and Seq:", "Text"],

Cell[BoxData[
    \(Mix[{c, c}]\)], "Input"],

Cell["\<\
Par will currently only use the first Track (mastertrack) from the \
first Midi object.\
\>", "Text"],

Cell[BoxData[
    \(Par[{c, c}]\)], "Input"],

Cell[BoxData[
    \(Seq[{c, c}]\)], "Input"],

Cell["You can change the time-unit in a Midi object...", "Text"],

Cell[BoxData[
    \(c = Import[cor, Midi]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(EventTime[c[\([1]\)]]\)], "Input"],

Cell["...to Second...", "Text"],

Cell[BoxData[
    \(c = Midi[c, TimeUnit \[Rule] Second]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(EventTime[c[\([1]\)]]\)], "Input"],

Cell["...to MilliSecond...", "Text"],

Cell[BoxData[
    \(c = Midi[c, TimeUnit \[Rule] MilliSecond]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(EventTime[c[\([1]\)]]\)], "Input"],

Cell["...to Tick", "Text"],

Cell[BoxData[
    \(c = Midi[c, TimeUnit \[Rule] Tick]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(EventTime[c[\([1]\)]]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Tempo", "Subsection"],

Cell["Tempo is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[Tempo]\)], "Input"],

Cell["Tempo's are contained in a TempoTrack:", "Text"],

Cell[BoxData[
    \(ElementType[TempoTrack]\)], "Input"],

Cell["Tempo has members:", "Text"],

Cell[BoxData[
    \(Members[Tempo]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[Tempo]\)], "Input"],

Cell["An example creating a Tempo the basic way is therefore:", "Text"],

Cell[BoxData[
    \(e = Tempo[{0, 80}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      Tempo[{0, 80}, donald \[Rule] duck, mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called Tempo[data,opts___] it is stored as \
Tempo[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default Tempo:", "Text"],

Cell[BoxData[
    \(e = Tempo[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["TempoTrack", "Subsection"],

Cell["TempoTrack is a contiainer:", "Text"],

Cell[BoxData[
    \(ContainerQ[TempoTrack]\)], "Input"],

Cell["TempoTrack's contains:", "Text"],

Cell[BoxData[
    \(ElementType[TempoTrack]\)], "Input"],

Cell["An example creating a TempoTrack the basic way is therefore:", "Text"],

Cell[BoxData[
    \(c = TempoTrack[{Tempo[], Tempo[]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(c = 
      TempoTrack[{Tempo[], 
          Tempo[{200, 90}, donald \[Rule] duck, mickey \[Rule] mouse]}, 
        bat \[Rule] man, cat \[Rule] woman]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(Data[c]\)], "Input"],

Cell["\<\
While the constructor is called TempoTrack[data,opts___] it is \
stored as TempoTrack[{opts},data],
observe also how the elements are stored differently if they have opts:\
\>", \
"Text"],

Cell[BoxData[
    \(c // InputForm\)], "Input"],

Cell["To convert to a list of Tempo's:", "Text"],

Cell[BoxData[
    \(e = Tempo[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules /@ e // ColumnForm\)], "Input"],

Cell["Call Convert to get conversion functions:", "Text"],

Cell[BoxData[
    \(\(Convert[Tick, Second, c]\)[200]\)], "Input"],

Cell[BoxData[
    \(\(Convert[Second, Tick, c]\)[10/48]\)], "Input"],

Cell["\<\
You can supply a Midi object with tempo events in track \
one...\
\>", "Text"],

Cell[BoxData[
    \(m = Import[cor, Midi]\)], "Input"],

Cell[BoxData[
    \(TotalDuration[m]\)], "Input"],

Cell[BoxData[
    \(\(Convert[Tick, Second, m]\)[TotalDuration[m]] // N\)], "Input"],

Cell[BoxData[
    \(\(Convert[Second, Tick, m]\)[42.5006]\)], "Input"],

Cell["...or a QPM (quarters per minute)", "Text"],

Cell[BoxData[
    \(\(Convert[Tick, Second, 120]\)[1000] // N\)], "Input"],

Cell[BoxData[
    \(\(Convert[Second, Tick, 120]\)[45]\)], "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Tuning", "Subtitle"],

Cell["Tuning defaults to EqualTemperament.", "Text"],

Cell[BoxData[
    \(Tuning\)], "Input"],

Cell[CellGroupData[{

Cell["EqualTemperament", "Subsection"],

Cell["EqualTemperament is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[EqualTemperament]\)], "Input"],

Cell["EqualTemperament has members:", "Text"],

Cell[BoxData[
    \(Members[EqualTemperament]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[EqualTemperament]\)], "Input"],

Cell["\<\
An example creating a EqualTemperament the basic way is \
therefore:\
\>", "Text"],

Cell[BoxData[
    \(e = EqualTemperament[{{30, 300}, {17, 2}}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      EqualTemperament[{{30, 300}, {17, 2}}, donald \[Rule] duck, 
        mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called EqualTemperament[data,opts___] it \
is stored as EqualTemperament[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default EqualTemperament:", "Text"],

Cell[BoxData[
    \(e = EqualTemperament[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can easily create another kind of eq-tuning, :", "Text"],

Cell[BoxData[
    \(e = EqualTemperament[{{69, 440}, {19, 3}}]\)], "Input"],

Cell["\<\
The function Convert takes a tuning object and returns a function \
for tuning.\
\>", "Text"],

Cell[BoxData[
    \(\(f = Convert[PitchCode, Frequency, e];\)\)], "Input"],

Cell[BoxData[
    \(f[69]\)], "Input"],

Cell[BoxData[
    \(\(g = Convert[Frequency, PitchCode, e];\)\)], "Input"],

Cell[BoxData[
    \(g[%%]\)], "Input"],

Cell["You can also use the tuning-object as a function directly:", "Text"],

Cell[BoxData[
    \(e /@ Range[60, 72] // N\)], "Input"],

Cell["\<\
Getting the FrequencyRatios is not very exiting on \
EqualTemperament:\
\>", "Text"],

Cell[BoxData[
    \(FrequencyRatios[e]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["CustomTuning", "Subsection"],

Cell["This object is for other tunings like meantone and others.", "Text"],

Cell["\<\
A know, the name is awful, but i couldn't come up with a better \
one.\
\>", "Text"],

Cell["CustomTuning is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[CustomTuning]\)], "Input"],

Cell["CustomTuning has members:", "Text"],

Cell[BoxData[
    \(Members[CustomTuning]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[CustomTuning]\)], "Input"],

Cell["\<\
An example creating a CustomTuning the basic way is \
therefore:\
\>", "Text"],

Cell[BoxData[
    \(e = CustomTuning[{{60, 400}, {9/8, 9/8, 9/8, 9/8, 9/8}}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      CustomTuning[{{60, 400}, {9/8, 9/8, 9/8, 9/8, 9/8}}, 
        donald \[Rule] duck, mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called CustomTuning[data,opts___] it is \
stored as CutomTuning[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default CustomTuning:", "Text"],

Cell[BoxData[
    \(e = CustomTuning[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["The values for the default is computed like this:", "Text"],

Cell[BoxData[
    \(\(f = Convert[PitchCode, Frequency, EqualTemperament[]];\)\)], "Input"],

Cell[BoxData[
    \(Table[Rationalize[N[f[pc]/f[0]], 0.03], {pc, 0, 12}]\)], "Input"],

Cell[BoxData[
    \(ValuesToRatios[%]\)], "Input"],

Cell["You can get the FrequencyOctave:", "Text"],

Cell[BoxData[
    \(FrequencyOctave[e]\)], "Input"],

Cell["You can get the PitchCodeOctave:", "Text"],

Cell[BoxData[
    \(PitchCodeOctave[e]\)], "Input"],

Cell["Get the conversion-functions:", "Text"],

Cell[BoxData[
    \(\(f = Convert[PitchCode, Frequency, e];\)\)], "Input"],

Cell[BoxData[
    \(\(g = Convert[Frequency, PitchCode, e];\)\)], "Input"],

Cell[BoxData[
    \(f /@ Range[60, 72]\)], "Input"],

Cell[BoxData[
    \(g /@ %\)], "Input"],

Cell["You can use decimals:", "Text"],

Cell[BoxData[
    \(f /@ {33.45, 44.12, 66.7765, 88.6543}\)], "Input"],

Cell[BoxData[
    \(g /@ %\)], "Input"],

Cell["\<\
Another example, using the data from default \
EqualTemperament:\
\>", "Text"],

Cell[BoxData[
    \(e = 
      CustomTuning[{{PitchCodeRef[Tuning], FrequencyRef[Tuning]}, 
          FrequencyRatios[Tuning]}]\)], "Input"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["Get the conversion-functions:", "Text"],

Cell[BoxData[
    \(\(f = Convert[PitchCode, Frequency, e];\)\)], "Input"],

Cell[BoxData[
    \(\(g = Convert[Frequency, PitchCode, e];\)\)], "Input"],

Cell[BoxData[
    \(f /@ Range[60, 72]\)], "Input"],

Cell[BoxData[
    \(g /@ %\)], "Input"],

Cell["\<\
Compare the EqualTemperament with the CustomTuning for the same \
data. While being the same for integers, they differ on decimals.\
\>", "Text"],

Cell[BoxData[
    \(\(e = Convert[PitchCode, Frequency, EqualTemperament[]];\)\)], "Input"],

Cell[BoxData[
    \(And @@ \((\(e[#] \[Equal] f[#] &\) /@ Range[60, 72])\)\)], "Input"],

Cell[BoxData[
    \(Plot[f[p]/e[p], {p, 60, 72}]\)], "Input"],

Cell["\<\
If you have a list of cents,as in the scales in \
Miscellaneous`Music`,this is what you do:\
\>", "Text"],

Cell[BoxData[
    \(<< Miscellaneous`Music`\)], "Input"],

Cell[BoxData[
    \(e = 
      CustomTuning[{{69, 440}, 
          ValuesToRatios[\(2^\((#/1200)\) &\) /@ JustMajor]}]\)], "Input"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["Note that the PitchCodeOctave is only 7", "Text"],

Cell[BoxData[
    \(PitchCodeOctave[e]\)], "Input"],

Cell["\<\
There are more scales in Miscellaneous`Music` to choose from:\
\>", \
"Text"],

Cell[BoxData[
    \({QuarterTone, PythagoreanMajor, PythagoreanChromatic, MeanMajor, 
        MeanMinor, MeanChromatic, SixthTone, JustMajor, JustMinor, 
        TemperedMajor, TemperedMinor, TemperedChromatic} // 
      ColumnForm\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Overtone", "Subsection"],

Cell["\<\
The PitchCode for the n:th overtone (one-based and currently for \
plucked strings only):\
\>", "Text"],

Cell[BoxData[
    \(\(\(Convert[{PitchCode, Overtone}, PitchCode, Tuning]\)[60, #] &\) /@ 
      Range[6]\)], "Input"],

Cell[BoxData[
    \(% // N\)], "Input"],

Cell[BoxData[
    \(\(\(Convert[{PitchCode, Overtone}, PitchCode, CustomTuning[]]\)[
          60, #] &\) /@ Range[6]\)], "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Instrument", "Subtitle"],

Cell["Instrument defaults to BasicInstrument.", "Text"],

Cell["BasicInstrument is a bad name, it will probably change.", "Text"],

Cell[BoxData[
    \(Instrument\)], "Input"],

Cell[CellGroupData[{

Cell["BasicInstrument", "Subsection"],

Cell["BasicInstrument is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[BasicInstrument]\)], "Input"],

Cell["BasicInstrument has members:", "Text"],

Cell[BoxData[
    \(Members[BasicInstrument]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[BasicInstrument]\)], "Input"],

Cell["\<\
An example creating a BasicInstrument the basic way is therefore:\
\
\>", "Text"],

Cell[BoxData[
    \(e = 
      BasicInstrument[{Function[p, Log[2, p]], Function[v, v/127], 
          Function[{f, a, sr}, a\ Sin[f\ #/sr] &]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      BasicInstrument[{Function[p, Log[2, p]], Function[v, v/127], 
          Function[{f, a, sr}, a\ Sin[f\ #/sr] &]}, donald \[Rule] duck, 
        mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called BAsicInstrument[data,opts___] it is \
stored as BasicInstrument[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default BasicInstrument:", "Text"],

Cell[BoxData[
    \(e = BasicInstrument[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["\<\
PitchCodeToFrequency is a function converting PitchCode to \
Frequency. Default is:\
\>", "Text"],

Cell[BoxData[
    \(Convert[PitchCode, Frequency, Tuning]\)], "Input"],

Cell["\<\
VelocityToAmplitude is a function converting Velocity to Amplitude. \
Default is currently VERY simple:\
\>", "Text"],

Cell[BoxData[
    \(Function[v, v/127]\)], "Input"],

Cell["\<\
TimeToSample is a function converting Frequency, Amplitude and \
SampleRate to a function taking a sampleindex and returning a sample. Default \
is:\
\>", "Text"],

Cell[BoxData[
    \(Function[{f, a, sr}, N[a\ Sin[2  Pi\ f\ #/sr]] &]\)], "Input"],

Cell["\<\
The way to use an Instrument is to get its \
Conversion-function:\
\>", "Text"],

Cell[BoxData[
    \(\(f = Convert[Melody, Snippet, e];\)\)], "Input"],

Cell["And then to convert a Melody into a Snippet:", "Text"],

Cell[BoxData[
    \(f[Melody[{60, 62, 64, 65}]]\)], "Input"],

Cell["And then perhaps listen to it:", "Text"],

Cell[BoxData[
    \(Play2[%]\)], "Input"],

Cell[BoxData[
    \(Export["\<tmp.wav\>", %]\)], "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Spectrum", "Subtitle"],

Cell[CellGroupData[{

Cell["Tone", "Subsection"],

Cell["Tone is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[Tone]\)], "Input"],

Cell["Tone's are contained in a ToneSpectrum:", "Text"],

Cell[BoxData[
    \(ElementType[ToneSpectrum]\)], "Input"],

Cell["Tone has members:", "Text"],

Cell[BoxData[
    \(Members[Tone]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[Tone]\)], "Input"],

Cell["An example creating a Tone the basic way is therefore:", "Text"],

Cell[BoxData[
    \(e = Tone[{220, {0.3, 3/2  Pi}}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      Tone[{220, {0.3, 3/2  Pi}}, donald \[Rule] duck, 
        mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called Tone[data,opts___] it is stored as \
Tone[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default Tone:", "Text"],

Cell[BoxData[
    \(e = Tone[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["\<\
Tidy[_Tone] set Frequency and Amplitude positive and Phase Mod 2Pi.\
\
\>", "Text"],

Cell[BoxData[
    \(DataToRules[Tidy[Tone[{\(-100\), {\(-1\), 4  Pi}}]]] // 
      ColumnForm\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["ToneSpectrum", "Subsection"],

Cell["ToneSpectrum is a contiainer:", "Text"],

Cell[BoxData[
    \(ContainerQ[ToneSpectrum]\)], "Input"],

Cell["ToneSpectrum's contains:", "Text"],

Cell[BoxData[
    \(ElementType[ToneSpectrum]\)], "Input"],

Cell["\<\
An example creating a ToneSpectrum the basic way is \
therefore:\
\>", "Text"],

Cell[BoxData[
    \(c = ToneSpectrum[{Tone[], Tone[]}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[c] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(c = 
      ToneSpectrum[{Tone[], 
          Tone[{3, {4, 5}}, donald \[Rule] duck, mickey \[Rule] mouse]}, 
        bat \[Rule] man, cat \[Rule] woman]\)], "Input"],

Cell[BoxData[
    \(Opts[c]\)], "Input"],

Cell[BoxData[
    \(Data[c]\)], "Input"],

Cell["\<\
While the constructor is called ToneSpectrum[data,opts___] it is \
stored as ToneSpectrum[{opts},data],
observe also how the elements are stored differently if they have opts:\
\>", \
"Text"],

Cell[BoxData[
    \(c // InputForm\)], "Input"],

Cell["To convert to a list of Tone's:", "Text"],

Cell[BoxData[
    \(e = Tone[c]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules /@ e // ColumnForm\)], "Input"],

Cell["\<\
Tidy[_ToneSpectrum] calls Tidy for all Tones, removes Tones where \
Amplitude is zero, merge tones with the same Frequency and sorts the Tone on \
Frequency.\
\>", "Text"],

Cell["\<\
Conversion from Snippet to ToneSpectrum use Fourier, while \
ToneSpectrum to Snippet currently use a bank of sines.\
\>", "Text"],

Cell[BoxData[
    \(c = ToneSpectrum[Snippet[Note[60]]]\)], "Input"],

Cell[BoxData[
    \(Max[Amplitude[c]]\)], "Input"],

Cell[BoxData[
    \(c = Select[c, %*0.9 < Amplitude[#] &]\)], "Input"],

Cell[BoxData[
    \(DataToRules[c]\)], "Input"],

Cell[BoxData[
    \(Tuning[60] // N\)], "Input"],

Cell[BoxData[
    \(Show[Sound[Snippet[c]]]\)], "Input"],

Cell["You can add Tones to get a spectrum:", "Text"],

Cell[BoxData[
    \(Tone[100] + Tone[200]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell["You can add ToneSpectrums to get a new spectrum:", "Text"],

Cell[BoxData[
    \(%% + %%\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell[BoxData[
    \(Tidy[%%]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell["You can multiply spectrums:", "Text"],

Cell[BoxData[
    \(%%*%%\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell[BoxData[
    \(Tidy[%%]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell["You can square them:", "Text"],

Cell[BoxData[
    \(%%^2\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"],

Cell[BoxData[
    \(Tidy[%%]\)], "Input"],

Cell[BoxData[
    \(DataToRules[%] // ColumnForm\)], "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Naming", "Subtitle"],

Cell["\<\
Functions for naming notes and chords.
They can easily be changed or extended (i'll document that another day...).
The way to call them might change in the future, im not quite happy with them \
yet. Ideas anyone?\
\>", "Text"],

Cell["\<\
There is currently only one type of note-naming, HelixNoteNaming, \
to which NoteNaming defaults to.\
\>", "Text"],

Cell[BoxData[
    \(NoteNaming\)], "Input"],

Cell["\<\
There is currently only one type of \
chord-naming,HelixChordNaming,to which ChordNaming defaults to.\
\>", "Text"],

Cell[BoxData[
    \(ChordNaming\)], "Input"],

Cell["\<\
Both b and \[Flat] are accepted as flats, and both # and \[Sharp] \
as sharps.\
\>", "Text"],

Cell[CellGroupData[{

Cell["HelixNoteNaming", "Subsection"],

Cell["HelixNoteNaming is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[HelixNoteNaming]\)], "Input"],

Cell["HelixNoteNaming has members:", "Text"],

Cell[BoxData[
    \(Members[HelixNoteNaming]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[HelixNoteNaming]\)], "Input"],

Cell["\<\
An example creating a HelixNoteNaming the basic way is therefore:\
\
\>", "Text"],

Cell[BoxData[
    \(e = 
      HelixNoteNaming[{7, {"\<p\>", "\<q\>", "\<r\>", "\<s\>"}, {3, 5, 1}, 
          0}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      HelixNoteNaming[{7, {"\<p\>", "\<q\>", "\<r\>", "\<s\>"}, {3, 5, 1}, 
          0}, donald \[Rule] duck, mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called HelixNoteNaming[data,opts___] it is \
stored as HelixNoteNaming[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default HelixNoteNaming:", "Text"],

Cell[BoxData[
    \(e = HelixNoteNaming[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["\<\
The name of the note 60 to 71 in G major (The second parameter is \
the number of sharps/flats, one #)\
\>", "Text"],

Cell[BoxData[
    \(\(NoteNaming[#, 1] &\) /@ Range[60, 71]\)], "Input"],

Cell["The name of the note 60 to 71 in Bb major (two b's)", "Text"],

Cell[BoxData[
    \(\(NoteNaming[#, \(-2\)] &\) /@ Range[60, 71]\)], "Input"],

Cell["\<\
Calling NoteNaming directly is costly. Better to get the function \
first and then call it.\
\>", "Text"],

Cell[BoxData[
    \(\(f = Convert[PitchCode, String, NoteNaming];\)\)], "Input"],

Cell["The second parameter is the number of sharps/flats", "Text"],

Cell[BoxData[
    \(\(f[#, 5] &\) /@ Range[60, 71]\)], "Input"],

Cell["The reverse function", "Text"],

Cell[BoxData[
    \(\(g = Convert[String, PitchCode, NoteNaming];\)\)], "Input"],

Cell[BoxData[
    \(g /@ \((\(f[#, 5] &\) /@ Range[60, 71])\)\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["HelixChordNaming", "Subsection"],

Cell["HelixChordNaming is an element:", "Text"],

Cell[BoxData[
    \(ContainerQ[HelixChordNaming]\)], "Input"],

Cell["HelixChordNaming has members:", "Text"],

Cell[BoxData[
    \(Members[HelixChordNaming]\)], "Input"],

Cell["The members are structured as:", "Text"],

Cell[BoxData[
    \(Struct[HelixChordNaming]\)], "Input"],

Cell["\<\
An example creating a HelixChordNaming the basic way is \
therefore:\
\>", "Text"],

Cell[BoxData[
    \(e = 
      HelixChordNaming[{HelixNoteNaming[{7, {"\<p\>", "\<q\>", "\<r\>", \
"\<s\>"}, {3, 5, 1}, 
              0}], {{{"\<x\>"}, {0, 2, 4}}, {{"\<y\>"}, {0, 3, 
                4}}}}]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["You can add custom options to an object:", "Text"],

Cell[BoxData[
    \(e = 
      HelixChordNaming[{HelixNoteNaming[{7, {"\<p\>", "\<q\>", "\<r\>", \
"\<s\>"}, {3, 5, 1}, 0}], {{{"\<x\>"}, {0, 2, 4}}, {{"\<y\>"}, {0, 3, 4}}}}, 
        donald \[Rule] duck, mickey \[Rule] mouse]\)], "Input"],

Cell[BoxData[
    \(Opts[e]\)], "Input"],

Cell[BoxData[
    \(Data[e]\)], "Input"],

Cell["\<\
While the constructor is called HelixChordNaming[data,opts___] it \
is stored as HelixChordNaming[{opts},data]\
\>", "Text"],

Cell[BoxData[
    \(e // InputForm\)], "Input"],

Cell["There is a default HelixChordNaming:", "Text"],

Cell[BoxData[
    \(e = HelixChordNaming[]\)], "Input"],

Cell["View the data as rules:", "Text"],

Cell[BoxData[
    \(DataToRules[e] // ColumnForm\)], "Input"],

Cell["\<\
The types of chords currently handled by the default chord-naming \
are:\
\>", "Text"],

Cell[BoxData[
    \(\(#[\([1, 1]\)] &\) /@ ChordNames[ChordNaming]\)], "Input"],

Cell["\<\
You can call ChordNaming directly, as with NoteNaming. The second \
parameter is the number of sharps/flats.\
\>", "Text"],

Cell[BoxData[
    \(ChordNaming[{0, 4, 7} + 3, 1]\)], "Input"],

Cell["...but getting the function first is better.", "Text"],

Cell[BoxData[
    \(\(f = Convert[{PitchCode}, String, ChordNaming];\)\)], "Input"],

Cell["The current scheme takes inversions into account.", "Text"],

Cell[BoxData[
    \(f[{3, 7, 12}, 0]\)], "Input"],

Cell[BoxData[
    \(f[{0, 4, 7, 9}, 0]\)], "Input"],

Cell["Sometimes the result contain several alternatives.", "Text"],

Cell[BoxData[
    \(f[{0, 5, 7}, 0]\)], "Input"],

Cell[BoxData[
    \(f[{0, 3, 6, 9} + 3, 0]\)], "Input"],

Cell[BoxData[
    \(f[{0, 4, 8} + 5, 0]\)], "Input"],

Cell["\<\
If there is no chord with the given set of pc's, the scheme is to \
take the notes mod 12 and search for alien notes wich will be treated as \
bass.\
\>", "Text"],

Cell[BoxData[
    \(f[{0, 1, 3, 7}, 0]\)], "Input"],

Cell[BoxData[
    \(f[{0, 3, 6, 7}, 0]\)], "Input"],

Cell["The reverse function.", "Text"],

Cell[BoxData[
    \(\(g = Convert[String, {PitchCode}, ChordNaming];\)\)], "Input"],

Cell[BoxData[
    \(g["\<GbMaj7\>"]\)], "Input"],

Cell["An oddly notated chord:", "Text"],

Cell[BoxData[
    \(g["\<B##m/Fbb\>"]\)], "Input"],

Cell[BoxData[
    \(f[%, 11]\)], "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["PianoRoll", "Subtitle"],

Cell["\<\
PianoRoll IS going to change!!
Its just an initial port from musica (the old one).\
\>", "Text"],

Cell["The options WILL change.", "Text"]
}, Closed]],

Cell[CellGroupData[{

Cell["Comments", "Subtitle"],

Cell["\<\
Unfortunately I have not found a way to get the Convert-functions \
automatically loaded.
This means that You will have to load the actual package manually if not \
already loaded.\
\>", "Text"],

Cell["\<\
The non-trivial conversion-constructors are:
  Counterpoint[_Track] and Track[_Melody]
  Counterpoint[_Progression] and  Progression[_Counterpoint]
  Snippet[_Melody]
  Snippet[_ToneSpectrum] and ToneSpectrum[_Snippet]  
The rest of the conversion-constructors are quite simple and depend on the \
non-trivial ones.\
\>", "Text"]
}, Closed]],

Cell[CellGroupData[{

Cell["All symbols listed alphabetically", "Subtitle"],

Cell["\<\
You can get hold of almost all of the packages in Musica2 as a list \
of strings:\
\>", "Text"],

Cell[BoxData[
    \(Packages\)], "Input"],

Cell["\<\
You can get hold of all the symbols in Musica2 as a list of \
strings:\
\>", "Text"],

Cell[BoxData[
    \(Symbols[]\)], "Input"],

Cell["\<\
This will print all usage texts (and you will se that there are \
still a lot (of) todo):\
\>", "Text"],

Cell[BoxData[
    \(PrintUsage[]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["EventList", "Subtitle"],

Cell["\<\
Attention! If you evaluate this chapter the other chapters in this \
notebook will not work anymore as there are many symbol-conflicts between old \
Musica and the current Musica2.\
\>", "Text",
  FontWeight->"Bold"],

Cell["\<\
As you might have guessed, there are no EventList's in \
Musica2.\
\>", "Text"],

Cell["\<\
There is a function however that convert EventList's from old \
Musica to Midi objects in Musica2, but you have to load it manually. This \
will result in a lot of symbol-collisions...\
\>", "Text"],

Cell[BoxData[
    \(Quit[]\)], "Input"],

Cell[BoxData[
    \(<< Musica2`EventList`\)], "Input"],

Cell["\<\
...so from now on we often have to state wich of two colliding \
symbols we refer to, be specific.\
\>", "Text"],

Cell["You also have to get the old Musica:", "Text"],

Cell[BoxData[
    \(<< Musica`\)], "Input"],

Cell["As an example, Import the choral using the old Musica:", "Text"],

Cell[BoxData[
    \(\(e = ImportMIDI[cor];\)\)], "Input"],

Cell["Take a look at the Head:", "Text"],

Cell[BoxData[
    \(e[\([0]\)] // ColumnForm\)], "Input"],

Cell["Then convert it:", "Text"],

Cell[BoxData[
    \(m = Midi[e]\)], "Input"],

Cell["Take a look at the opts:", "Text"],

Cell[BoxData[
    \(Opts[m]\)], "Input"],

Cell["The symbol PianoRoll collide, so we have to be specific:", "Text"],

Cell[BoxData[
    \(Musica2`PianoRoll`PianoRoll[m]\)], "Input"],

Cell["\<\
You can convert a specific track if you wish, but first you have to \
manually convert the data like this:\
\>", "Text"],

Cell[BoxData[
    \(\(x = 
        ConvertEventList[e, 
          EventList[MIDI, Musica`EventLists`MIDI`Messages`Tick, {}, 
            Null]];\)\)], "Input"],

Cell["Take a look at the Head:", "Text"],

Cell[BoxData[
    \(x[\([0]\)] // ColumnForm\)], "Input"],

Cell["Then convert a track:", "Text"],

Cell[BoxData[
    \(Musica2`Midi`Track[x[\([1]\)]]\)], "Input"],

Cell["Or convert just an event:", "Text"],

Cell[BoxData[
    \(Musica2`Midi`Event[x[\([1, 1]\)]]\)], "Input"],

Cell["\<\
Lots of symbol-collisions when both versions of Musica are loaded.
The rest of the examples in this document might not work anymore.\
\>", "Text"],

Cell["\<\
Currently only meta-events and notes are handled.
Look in EventList.m in Musica2 if you want to examine the functions.\
\>", \
"Text"]
}, Closed]]
}, Open  ]]
},
FrontEndVersion->"5.0 for X",
ScreenRectangle->{{0, 1600}, {0, 1200}},
AutoGeneratedPackage->Automatic,
WindowSize->{794, 1141},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
Magnification->1,
StyleDefinitions -> "Default.nb"
]

(*******************************************************************
Cached data follows.  If you edit this Notebook file directly, not
using Mathematica, you must remove the line containing CacheID at
the top of  the file.  The cache data will then be recreated when
you save this file from within Mathematica.
*******************************************************************)

(*CellTagsOutline
CellTagsIndex->{}
*)

(*CellTagsIndex
CellTagsIndex->{}
*)

(*NotebookFileOutline
Notebook[{

Cell[CellGroupData[{
Cell[1776, 53, 40, 1, 79, "Title"],
Cell[1819, 56, 53, 0, 32, "Text"],

Cell[CellGroupData[{
Cell[1897, 60, 27, 0, 51, "Subtitle"],
Cell[1927, 62, 720, 16, 284, "Text"]
}, Closed]],

Cell[CellGroupData[{
Cell[2684, 83, 27, 0, 53, "Subtitle"],
Cell[2714, 85, 709, 13, 194, "Text"]
}, Closed]],

Cell[CellGroupData[{
Cell[3460, 103, 27, 0, 53, "Subtitle"],
Cell[3490, 105, 45, 0, 32, "Text"],
Cell[3538, 107, 272, 5, 68, "Text"],
Cell[3813, 114, 55, 0, 32, "Text"]
}, Closed]],

Cell[CellGroupData[{
Cell[3905, 119, 24, 0, 53, "Subtitle"],
Cell[3932, 121, 117, 3, 32, "Text"],
Cell[4052, 126, 80, 2, 27, "Input",
  InitializationCell->True],
Cell[4135, 130, 37, 0, 32, "Text"],
Cell[4175, 132, 84, 2, 27, "Input",
  InitializationCell->True],
Cell[4262, 136, 92, 3, 32, "Text"],
Cell[4357, 141, 72, 2, 27, "Input",
  InitializationCell->True],
Cell[4432, 145, 70, 0, 32, "Text"],
Cell[4505, 147, 112, 2, 27, "Input",
  InitializationCell->True],
Cell[4620, 151, 775, 13, 107, "Input",
  InitializationCell->True],
Cell[5398, 166, 67, 0, 32, "Text"],
Cell[5468, 168, 166, 3, 43, "Input",
  InitializationCell->True]
}, Closed]],

Cell[CellGroupData[{
Cell[5671, 176, 29, 0, 53, "Subtitle"],
Cell[5703, 178, 51, 0, 32, "Text"],
Cell[5757, 180, 65, 1, 27, "Input"],
Cell[5825, 183, 39, 0, 32, "Text"],
Cell[5867, 185, 47, 1, 27, "Input"],
Cell[5917, 188, 24, 0, 32, "Text"],
Cell[5944, 190, 43, 1, 27, "Input"],
Cell[5990, 193, 36, 0, 32, "Text"],
Cell[6029, 195, 57, 1, 27, "Input"],
Cell[6089, 198, 36, 0, 32, "Text"],
Cell[6128, 200, 59, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[6224, 206, 42, 0, 53, "Subtitle"],
Cell[6269, 208, 32, 0, 32, "Text"],
Cell[6304, 210, 65, 1, 27, "Input"],
Cell[6372, 213, 56, 0, 32, "Text"],
Cell[6431, 215, 73, 1, 27, "Input"],
Cell[6507, 218, 31, 0, 32, "Text"],
Cell[6541, 220, 49, 1, 27, "Input"],
Cell[6593, 223, 51, 0, 32, "Text"],
Cell[6647, 225, 58, 1, 27, "Input"],
Cell[6708, 228, 54, 0, 32, "Text"],
Cell[6765, 230, 52, 1, 27, "Input"],
Cell[6820, 233, 63, 0, 32, "Text"],
Cell[6886, 235, 82, 1, 27, "Input"],
Cell[6971, 238, 49, 0, 32, "Text"],
Cell[7023, 240, 53, 1, 27, "Input"],
Cell[7079, 243, 44, 0, 32, "Text"],
Cell[7126, 245, 82, 1, 27, "Input"],
Cell[7211, 248, 41, 0, 32, "Text"],
Cell[7255, 250, 57, 1, 27, "Input"],
Cell[7315, 253, 39, 0, 32, "Text"],
Cell[7357, 255, 50, 1, 27, "Input"],
Cell[7410, 258, 24, 0, 32, "Text"],
Cell[7437, 260, 42, 1, 27, "Input"],
Cell[7482, 263, 36, 0, 32, "Text"],
Cell[7521, 265, 59, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[7617, 271, 47, 0, 53, "Subtitle"],
Cell[7667, 273, 135, 3, 32, "Text"],
Cell[7805, 278, 398, 8, 155, "Input"],
Cell[8206, 288, 61, 1, 27, "Input"],
Cell[8270, 291, 168, 4, 50, "Text"],
Cell[8441, 297, 38, 0, 32, "Text"],
Cell[8482, 299, 57, 1, 27, "Input"],
Cell[8542, 302, 63, 1, 27, "Input"],
Cell[8608, 305, 24, 0, 32, "Text"],
Cell[8635, 307, 57, 1, 27, "Input"],
Cell[8695, 310, 56, 1, 27, "Input"],
Cell[8754, 313, 33, 0, 32, "Text"],
Cell[8790, 315, 46, 1, 27, "Input"],
Cell[8839, 318, 24, 0, 32, "Text"],
Cell[8866, 320, 43, 1, 27, "Input"],
Cell[8912, 323, 26, 0, 32, "Text"],
Cell[8941, 325, 57, 1, 27, "Input"],
Cell[9001, 328, 87, 3, 32, "Text"],
Cell[9091, 333, 72, 1, 27, "Input"],
Cell[9166, 336, 63, 1, 27, "Input"],
Cell[9232, 339, 68, 0, 32, "Text"],
Cell[9303, 341, 73, 1, 27, "Input"],
Cell[9379, 344, 23, 0, 32, "Text"],
Cell[9405, 346, 47, 1, 27, "Input"],
Cell[9455, 349, 31, 0, 32, "Text"],
Cell[9489, 351, 59, 1, 27, "Input"],
Cell[9551, 354, 55, 0, 32, "Text"],
Cell[9609, 356, 67, 1, 27, "Input"],
Cell[9679, 359, 24, 0, 32, "Text"],
Cell[9706, 361, 43, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[9786, 367, 42, 0, 53, "Subtitle"],

Cell[CellGroupData[{
Cell[9853, 371, 27, 0, 38, "Subsection"],
Cell[9883, 373, 130, 3, 32, "Text"],
Cell[10016, 378, 379, 8, 122, "Text"],
Cell[10398, 388, 205, 6, 32, "Text"],
Cell[10606, 396, 401, 7, 68, "Text"],
Cell[11010, 405, 192, 4, 50, "Text"],
Cell[11205, 411, 215, 4, 50, "Text"],
Cell[11423, 417, 293, 6, 50, "Text"],
Cell[11719, 425, 62, 0, 32, "Text"],
Cell[11784, 427, 243, 8, 50, "Text"],
Cell[12030, 437, 53, 1, 27, "Input"],
Cell[12086, 440, 88, 3, 32, "Text"],
Cell[12177, 445, 162, 3, 43, "Input"],
Cell[12342, 450, 83, 1, 27, "Input"],
Cell[12428, 453, 84, 1, 27, "Input"],
Cell[12515, 456, 52, 1, 27, "Input"],
Cell[12570, 459, 163, 4, 50, "Text"],
Cell[12736, 465, 42, 1, 27, "Input"],
Cell[12781, 468, 42, 1, 27, "Input"],
Cell[12826, 471, 42, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[12905, 477, 26, 0, 30, "Subsection"],
Cell[12934, 479, 35, 0, 32, "Text"],
Cell[12972, 481, 49, 1, 27, "Input"],
Cell[13024, 484, 47, 0, 32, "Text"],
Cell[13074, 486, 50, 1, 27, "Input"],
Cell[13127, 489, 33, 0, 32, "Text"],
Cell[13163, 491, 46, 1, 27, "Input"],
Cell[13212, 494, 46, 0, 32, "Text"],
Cell[13261, 496, 45, 1, 27, "Input"],
Cell[13309, 499, 70, 0, 32, "Text"],
Cell[13382, 501, 53, 1, 27, "Input"],
Cell[13438, 504, 39, 0, 32, "Text"],
Cell[13480, 506, 61, 1, 27, "Input"],
Cell[13544, 509, 56, 0, 32, "Text"],
Cell[13603, 511, 103, 2, 27, "Input"],
Cell[13709, 515, 40, 1, 27, "Input"],
Cell[13752, 518, 40, 1, 27, "Input"],
Cell[13795, 521, 110, 3, 32, "Text"],
Cell[13908, 526, 47, 1, 27, "Input"],
Cell[13958, 529, 40, 0, 32, "Text"],
Cell[14001, 531, 43, 1, 27, "Input"],
Cell[14047, 534, 39, 0, 32, "Text"],
Cell[14089, 536, 61, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[14187, 542, 26, 0, 30, "Subsection"],
Cell[14216, 544, 37, 0, 32, "Text"],
Cell[14256, 546, 49, 1, 27, "Input"],
Cell[14308, 549, 32, 0, 32, "Text"],
Cell[14343, 551, 50, 1, 27, "Input"],
Cell[14396, 554, 49, 0, 32, "Text"],
Cell[14448, 556, 50, 1, 27, "Input"],
Cell[14501, 559, 70, 0, 32, "Text"],
Cell[14574, 561, 59, 1, 27, "Input"],
Cell[14636, 564, 39, 0, 32, "Text"],
Cell[14678, 566, 61, 1, 27, "Input"],
Cell[14742, 569, 56, 0, 32, "Text"],
Cell[14801, 571, 175, 4, 27, "Input"],
Cell[14979, 577, 40, 1, 27, "Input"],
Cell[15022, 580, 40, 1, 27, "Input"],
Cell[15065, 583, 185, 5, 50, "Text"],
Cell[15253, 590, 47, 1, 27, "Input"],
Cell[15303, 593, 47, 0, 32, "Text"],
Cell[15353, 595, 44, 1, 27, "Input"],
Cell[15400, 598, 39, 0, 32, "Text"],
Cell[15442, 600, 63, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[15542, 606, 26, 0, 30, "Subsection"],
Cell[15571, 608, 37, 0, 32, "Text"],
Cell[15611, 610, 49, 1, 27, "Input"],
Cell[15663, 613, 32, 0, 32, "Text"],
Cell[15698, 615, 50, 1, 27, "Input"],
Cell[15751, 618, 70, 0, 32, "Text"],
Cell[15824, 620, 91, 1, 27, "Input"],
Cell[15918, 623, 39, 0, 32, "Text"],
Cell[15960, 625, 61, 1, 27, "Input"],
Cell[16024, 628, 56, 0, 32, "Text"],
Cell[16083, 630, 197, 4, 43, "Input"],
Cell[16283, 636, 40, 1, 27, "Input"],
Cell[16326, 639, 40, 1, 27, "Input"],
Cell[16369, 642, 185, 5, 50, "Text"],
Cell[16557, 649, 47, 1, 27, "Input"],
Cell[16607, 652, 47, 0, 32, "Text"],
Cell[16657, 654, 44, 1, 27, "Input"],
Cell[16704, 657, 39, 0, 32, "Text"],
Cell[16746, 659, 63, 1, 27, "Input"],
Cell[16812, 662, 47, 0, 32, "Text"],
Cell[16862, 664, 44, 1, 27, "Input"],
Cell[16909, 667, 39, 0, 32, "Text"],
Cell[16951, 669, 74, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[17062, 675, 28, 0, 30, "Subsection"],
Cell[17093, 677, 91, 3, 32, "Text"],
Cell[17187, 682, 40, 0, 32, "Text"],
Cell[17230, 684, 46, 1, 27, "Input"],
Cell[17279, 687, 56, 1, 27, "Input"],
Cell[17338, 690, 65, 1, 27, "Input"],
Cell[17406, 693, 60, 1, 27, "Input"],
Cell[17469, 696, 45, 1, 27, "Input"],
Cell[17517, 699, 58, 0, 32, "Text"],
Cell[17578, 701, 94, 3, 32, "Text"],
Cell[17675, 706, 127, 2, 27, "Input"],
Cell[17805, 710, 93, 3, 32, "Text"],
Cell[17901, 715, 45, 1, 27, "Input"],
Cell[17949, 718, 115, 3, 27, "Input"],
Cell[18067, 723, 106, 3, 32, "Text"],
Cell[18176, 728, 40, 1, 27, "Input"],
Cell[18219, 731, 40, 1, 27, "Input"],
Cell[18262, 734, 40, 1, 27, "Input"],
Cell[18305, 737, 91, 3, 32, "Text"],
Cell[18399, 742, 64, 1, 27, "Input"],
Cell[18466, 745, 215, 5, 50, "Text"],
Cell[18684, 752, 64, 1, 27, "Input"],
Cell[18751, 755, 63, 0, 32, "Text"],
Cell[18817, 757, 71, 1, 27, "Input"],
Cell[18891, 760, 89, 3, 32, "Text"],
Cell[18983, 765, 105, 2, 27, "Input"],
Cell[19091, 769, 128, 3, 32, "Text"],
Cell[19222, 774, 65, 1, 27, "Input"],
Cell[19290, 777, 22, 0, 32, "Text"],
Cell[19315, 779, 103, 2, 27, "Input"],
Cell[19421, 783, 159, 2, 43, "Input"],
Cell[19583, 787, 75, 0, 32, "Text"],
Cell[19661, 789, 43, 0, 32, "Text"],
Cell[19707, 791, 45, 1, 27, "Input"],
Cell[19755, 794, 61, 1, 27, "Input"],
Cell[19819, 797, 38, 0, 32, "Text"],
Cell[19860, 799, 50, 1, 27, "Input"],
Cell[19913, 802, 61, 1, 27, "Input"],
Cell[19977, 805, 35, 0, 32, "Text"],
Cell[20015, 807, 43, 1, 27, "Input"],
Cell[20061, 810, 61, 1, 27, "Input"],
Cell[20125, 813, 88, 3, 32, "Text"],
Cell[20216, 818, 46, 1, 27, "Input"],
Cell[20265, 821, 61, 1, 27, "Input"],
Cell[20329, 824, 33, 0, 32, "Text"],
Cell[20365, 826, 41, 1, 27, "Input"],
Cell[20409, 829, 61, 1, 27, "Input"],
Cell[20473, 832, 53, 0, 32, "Text"],
Cell[20529, 834, 48, 1, 27, "Input"],
Cell[20580, 837, 61, 1, 27, "Input"],
Cell[20644, 840, 32, 0, 32, "Text"],
Cell[20679, 842, 40, 1, 27, "Input"],
Cell[20722, 845, 61, 1, 27, "Input"],
Cell[20786, 848, 34, 0, 32, "Text"],
Cell[20823, 850, 42, 1, 27, "Input"],
Cell[20868, 853, 34, 0, 32, "Text"],
Cell[20905, 855, 42, 1, 27, "Input"],
Cell[20950, 858, 111, 3, 32, "Text"],
Cell[21064, 863, 45, 1, 27, "Input"],
Cell[21112, 866, 59, 0, 32, "Text"],
Cell[21174, 868, 51, 1, 27, "Input"],
Cell[21228, 871, 32, 0, 32, "Text"],
Cell[21263, 873, 40, 1, 27, "Input"],
Cell[21306, 876, 42, 0, 32, "Text"],
Cell[21351, 878, 43, 1, 27, "Input"],
Cell[21397, 881, 53, 0, 32, "Text"],
Cell[21453, 883, 46, 1, 27, "Input"],
Cell[21502, 886, 44, 0, 32, "Text"],
Cell[21549, 888, 46, 1, 27, "Input"],
Cell[21598, 891, 58, 0, 32, "Text"],
Cell[21659, 893, 60, 1, 27, "Input"],
Cell[21722, 896, 32, 0, 32, "Text"],
Cell[21757, 898, 40, 1, 27, "Input"],
Cell[21800, 901, 35, 0, 32, "Text"],
Cell[21838, 903, 47, 1, 27, "Input"],
Cell[21888, 906, 37, 0, 32, "Text"],
Cell[21928, 908, 66, 1, 27, "Input"],
Cell[21997, 911, 35, 0, 32, "Text"],
Cell[22035, 913, 43, 1, 27, "Input"],
Cell[22081, 916, 45, 0, 32, "Text"],
Cell[22129, 918, 206, 4, 50, "Text"],
Cell[22338, 924, 43, 1, 27, "Input"],
Cell[22384, 927, 55, 1, 27, "Input"],
Cell[22442, 930, 43, 1, 27, "Input"],
Cell[22488, 933, 126, 3, 32, "Text"],
Cell[22617, 938, 47, 1, 27, "Input"],
Cell[22667, 941, 50, 1, 27, "Input"],
Cell[22720, 944, 53, 1, 27, "Input"],
Cell[22776, 947, 154, 3, 32, "Text"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{
Cell[22979, 956, 25, 0, 53, "Subtitle"],

Cell[CellGroupData[{
Cell[23029, 960, 29, 0, 38, "Subsection"],
Cell[23061, 962, 56, 0, 32, "Text"],
Cell[23120, 964, 38, 0, 32, "Text"],
Cell[23161, 966, 52, 1, 27, "Input"],
Cell[23216, 969, 51, 0, 32, "Text"],
Cell[23270, 971, 51, 1, 27, "Input"],
Cell[23324, 974, 36, 0, 32, "Text"],
Cell[23363, 976, 49, 1, 27, "Input"],
Cell[23415, 979, 46, 0, 32, "Text"],
Cell[23464, 981, 48, 1, 27, "Input"],
Cell[23515, 984, 73, 0, 32, "Text"],
Cell[23591, 986, 123, 3, 27, "Input"],
Cell[23717, 991, 39, 0, 32, "Text"],
Cell[23759, 993, 61, 1, 27, "Input"],
Cell[23823, 996, 56, 0, 32, "Text"],
Cell[23882, 998, 164, 3, 43, "Input"],
Cell[24049, 1003, 40, 1, 27, "Input"],
Cell[24092, 1006, 40, 1, 27, "Input"],
Cell[24135, 1009, 116, 3, 32, "Text"],
Cell[24254, 1014, 47, 1, 27, "Input"],
Cell[24304, 1017, 43, 0, 32, "Text"],
Cell[24350, 1019, 46, 1, 27, "Input"],
Cell[24399, 1022, 39, 0, 32, "Text"],
Cell[24441, 1024, 61, 1, 27, "Input"],
Cell[24505, 1027, 74, 0, 32, "Text"],
Cell[24582, 1029, 54, 1, 27, "Input"],
Cell[24639, 1032, 70, 0, 32, "Text"],
Cell[24712, 1034, 41, 1, 27, "Input"],
Cell[24756, 1037, 57, 1, 27, "Input"],
Cell[24816, 1040, 33, 0, 32, "Text"],
Cell[24852, 1042, 44, 1, 27, "Input"],
Cell[24899, 1045, 44, 1, 27, "Input"],
Cell[24946, 1048, 44, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[25027, 1054, 27, 0, 30, "Subsection"],
Cell[25057, 1056, 192, 4, 50, "Text"],
Cell[25252, 1062, 38, 0, 32, "Text"],
Cell[25293, 1064, 50, 1, 27, "Input"],
Cell[25346, 1067, 33, 0, 32, "Text"],
Cell[25382, 1069, 51, 1, 27, "Input"],
Cell[25436, 1072, 71, 0, 32, "Text"],
Cell[25510, 1074, 66, 1, 27, "Input"],
Cell[25579, 1077, 39, 0, 32, "Text"],
Cell[25621, 1079, 61, 1, 27, "Input"],
Cell[25685, 1082, 73, 0, 32, "Text"],
Cell[25761, 1084, 40, 1, 27, "Input"],
Cell[25804, 1087, 50, 0, 32, "Text"],
Cell[25857, 1089, 47, 1, 27, "Input"],
Cell[25907, 1092, 39, 0, 32, "Text"],
Cell[25949, 1094, 63, 1, 27, "Input"],
Cell[26015, 1097, 76, 0, 32, "Text"],
Cell[26094, 1099, 96, 3, 32, "Text"],
Cell[26193, 1104, 114, 2, 27, "Input"],
Cell[26310, 1108, 80, 1, 27, "Input"],
Cell[26393, 1111, 72, 0, 32, "Text"],
Cell[26468, 1113, 54, 1, 27, "Input"],
Cell[26525, 1116, 89, 3, 32, "Text"],
Cell[26617, 1121, 42, 1, 27, "Input"],
Cell[26662, 1124, 49, 1, 27, "Input"],
Cell[26714, 1127, 57, 1, 27, "Input"],
Cell[26774, 1130, 33, 0, 32, "Text"],
Cell[26810, 1132, 42, 1, 27, "Input"],
Cell[26855, 1135, 42, 1, 27, "Input"],
Cell[26900, 1138, 44, 1, 27, "Input"],
Cell[26947, 1141, 44, 1, 27, "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{
Cell[27040, 1148, 24, 0, 53, "Subtitle"],
Cell[27067, 1150, 41, 0, 32, "Text"],

Cell[CellGroupData[{
Cell[27133, 1154, 26, 0, 38, "Subsection"],
Cell[27162, 1156, 48, 0, 32, "Text"],
Cell[27213, 1158, 35, 0, 32, "Text"],
Cell[27251, 1160, 49, 1, 27, "Input"],
Cell[27303, 1163, 49, 0, 32, "Text"],
Cell[27355, 1165, 52, 1, 27, "Input"],
Cell[27410, 1168, 48, 0, 32, "Text"],
Cell[27461, 1170, 51, 1, 27, "Input"],
Cell[27515, 1173, 33, 0, 32, "Text"],
Cell[27551, 1175, 46, 1, 27, "Input"],
Cell[27600, 1178, 46, 0, 32, "Text"],
Cell[27649, 1180, 45, 1, 27, "Input"],
Cell[27697, 1183, 70, 0, 32, "Text"],
Cell[27770, 1185, 58, 1, 27, "Input"],
Cell[27831, 1188, 39, 0, 32, "Text"],
Cell[27873, 1190, 61, 1, 27, "Input"],
Cell[27937, 1193, 56, 0, 32, "Text"],
Cell[27996, 1195, 117, 3, 27, "Input"],
Cell[28116, 1200, 40, 1, 27, "Input"],
Cell[28159, 1203, 40, 1, 27, "Input"],
Cell[28202, 1206, 110, 3, 32, "Text"],
Cell[28315, 1211, 47, 1, 27, "Input"],
Cell[28365, 1214, 40, 0, 32, "Text"],
Cell[28408, 1216, 43, 1, 27, "Input"],
Cell[28454, 1219, 39, 0, 32, "Text"],
Cell[28496, 1221, 61, 1, 27, "Input"],
Cell[28560, 1224, 113, 3, 32, "Text"],
Cell[28676, 1229, 68, 0, 32, "Text"],
Cell[28747, 1231, 49, 1, 27, "Input"],
Cell[28799, 1234, 66, 0, 32, "Text"],
Cell[28868, 1236, 46, 1, 27, "Input"],
Cell[28917, 1239, 68, 1, 27, "Input"],
Cell[28988, 1242, 93, 3, 32, "Text"],
Cell[29084, 1247, 41, 1, 27, "Input"],
Cell[29128, 1250, 62, 0, 32, "Text"],
Cell[29193, 1252, 28, 0, 32, "Text"],
Cell[29224, 1254, 44, 1, 27, "Input"],
Cell[29271, 1257, 44, 1, 27, "Input"],
Cell[29318, 1260, 115, 3, 32, "Text"],
Cell[29436, 1265, 45, 1, 27, "Input"],
Cell[29484, 1268, 47, 0, 32, "Text"],
Cell[29534, 1270, 44, 1, 27, "Input"],
Cell[29581, 1273, 47, 1, 27, "Input"],
Cell[29631, 1276, 46, 1, 27, "Input"],
Cell[29680, 1279, 88, 3, 32, "Text"],
Cell[29771, 1284, 44, 1, 27, "Input"],
Cell[29818, 1287, 45, 0, 32, "Text"],
Cell[29866, 1289, 43, 1, 27, "Input"],
Cell[29912, 1292, 47, 1, 27, "Input"],
Cell[29962, 1295, 45, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[30044, 1301, 28, 0, 30, "Subsection"],
Cell[30075, 1303, 87, 3, 32, "Text"],
Cell[30165, 1308, 39, 0, 32, "Text"],
Cell[30207, 1310, 51, 1, 27, "Input"],
Cell[30261, 1313, 34, 0, 32, "Text"],
Cell[30298, 1315, 52, 1, 27, "Input"],
Cell[30353, 1318, 59, 0, 32, "Text"],
Cell[30415, 1320, 58, 1, 27, "Input"],
Cell[30476, 1323, 72, 0, 32, "Text"],
Cell[30551, 1325, 61, 1, 27, "Input"],
Cell[30615, 1328, 39, 0, 32, "Text"],
Cell[30657, 1330, 61, 1, 27, "Input"],
Cell[30721, 1333, 56, 0, 32, "Text"],
Cell[30780, 1335, 158, 3, 27, "Input"],
Cell[30941, 1340, 40, 1, 27, "Input"],
Cell[30984, 1343, 40, 1, 27, "Input"],
Cell[31027, 1346, 189, 5, 50, "Text"],
Cell[31219, 1353, 47, 1, 27, "Input"],
Cell[31269, 1356, 47, 0, 32, "Text"],
Cell[31319, 1358, 44, 1, 27, "Input"],
Cell[31366, 1361, 39, 0, 32, "Text"],
Cell[31408, 1363, 63, 1, 27, "Input"],
Cell[31474, 1366, 39, 0, 32, "Text"],
Cell[31516, 1368, 173, 3, 43, "Input"],
Cell[31692, 1373, 61, 1, 27, "Input"],
Cell[31756, 1376, 54, 0, 32, "Text"],
Cell[31813, 1378, 49, 1, 27, "Input"],
Cell[31865, 1381, 55, 0, 32, "Text"],
Cell[31923, 1383, 44, 1, 27, "Input"],
Cell[31970, 1386, 87, 1, 27, "Input"],
Cell[32060, 1389, 67, 0, 32, "Text"],
Cell[32130, 1391, 41, 1, 27, "Input"],
Cell[32174, 1394, 44, 1, 27, "Input"],
Cell[32221, 1397, 54, 0, 32, "Text"],
Cell[32278, 1399, 70, 1, 27, "Input"],
Cell[32351, 1402, 61, 1, 27, "Input"],
Cell[32415, 1405, 86, 1, 27, "Input"],
Cell[32504, 1408, 75, 0, 32, "Text"],
Cell[32582, 1410, 41, 1, 27, "Input"],
Cell[32626, 1413, 62, 0, 32, "Text"],
Cell[32691, 1415, 64, 0, 32, "Text"],
Cell[32758, 1417, 75, 1, 27, "Input"],
Cell[32836, 1420, 70, 1, 27, "Input"],
Cell[32909, 1423, 69, 1, 27, "Input"],
Cell[32981, 1426, 79, 1, 27, "Input"],
Cell[33063, 1429, 28, 0, 32, "Text"],
Cell[33094, 1431, 44, 1, 27, "Input"],
Cell[33141, 1434, 44, 1, 27, "Input"],
Cell[33188, 1437, 76, 0, 32, "Text"]
}, Closed]],

Cell[CellGroupData[{
Cell[33301, 1442, 27, 0, 30, "Subsection"],
Cell[33331, 1444, 76, 0, 32, "Text"],
Cell[33410, 1446, 38, 0, 32, "Text"],
Cell[33451, 1448, 50, 1, 27, "Input"],
Cell[33504, 1451, 33, 0, 32, "Text"],
Cell[33540, 1453, 51, 1, 27, "Input"],
Cell[33594, 1456, 57, 0, 32, "Text"],
Cell[33654, 1458, 57, 1, 27, "Input"],
Cell[33714, 1461, 71, 0, 32, "Text"],
Cell[33788, 1463, 60, 1, 27, "Input"],
Cell[33851, 1466, 39, 0, 32, "Text"],
Cell[33893, 1468, 61, 1, 27, "Input"],
Cell[33957, 1471, 56, 0, 32, "Text"],
Cell[34016, 1473, 157, 3, 27, "Input"],
Cell[34176, 1478, 40, 1, 27, "Input"],
Cell[34219, 1481, 40, 1, 27, "Input"],
Cell[34262, 1484, 187, 5, 50, "Text"],
Cell[34452, 1491, 156, 3, 32, "Text"],
Cell[34611, 1496, 47, 1, 27, "Input"],
Cell[34661, 1499, 47, 0, 32, "Text"],
Cell[34711, 1501, 44, 1, 27, "Input"],
Cell[34758, 1504, 39, 0, 32, "Text"],
Cell[34800, 1506, 63, 1, 27, "Input"],
Cell[34866, 1509, 32, 0, 32, "Text"],
Cell[34901, 1511, 154, 3, 43, "Input"],
Cell[35058, 1516, 61, 1, 27, "Input"],
Cell[35122, 1519, 94, 3, 32, "Text"],
Cell[35219, 1524, 54, 0, 32, "Text"],
Cell[35276, 1526, 49, 1, 27, "Input"],
Cell[35328, 1529, 55, 0, 32, "Text"],
Cell[35386, 1531, 44, 1, 27, "Input"],
Cell[35433, 1534, 70, 1, 27, "Input"],
Cell[35506, 1537, 70, 0, 32, "Text"],
Cell[35579, 1539, 42, 1, 27, "Input"],
Cell[35624, 1542, 44, 1, 27, "Input"],
Cell[35671, 1545, 53, 0, 32, "Text"],
Cell[35727, 1547, 60, 1, 27, "Input"],
Cell[35790, 1550, 61, 1, 27, "Input"],
Cell[35854, 1553, 70, 1, 27, "Input"],
Cell[35927, 1556, 90, 3, 32, "Text"],
Cell[36020, 1561, 41, 1, 27, "Input"],
Cell[36064, 1564, 62, 0, 32, "Text"],
Cell[36129, 1566, 28, 0, 32, "Text"],
Cell[36160, 1568, 44, 1, 27, "Input"],
Cell[36207, 1571, 44, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[36288, 1577, 33, 0, 30, "Subsection"],
Cell[36324, 1579, 94, 3, 32, "Text"],
Cell[36421, 1584, 44, 0, 32, "Text"],
Cell[36468, 1586, 56, 1, 27, "Input"],
Cell[36527, 1589, 39, 0, 32, "Text"],
Cell[36569, 1591, 57, 1, 27, "Input"],
Cell[36629, 1594, 87, 3, 32, "Text"],
Cell[36719, 1599, 118, 3, 27, "Input"],
Cell[36840, 1604, 39, 0, 32, "Text"],
Cell[36882, 1606, 61, 1, 27, "Input"],
Cell[36946, 1609, 56, 0, 32, "Text"],
Cell[37005, 1611, 219, 5, 59, "Input"],
Cell[37227, 1618, 40, 1, 27, "Input"],
Cell[37270, 1621, 40, 1, 27, "Input"],
Cell[37313, 1624, 199, 5, 50, "Text"],
Cell[37515, 1631, 47, 1, 27, "Input"],
Cell[37565, 1634, 48, 0, 32, "Text"],
Cell[37616, 1636, 45, 1, 27, "Input"],
Cell[37664, 1639, 39, 0, 32, "Text"],
Cell[37706, 1641, 63, 1, 27, "Input"],
Cell[37772, 1644, 47, 0, 32, "Text"],
Cell[37822, 1646, 44, 1, 27, "Input"],
Cell[37869, 1649, 39, 0, 32, "Text"],
Cell[37911, 1651, 74, 1, 27, "Input"],
Cell[37988, 1654, 32, 0, 32, "Text"],
Cell[38023, 1656, 152, 3, 43, "Input"],
Cell[38178, 1661, 61, 1, 27, "Input"],
Cell[38242, 1664, 54, 0, 32, "Text"],
Cell[38299, 1666, 49, 1, 27, "Input"],
Cell[38351, 1669, 55, 0, 32, "Text"],
Cell[38409, 1671, 44, 1, 27, "Input"],
Cell[38456, 1674, 70, 1, 27, "Input"],
Cell[38529, 1677, 46, 0, 32, "Text"],
Cell[38578, 1679, 41, 1, 27, "Input"],
Cell[38622, 1682, 50, 0, 32, "Text"],
Cell[38675, 1684, 42, 1, 27, "Input"],
Cell[38720, 1687, 27, 0, 32, "Text"],
Cell[38750, 1689, 40, 1, 27, "Input"],
Cell[38793, 1692, 96, 3, 32, "Text"],
Cell[38892, 1697, 41, 1, 27, "Input"],
Cell[38936, 1700, 62, 0, 32, "Text"],
Cell[39001, 1702, 28, 0, 32, "Text"],
Cell[39032, 1704, 44, 1, 27, "Input"],
Cell[39079, 1707, 44, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[39160, 1713, 34, 0, 30, "Subsection"],
Cell[39197, 1715, 98, 3, 32, "Text"],
Cell[39298, 1720, 45, 0, 32, "Text"],
Cell[39346, 1722, 57, 1, 27, "Input"],
Cell[39406, 1725, 40, 0, 32, "Text"],
Cell[39449, 1727, 58, 1, 27, "Input"],
Cell[39510, 1730, 88, 3, 32, "Text"],
Cell[39601, 1735, 121, 3, 27, "Input"],
Cell[39725, 1740, 39, 0, 32, "Text"],
Cell[39767, 1742, 61, 1, 27, "Input"],
Cell[39831, 1745, 56, 0, 32, "Text"],
Cell[39890, 1747, 222, 5, 59, "Input"],
Cell[40115, 1754, 40, 1, 27, "Input"],
Cell[40158, 1757, 40, 1, 27, "Input"],
Cell[40201, 1760, 201, 5, 50, "Text"],
Cell[40405, 1767, 47, 1, 27, "Input"],
Cell[40455, 1770, 49, 0, 32, "Text"],
Cell[40507, 1772, 46, 1, 27, "Input"],
Cell[40556, 1775, 39, 0, 32, "Text"],
Cell[40598, 1777, 63, 1, 27, "Input"],
Cell[40664, 1780, 47, 0, 32, "Text"],
Cell[40714, 1782, 44, 1, 27, "Input"],
Cell[40761, 1785, 39, 0, 32, "Text"],
Cell[40803, 1787, 74, 1, 27, "Input"],
Cell[40880, 1790, 32, 0, 32, "Text"],
Cell[40915, 1792, 307, 5, 91, "Input"],
Cell[41225, 1799, 53, 0, 32, "Text"],
Cell[41281, 1801, 61, 1, 27, "Input"],
Cell[41345, 1804, 54, 0, 32, "Text"],
Cell[41402, 1806, 49, 1, 27, "Input"],
Cell[41454, 1809, 55, 0, 32, "Text"],
Cell[41512, 1811, 44, 1, 27, "Input"],
Cell[41559, 1814, 70, 1, 27, "Input"],
Cell[41632, 1817, 48, 0, 32, "Text"],
Cell[41683, 1819, 42, 1, 27, "Input"],
Cell[41728, 1822, 28, 0, 32, "Text"],
Cell[41759, 1824, 41, 1, 27, "Input"],
Cell[41803, 1827, 46, 0, 32, "Text"],
Cell[41852, 1829, 63, 1, 27, "Input"],
Cell[41918, 1832, 27, 0, 32, "Text"],
Cell[41948, 1834, 40, 1, 27, "Input"],
Cell[41991, 1837, 33, 0, 32, "Text"],
Cell[42027, 1839, 47, 1, 27, "Input"],
Cell[42077, 1842, 46, 0, 32, "Text"],
Cell[42126, 1844, 61, 1, 27, "Input"],
Cell[42190, 1847, 97, 3, 32, "Text"],
Cell[42290, 1852, 41, 1, 27, "Input"],
Cell[42334, 1855, 62, 0, 32, "Text"],
Cell[42399, 1857, 28, 0, 32, "Text"],
Cell[42430, 1859, 44, 1, 27, "Input"],
Cell[42477, 1862, 44, 1, 27, "Input"],
Cell[42524, 1865, 74, 0, 32, "Text"]
}, Closed]],

Cell[CellGroupData[{
Cell[42635, 1870, 29, 0, 30, "Subsection"],
Cell[42667, 1872, 105, 3, 32, "Text"],
Cell[42775, 1877, 38, 0, 32, "Text"],
Cell[42816, 1879, 52, 1, 27, "Input"],
Cell[42871, 1882, 36, 0, 32, "Text"],
Cell[42910, 1884, 49, 1, 27, "Input"],
Cell[42962, 1887, 46, 0, 32, "Text"],
Cell[43011, 1889, 48, 1, 27, "Input"],
Cell[43062, 1892, 73, 0, 32, "Text"],
Cell[43138, 1894, 62, 1, 27, "Input"],
Cell[43203, 1897, 39, 0, 32, "Text"],
Cell[43245, 1899, 61, 1, 27, "Input"],
Cell[43309, 1902, 56, 0, 32, "Text"],
Cell[43368, 1904, 121, 3, 27, "Input"],
Cell[43492, 1909, 40, 1, 27, "Input"],
Cell[43535, 1912, 40, 1, 27, "Input"],
Cell[43578, 1915, 116, 3, 32, "Text"],
Cell[43697, 1920, 47, 1, 27, "Input"],
Cell[43747, 1923, 43, 0, 32, "Text"],
Cell[43793, 1925, 46, 1, 27, "Input"],
Cell[43842, 1928, 39, 0, 32, "Text"],
Cell[43884, 1930, 61, 1, 27, "Input"],
Cell[43948, 1933, 32, 0, 32, "Text"],
Cell[43983, 1935, 63, 1, 27, "Input"],
Cell[44049, 1938, 42, 0, 32, "Text"],
Cell[44094, 1940, 45, 1, 27, "Input"],
Cell[44142, 1943, 88, 1, 27, "Input"],
Cell[44233, 1946, 69, 0, 32, "Text"],
Cell[44305, 1948, 86, 1, 27, "Input"],
Cell[44394, 1951, 99, 3, 32, "Text"],
Cell[44496, 1956, 120, 2, 27, "Input"],
Cell[44619, 1960, 45, 1, 27, "Input"],
Cell[44667, 1963, 111, 2, 27, "Input"],
Cell[44781, 1967, 45, 1, 27, "Input"],
Cell[44829, 1970, 44, 0, 32, "Text"],
Cell[44876, 1972, 307, 5, 91, "Input"],
Cell[45186, 1979, 87, 3, 32, "Text"],
Cell[45276, 1984, 90, 1, 27, "Input"],
Cell[45369, 1987, 51, 0, 32, "Text"],
Cell[45423, 1989, 129, 2, 27, "Input"],
Cell[45555, 1993, 137, 3, 32, "Text"],
Cell[45695, 1998, 86, 1, 27, "Input"],
Cell[45784, 2001, 37, 0, 32, "Text"],
Cell[45824, 2003, 83, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[45944, 2009, 31, 0, 30, "Subsection"],
Cell[45978, 2011, 48, 0, 32, "Text"],
Cell[46029, 2013, 107, 3, 32, "Text"],
Cell[46139, 2018, 40, 0, 32, "Text"],
Cell[46182, 2020, 54, 1, 27, "Input"],
Cell[46239, 2023, 38, 0, 32, "Text"],
Cell[46280, 2025, 51, 1, 27, "Input"],
Cell[46334, 2028, 46, 0, 32, "Text"],
Cell[46383, 2030, 50, 1, 27, "Input"],
Cell[46436, 2033, 75, 0, 32, "Text"],
Cell[46514, 2035, 75, 1, 27, "Input"],
Cell[46592, 2038, 39, 0, 32, "Text"],
Cell[46634, 2040, 61, 1, 27, "Input"],
Cell[46698, 2043, 56, 0, 32, "Text"],
Cell[46757, 2045, 134, 3, 27, "Input"],
Cell[46894, 2050, 40, 1, 27, "Input"],
Cell[46937, 2053, 40, 1, 27, "Input"],
Cell[46980, 2056, 120, 3, 32, "Text"],
Cell[47103, 2061, 47, 1, 27, "Input"],
Cell[47153, 2064, 45, 0, 32, "Text"],
Cell[47201, 2066, 48, 1, 27, "Input"],
Cell[47252, 2069, 39, 0, 32, "Text"],
Cell[47294, 2071, 61, 1, 27, "Input"],
Cell[47358, 2074, 32, 0, 32, "Text"],
Cell[47393, 2076, 73, 1, 27, "Input"],
Cell[47469, 2079, 101, 3, 32, "Text"],
Cell[47573, 2084, 92, 1, 27, "Input"],
Cell[47668, 2087, 41, 0, 32, "Text"],
Cell[47712, 2089, 69, 0, 32, "Text"],
Cell[47784, 2091, 88, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[47909, 2097, 29, 0, 30, "Subsection"],
Cell[47941, 2099, 38, 0, 32, "Text"],
Cell[47982, 2101, 52, 1, 27, "Input"],
Cell[48037, 2104, 36, 0, 32, "Text"],
Cell[48076, 2106, 49, 1, 27, "Input"],
Cell[48128, 2109, 46, 0, 32, "Text"],
Cell[48177, 2111, 48, 1, 27, "Input"],
Cell[48228, 2114, 73, 0, 32, "Text"],
Cell[48304, 2116, 67, 1, 27, "Input"],
Cell[48374, 2119, 39, 0, 32, "Text"],
Cell[48416, 2121, 61, 1, 27, "Input"],
Cell[48480, 2124, 56, 0, 32, "Text"],
Cell[48539, 2126, 126, 3, 27, "Input"],
Cell[48668, 2131, 40, 1, 27, "Input"],
Cell[48711, 2134, 40, 1, 27, "Input"],
Cell[48754, 2137, 116, 3, 32, "Text"],
Cell[48873, 2142, 47, 1, 27, "Input"],
Cell[48923, 2145, 43, 0, 32, "Text"],
Cell[48969, 2147, 46, 1, 27, "Input"],
Cell[49018, 2150, 39, 0, 32, "Text"],
Cell[49060, 2152, 61, 1, 27, "Input"],
Cell[49124, 2155, 59, 0, 32, "Text"],
Cell[49186, 2157, 431, 7, 86, "Text"],
Cell[49620, 2166, 67, 1, 27, "Input"],
Cell[49690, 2169, 77, 1, 27, "Input"],
Cell[49770, 2172, 72, 1, 27, "Input"],
Cell[49845, 2175, 110, 3, 32, "Text"],
Cell[49958, 2180, 158, 2, 43, "Input"],
Cell[50119, 2184, 160, 4, 50, "Text"],
Cell[50282, 2190, 102, 3, 32, "Text"],
Cell[50387, 2195, 55, 1, 27, "Input"],
Cell[50445, 2198, 295, 5, 68, "Text"],
Cell[50743, 2205, 26, 0, 32, "Text"],
Cell[50772, 2207, 56, 1, 27, "Input"],
Cell[50831, 2210, 26, 0, 32, "Text"],
Cell[50860, 2212, 56, 1, 27, "Input"],
Cell[50919, 2215, 25, 0, 32, "Text"],
Cell[50947, 2217, 61, 1, 27, "Input"],
Cell[51011, 2220, 26, 0, 32, "Text"],
Cell[51040, 2222, 61, 1, 27, "Input"],
Cell[51104, 2225, 139, 3, 32, "Text"],
Cell[51246, 2230, 108, 2, 27, "Input"],
Cell[51357, 2234, 57, 1, 27, "Input"],
Cell[51417, 2237, 108, 2, 27, "Input"],
Cell[51528, 2241, 42, 1, 27, "Input"],
Cell[51573, 2244, 58, 0, 32, "Text"],
Cell[51634, 2246, 79, 1, 27, "Input"],
Cell[51716, 2249, 59, 0, 32, "Text"],
Cell[51778, 2251, 45, 1, 27, "Input"],
Cell[51826, 2254, 53, 1, 27, "Input"],
Cell[51882, 2257, 73, 0, 32, "Text"],
Cell[51958, 2259, 55, 1, 27, "Input"],
Cell[52016, 2262, 71, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[52124, 2268, 32, 0, 30, "Subsection"],
Cell[52159, 2270, 110, 3, 32, "Text"],
Cell[52272, 2275, 41, 0, 32, "Text"],
Cell[52316, 2277, 55, 1, 27, "Input"],
Cell[52374, 2280, 39, 0, 32, "Text"],
Cell[52416, 2282, 52, 1, 27, "Input"],
Cell[52471, 2285, 46, 0, 32, "Text"],
Cell[52520, 2287, 51, 1, 27, "Input"],
Cell[52574, 2290, 76, 0, 32, "Text"],
Cell[52653, 2292, 65, 1, 27, "Input"],
Cell[52721, 2295, 39, 0, 32, "Text"],
Cell[52763, 2297, 61, 1, 27, "Input"],
Cell[52827, 2300, 56, 0, 32, "Text"],
Cell[52886, 2302, 124, 3, 27, "Input"],
Cell[53013, 2307, 40, 1, 27, "Input"],
Cell[53056, 2310, 40, 1, 27, "Input"],
Cell[53099, 2313, 122, 3, 32, "Text"],
Cell[53224, 2318, 47, 1, 27, "Input"],
Cell[53274, 2321, 46, 0, 32, "Text"],
Cell[53323, 2323, 49, 1, 27, "Input"],
Cell[53375, 2326, 39, 0, 32, "Text"],
Cell[53417, 2328, 61, 1, 27, "Input"],
Cell[53481, 2331, 42, 0, 32, "Text"],
Cell[53526, 2333, 45, 1, 27, "Input"],
Cell[53574, 2336, 69, 0, 32, "Text"],
Cell[53646, 2338, 71, 0, 32, "Text"],
Cell[53720, 2340, 107, 2, 27, "Input"],
Cell[53830, 2344, 67, 1, 27, "Input"],
Cell[53900, 2347, 105, 2, 27, "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{
Cell[54054, 2355, 24, 0, 53, "Subtitle"],
Cell[54081, 2357, 40, 0, 32, "Text"],
Cell[54124, 2359, 242, 5, 68, "Text"],
Cell[54369, 2366, 362, 8, 122, "Text"],
Cell[54734, 2376, 161, 4, 68, "Text"],
Cell[54898, 2382, 71, 4, 68, "Text"],

Cell[CellGroupData[{
Cell[54994, 2390, 27, 0, 38, "Subsection"],
Cell[55024, 2392, 36, 0, 32, "Text"],
Cell[55063, 2394, 50, 1, 27, "Input"],
Cell[55116, 2397, 49, 0, 32, "Text"],
Cell[55168, 2399, 51, 1, 27, "Input"],
Cell[55222, 2402, 34, 0, 32, "Text"],
Cell[55259, 2404, 47, 1, 27, "Input"],
Cell[55309, 2407, 46, 0, 32, "Text"],
Cell[55358, 2409, 46, 1, 27, "Input"],
Cell[55407, 2412, 71, 0, 32, "Text"],
Cell[55481, 2414, 69, 1, 27, "Input"],
Cell[55553, 2417, 39, 0, 32, "Text"],
Cell[55595, 2419, 61, 1, 27, "Input"],
Cell[55659, 2422, 56, 0, 32, "Text"],
Cell[55718, 2424, 128, 3, 27, "Input"],
Cell[55849, 2429, 40, 1, 27, "Input"],
Cell[55892, 2432, 40, 1, 27, "Input"],
Cell[55935, 2435, 112, 3, 32, "Text"],
Cell[56050, 2440, 47, 1, 27, "Input"],
Cell[56100, 2443, 41, 0, 32, "Text"],
Cell[56144, 2445, 44, 1, 27, "Input"],
Cell[56191, 2448, 39, 0, 32, "Text"],
Cell[56233, 2450, 61, 1, 27, "Input"],
Cell[56297, 2453, 76, 0, 32, "Text"],
Cell[56376, 2455, 49, 1, 27, "Input"],
Cell[56428, 2458, 48, 1, 27, "Input"],
Cell[56479, 2461, 119, 3, 32, "Text"],
Cell[56601, 2466, 46, 1, 27, "Input"],
Cell[56650, 2469, 147, 4, 50, "Text"],
Cell[56800, 2475, 45, 1, 27, "Input"],
Cell[56848, 2478, 54, 1, 27, "Input"],
Cell[56905, 2481, 47, 1, 27, "Input"],
Cell[56955, 2484, 55, 1, 27, "Input"],
Cell[57013, 2487, 139, 4, 50, "Text"],
Cell[57155, 2493, 47, 1, 27, "Input"],
Cell[57205, 2496, 47, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[57289, 2502, 27, 0, 30, "Subsection"],
Cell[57319, 2504, 38, 0, 32, "Text"],
Cell[57360, 2506, 50, 1, 27, "Input"],
Cell[57413, 2509, 33, 0, 32, "Text"],
Cell[57449, 2511, 51, 1, 27, "Input"],
Cell[57503, 2514, 50, 0, 32, "Text"],
Cell[57556, 2516, 50, 1, 27, "Input"],
Cell[57609, 2519, 71, 0, 32, "Text"],
Cell[57683, 2521, 62, 1, 27, "Input"],
Cell[57748, 2524, 39, 0, 32, "Text"],
Cell[57790, 2526, 61, 1, 27, "Input"],
Cell[57854, 2529, 56, 0, 32, "Text"],
Cell[57913, 2531, 203, 5, 43, "Input"],
Cell[58119, 2538, 40, 1, 27, "Input"],
Cell[58162, 2541, 40, 1, 27, "Input"],
Cell[58205, 2544, 187, 5, 50, "Text"],
Cell[58395, 2551, 47, 1, 27, "Input"],
Cell[58445, 2554, 48, 0, 32, "Text"],
Cell[58496, 2556, 45, 1, 27, "Input"],
Cell[58544, 2559, 39, 0, 32, "Text"],
Cell[58586, 2561, 63, 1, 27, "Input"],
Cell[58652, 2564, 33, 0, 32, "Text"],
Cell[58688, 2566, 44, 1, 27, "Input"],
Cell[58735, 2569, 44, 1, 27, "Input"],
Cell[58782, 2572, 44, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[58863, 2578, 26, 0, 30, "Subsection"],
Cell[58892, 2580, 37, 0, 32, "Text"],
Cell[58932, 2582, 49, 1, 27, "Input"],
Cell[58984, 2585, 32, 0, 32, "Text"],
Cell[59019, 2587, 50, 1, 27, "Input"],
Cell[59072, 2590, 70, 0, 32, "Text"],
Cell[59145, 2592, 104, 2, 27, "Input"],
Cell[59252, 2596, 39, 0, 32, "Text"],
Cell[59294, 2598, 61, 1, 27, "Input"],
Cell[59358, 2601, 56, 0, 32, "Text"],
Cell[59417, 2603, 216, 5, 43, "Input"],
Cell[59636, 2610, 40, 1, 27, "Input"],
Cell[59679, 2613, 40, 1, 27, "Input"],
Cell[59722, 2616, 185, 5, 50, "Text"],
Cell[59910, 2623, 47, 1, 27, "Input"],
Cell[59960, 2626, 48, 0, 32, "Text"],
Cell[60011, 2628, 45, 1, 27, "Input"],
Cell[60059, 2631, 39, 0, 32, "Text"],
Cell[60101, 2633, 63, 1, 27, "Input"],
Cell[60167, 2636, 48, 0, 32, "Text"],
Cell[60218, 2638, 45, 1, 27, "Input"],
Cell[60266, 2641, 39, 0, 32, "Text"],
Cell[60308, 2643, 74, 1, 27, "Input"],
Cell[60385, 2646, 33, 0, 32, "Text"],
Cell[60421, 2648, 44, 1, 27, "Input"],
Cell[60468, 2651, 111, 3, 32, "Text"],
Cell[60582, 2656, 44, 1, 27, "Input"],
Cell[60629, 2659, 44, 1, 27, "Input"],
Cell[60676, 2662, 64, 0, 32, "Text"],
Cell[60743, 2664, 54, 1, 27, "Input"],
Cell[60800, 2667, 40, 1, 27, "Input"],
Cell[60843, 2670, 54, 1, 27, "Input"],
Cell[60900, 2673, 31, 0, 32, "Text"],
Cell[60934, 2675, 69, 1, 27, "Input"],
Cell[61006, 2678, 40, 1, 27, "Input"],
Cell[61049, 2681, 54, 1, 27, "Input"],
Cell[61106, 2684, 36, 0, 32, "Text"],
Cell[61145, 2686, 74, 1, 27, "Input"],
Cell[61222, 2689, 40, 1, 27, "Input"],
Cell[61265, 2692, 54, 1, 27, "Input"],
Cell[61322, 2695, 26, 0, 32, "Text"],
Cell[61351, 2697, 67, 1, 27, "Input"],
Cell[61421, 2700, 40, 1, 27, "Input"],
Cell[61464, 2703, 54, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[61555, 2709, 27, 0, 30, "Subsection"],
Cell[61585, 2711, 36, 0, 32, "Text"],
Cell[61624, 2713, 50, 1, 27, "Input"],
Cell[61677, 2716, 54, 0, 32, "Text"],
Cell[61734, 2718, 56, 1, 27, "Input"],
Cell[61793, 2721, 34, 0, 32, "Text"],
Cell[61830, 2723, 47, 1, 27, "Input"],
Cell[61880, 2726, 46, 0, 32, "Text"],
Cell[61929, 2728, 46, 1, 27, "Input"],
Cell[61978, 2731, 71, 0, 32, "Text"],
Cell[62052, 2733, 51, 1, 27, "Input"],
Cell[62106, 2736, 39, 0, 32, "Text"],
Cell[62148, 2738, 61, 1, 27, "Input"],
Cell[62212, 2741, 56, 0, 32, "Text"],
Cell[62271, 2743, 101, 2, 27, "Input"],
Cell[62375, 2747, 40, 1, 27, "Input"],
Cell[62418, 2750, 40, 1, 27, "Input"],
Cell[62461, 2753, 112, 3, 32, "Text"],
Cell[62576, 2758, 47, 1, 27, "Input"],
Cell[62626, 2761, 41, 0, 32, "Text"],
Cell[62670, 2763, 44, 1, 27, "Input"],
Cell[62717, 2766, 39, 0, 32, "Text"],
Cell[62759, 2768, 61, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[62857, 2774, 32, 0, 30, "Subsection"],
Cell[62892, 2776, 43, 0, 32, "Text"],
Cell[62938, 2778, 55, 1, 27, "Input"],
Cell[62996, 2781, 38, 0, 32, "Text"],
Cell[63037, 2783, 56, 1, 27, "Input"],
Cell[63096, 2786, 76, 0, 32, "Text"],
Cell[63175, 2788, 67, 1, 27, "Input"],
Cell[63245, 2791, 39, 0, 32, "Text"],
Cell[63287, 2793, 61, 1, 27, "Input"],
Cell[63351, 2796, 56, 0, 32, "Text"],
Cell[63410, 2798, 182, 4, 27, "Input"],
Cell[63595, 2804, 40, 1, 27, "Input"],
Cell[63638, 2807, 40, 1, 27, "Input"],
Cell[63681, 2810, 197, 5, 50, "Text"],
Cell[63881, 2817, 47, 1, 27, "Input"],
Cell[63931, 2820, 48, 0, 32, "Text"],
Cell[63982, 2822, 45, 1, 27, "Input"],
Cell[64030, 2825, 39, 0, 32, "Text"],
Cell[64072, 2827, 63, 1, 27, "Input"],
Cell[64138, 2830, 57, 0, 32, "Text"],
Cell[64198, 2832, 66, 1, 27, "Input"],
Cell[64267, 2835, 68, 1, 27, "Input"],
Cell[64338, 2838, 88, 3, 32, "Text"],
Cell[64429, 2843, 54, 1, 27, "Input"],
Cell[64486, 2846, 49, 1, 27, "Input"],
Cell[64538, 2849, 84, 1, 27, "Input"],
Cell[64625, 2852, 70, 1, 27, "Input"],
Cell[64698, 2855, 49, 0, 32, "Text"],
Cell[64750, 2857, 74, 1, 27, "Input"],
Cell[64827, 2860, 67, 1, 27, "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{
Cell[64943, 2867, 26, 0, 53, "Subtitle"],
Cell[64972, 2869, 52, 0, 32, "Text"],
Cell[65027, 2871, 39, 1, 27, "Input"],

Cell[CellGroupData[{
Cell[65091, 2876, 38, 0, 38, "Subsection"],
Cell[65132, 2878, 47, 0, 32, "Text"],
Cell[65182, 2880, 61, 1, 27, "Input"],
Cell[65246, 2883, 45, 0, 32, "Text"],
Cell[65294, 2885, 58, 1, 27, "Input"],
Cell[65355, 2888, 46, 0, 32, "Text"],
Cell[65404, 2890, 57, 1, 27, "Input"],
Cell[65464, 2893, 92, 3, 32, "Text"],
Cell[65559, 2898, 75, 1, 27, "Input"],
Cell[65637, 2901, 39, 0, 32, "Text"],
Cell[65679, 2903, 61, 1, 27, "Input"],
Cell[65743, 2906, 56, 0, 32, "Text"],
Cell[65802, 2908, 134, 3, 27, "Input"],
Cell[65939, 2913, 40, 1, 27, "Input"],
Cell[65982, 2916, 40, 1, 27, "Input"],
Cell[66025, 2919, 134, 3, 32, "Text"],
Cell[66162, 2924, 47, 1, 27, "Input"],
Cell[66212, 2927, 52, 0, 32, "Text"],
Cell[66267, 2929, 55, 1, 27, "Input"],
Cell[66325, 2932, 39, 0, 32, "Text"],
Cell[66367, 2934, 61, 1, 27, "Input"],
Cell[66431, 2937, 66, 0, 32, "Text"],
Cell[66500, 2939, 75, 1, 27, "Input"],
Cell[66578, 2942, 103, 3, 32, "Text"],
Cell[66684, 2947, 74, 1, 27, "Input"],
Cell[66761, 2950, 38, 1, 27, "Input"],
Cell[66802, 2953, 74, 1, 27, "Input"],
Cell[66879, 2956, 38, 1, 27, "Input"],
Cell[66920, 2959, 74, 0, 32, "Text"],
Cell[66997, 2961, 56, 1, 27, "Input"],
Cell[67056, 2964, 94, 3, 32, "Text"],
Cell[67153, 2969, 51, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[67241, 2975, 34, 0, 30, "Subsection"],
Cell[67278, 2977, 74, 0, 32, "Text"],
Cell[67355, 2979, 94, 3, 32, "Text"],
Cell[67452, 2984, 43, 0, 32, "Text"],
Cell[67498, 2986, 57, 1, 27, "Input"],
Cell[67558, 2989, 41, 0, 32, "Text"],
Cell[67602, 2991, 54, 1, 27, "Input"],
Cell[67659, 2994, 46, 0, 32, "Text"],
Cell[67708, 2996, 53, 1, 27, "Input"],
Cell[67764, 2999, 88, 3, 32, "Text"],
Cell[67855, 3004, 89, 1, 27, "Input"],
Cell[67947, 3007, 39, 0, 32, "Text"],
Cell[67989, 3009, 61, 1, 27, "Input"],
Cell[68053, 3012, 56, 0, 32, "Text"],
Cell[68112, 3014, 148, 3, 27, "Input"],
Cell[68263, 3019, 40, 1, 27, "Input"],
Cell[68306, 3022, 40, 1, 27, "Input"],
Cell[68349, 3025, 125, 3, 32, "Text"],
Cell[68477, 3030, 47, 1, 27, "Input"],
Cell[68527, 3033, 48, 0, 32, "Text"],
Cell[68578, 3035, 51, 1, 27, "Input"],
Cell[68632, 3038, 39, 0, 32, "Text"],
Cell[68674, 3040, 61, 1, 27, "Input"],
Cell[68738, 3043, 65, 0, 32, "Text"],
Cell[68806, 3045, 91, 1, 27, "Input"],
Cell[68900, 3048, 85, 1, 27, "Input"],
Cell[68988, 3051, 50, 1, 27, "Input"],
Cell[69041, 3054, 48, 0, 32, "Text"],
Cell[69092, 3056, 51, 1, 27, "Input"],
Cell[69146, 3059, 48, 0, 32, "Text"],
Cell[69197, 3061, 51, 1, 27, "Input"],
Cell[69251, 3064, 45, 0, 32, "Text"],
Cell[69299, 3066, 74, 1, 27, "Input"],
Cell[69376, 3069, 74, 1, 27, "Input"],
Cell[69453, 3072, 51, 1, 27, "Input"],
Cell[69507, 3075, 39, 1, 27, "Input"],
Cell[69549, 3078, 37, 0, 32, "Text"],
Cell[69589, 3080, 70, 1, 27, "Input"],
Cell[69662, 3083, 39, 1, 27, "Input"],
Cell[69704, 3086, 88, 3, 32, "Text"],
Cell[69795, 3091, 140, 3, 27, "Input"],
Cell[69938, 3096, 61, 1, 27, "Input"],
Cell[70002, 3099, 45, 0, 32, "Text"],
Cell[70050, 3101, 74, 1, 27, "Input"],
Cell[70127, 3104, 74, 1, 27, "Input"],
Cell[70204, 3107, 51, 1, 27, "Input"],
Cell[70258, 3110, 39, 1, 27, "Input"],
Cell[70300, 3113, 155, 3, 50, "Text"],
Cell[70458, 3118, 91, 1, 27, "Input"],
Cell[70552, 3121, 87, 1, 27, "Input"],
Cell[70642, 3124, 61, 1, 27, "Input"],
Cell[70706, 3127, 115, 3, 32, "Text"],
Cell[70824, 3132, 56, 1, 27, "Input"],
Cell[70883, 3135, 131, 3, 27, "Input"],
Cell[71017, 3140, 61, 1, 27, "Input"],
Cell[71081, 3143, 55, 0, 32, "Text"],
Cell[71139, 3145, 51, 1, 27, "Input"],
Cell[71193, 3148, 87, 3, 32, "Text"],
Cell[71283, 3153, 244, 4, 59, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[71564, 3162, 30, 0, 30, "Subsection"],
Cell[71597, 3164, 113, 3, 32, "Text"],
Cell[71713, 3169, 118, 2, 27, "Input"],
Cell[71834, 3173, 39, 1, 27, "Input"],
Cell[71876, 3176, 130, 2, 27, "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{
Cell[72055, 3184, 30, 0, 53, "Subtitle"],
Cell[72088, 3186, 55, 0, 32, "Text"],
Cell[72146, 3188, 71, 0, 32, "Text"],
Cell[72220, 3190, 43, 1, 27, "Input"],

Cell[CellGroupData[{
Cell[72288, 3195, 37, 0, 38, "Subsection"],
Cell[72328, 3197, 46, 0, 32, "Text"],
Cell[72377, 3199, 60, 1, 27, "Input"],
Cell[72440, 3202, 44, 0, 32, "Text"],
Cell[72487, 3204, 57, 1, 27, "Input"],
Cell[72547, 3207, 46, 0, 32, "Text"],
Cell[72596, 3209, 56, 1, 27, "Input"],
Cell[72655, 3212, 91, 3, 32, "Text"],
Cell[72749, 3217, 157, 3, 43, "Input"],
Cell[72909, 3222, 39, 0, 32, "Text"],
Cell[72951, 3224, 61, 1, 27, "Input"],
Cell[73015, 3227, 56, 0, 32, "Text"],
Cell[73074, 3229, 209, 4, 43, "Input"],
Cell[73286, 3235, 40, 1, 27, "Input"],
Cell[73329, 3238, 40, 1, 27, "Input"],
Cell[73372, 3241, 132, 3, 32, "Text"],
Cell[73507, 3246, 47, 1, 27, "Input"],
Cell[73557, 3249, 51, 0, 32, "Text"],
Cell[73611, 3251, 54, 1, 27, "Input"],
Cell[73668, 3254, 39, 0, 32, "Text"],
Cell[73710, 3256, 61, 1, 27, "Input"],
Cell[73774, 3259, 107, 3, 32, "Text"],
Cell[73884, 3264, 70, 1, 27, "Input"],
Cell[73957, 3267, 127, 3, 32, "Text"],
Cell[74087, 3272, 51, 1, 27, "Input"],
Cell[74141, 3275, 172, 4, 50, "Text"],
Cell[74316, 3281, 82, 1, 27, "Input"],
Cell[74401, 3284, 89, 3, 32, "Text"],
Cell[74493, 3289, 69, 1, 27, "Input"],
Cell[74565, 3292, 60, 0, 32, "Text"],
Cell[74628, 3294, 60, 1, 27, "Input"],
Cell[74691, 3297, 46, 0, 32, "Text"],
Cell[74740, 3299, 41, 1, 27, "Input"],
Cell[74784, 3302, 57, 1, 27, "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{
Cell[74890, 3309, 28, 0, 53, "Subtitle"],

Cell[CellGroupData[{
Cell[74943, 3313, 26, 0, 38, "Subsection"],
Cell[74972, 3315, 35, 0, 32, "Text"],
Cell[75010, 3317, 49, 1, 27, "Input"],
Cell[75062, 3320, 55, 0, 32, "Text"],
Cell[75120, 3322, 58, 1, 27, "Input"],
Cell[75181, 3325, 33, 0, 32, "Text"],
Cell[75217, 3327, 46, 1, 27, "Input"],
Cell[75266, 3330, 46, 0, 32, "Text"],
Cell[75315, 3332, 45, 1, 27, "Input"],
Cell[75363, 3335, 70, 0, 32, "Text"],
Cell[75436, 3337, 64, 1, 27, "Input"],
Cell[75503, 3340, 39, 0, 32, "Text"],
Cell[75545, 3342, 61, 1, 27, "Input"],
Cell[75609, 3345, 56, 0, 32, "Text"],
Cell[75668, 3347, 123, 3, 27, "Input"],
Cell[75794, 3352, 40, 1, 27, "Input"],
Cell[75837, 3355, 40, 1, 27, "Input"],
Cell[75880, 3358, 110, 3, 32, "Text"],
Cell[75993, 3363, 47, 1, 27, "Input"],
Cell[76043, 3366, 40, 0, 32, "Text"],
Cell[76086, 3368, 43, 1, 27, "Input"],
Cell[76132, 3371, 39, 0, 32, "Text"],
Cell[76174, 3373, 61, 1, 27, "Input"],
Cell[76238, 3376, 93, 3, 32, "Text"],
Cell[76334, 3381, 106, 2, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[76477, 3388, 34, 0, 30, "Subsection"],
Cell[76514, 3390, 45, 0, 32, "Text"],
Cell[76562, 3392, 57, 1, 27, "Input"],
Cell[76622, 3395, 40, 0, 32, "Text"],
Cell[76665, 3397, 58, 1, 27, "Input"],
Cell[76726, 3400, 88, 3, 32, "Text"],
Cell[76817, 3405, 67, 1, 27, "Input"],
Cell[76887, 3408, 39, 0, 32, "Text"],
Cell[76929, 3410, 61, 1, 27, "Input"],
Cell[76993, 3413, 56, 0, 32, "Text"],
Cell[77052, 3415, 184, 4, 43, "Input"],
Cell[77239, 3421, 40, 1, 27, "Input"],
Cell[77282, 3424, 40, 1, 27, "Input"],
Cell[77325, 3427, 201, 5, 50, "Text"],
Cell[77529, 3434, 47, 1, 27, "Input"],
Cell[77579, 3437, 47, 0, 32, "Text"],
Cell[77629, 3439, 44, 1, 27, "Input"],
Cell[77676, 3442, 39, 0, 32, "Text"],
Cell[77718, 3444, 63, 1, 27, "Input"],
Cell[77784, 3447, 181, 4, 50, "Text"],
Cell[77968, 3453, 139, 3, 32, "Text"],
Cell[78110, 3458, 68, 1, 27, "Input"],
Cell[78181, 3461, 50, 1, 27, "Input"],
Cell[78234, 3464, 70, 1, 27, "Input"],
Cell[78307, 3467, 47, 1, 27, "Input"],
Cell[78357, 3470, 48, 1, 27, "Input"],
Cell[78408, 3473, 56, 1, 27, "Input"],
Cell[78467, 3476, 52, 0, 32, "Text"],
Cell[78522, 3478, 54, 1, 27, "Input"],
Cell[78579, 3481, 61, 1, 27, "Input"],
Cell[78643, 3484, 64, 0, 32, "Text"],
Cell[78710, 3486, 40, 1, 27, "Input"],
Cell[78753, 3489, 61, 1, 27, "Input"],
Cell[78817, 3492, 41, 1, 27, "Input"],
Cell[78861, 3495, 61, 1, 27, "Input"],
Cell[78925, 3498, 43, 0, 32, "Text"],
Cell[78971, 3500, 38, 1, 27, "Input"],
Cell[79012, 3503, 61, 1, 27, "Input"],
Cell[79076, 3506, 41, 1, 27, "Input"],
Cell[79120, 3509, 61, 1, 27, "Input"],
Cell[79184, 3512, 36, 0, 32, "Text"],
Cell[79223, 3514, 37, 1, 27, "Input"],
Cell[79263, 3517, 61, 1, 27, "Input"],
Cell[79327, 3520, 41, 1, 27, "Input"],
Cell[79371, 3523, 61, 1, 27, "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{
Cell[79481, 3530, 26, 0, 53, "Subtitle"],
Cell[79510, 3532, 237, 5, 68, "Text"],
Cell[79750, 3539, 124, 3, 32, "Text"],
Cell[79877, 3544, 43, 1, 27, "Input"],
Cell[79923, 3547, 125, 3, 32, "Text"],
Cell[80051, 3552, 44, 1, 27, "Input"],
Cell[80098, 3555, 102, 3, 32, "Text"],

Cell[CellGroupData[{
Cell[80225, 3562, 37, 0, 38, "Subsection"],
Cell[80265, 3564, 46, 0, 32, "Text"],
Cell[80314, 3566, 60, 1, 27, "Input"],
Cell[80377, 3569, 44, 0, 32, "Text"],
Cell[80424, 3571, 57, 1, 27, "Input"],
Cell[80484, 3574, 46, 0, 32, "Text"],
Cell[80533, 3576, 56, 1, 27, "Input"],
Cell[80592, 3579, 91, 3, 32, "Text"],
Cell[80686, 3584, 127, 3, 27, "Input"],
Cell[80816, 3589, 39, 0, 32, "Text"],
Cell[80858, 3591, 61, 1, 27, "Input"],
Cell[80922, 3594, 56, 0, 32, "Text"],
Cell[80981, 3596, 170, 3, 27, "Input"],
Cell[81154, 3601, 40, 1, 27, "Input"],
Cell[81197, 3604, 40, 1, 27, "Input"],
Cell[81240, 3607, 132, 3, 32, "Text"],
Cell[81375, 3612, 47, 1, 27, "Input"],
Cell[81425, 3615, 51, 0, 32, "Text"],
Cell[81479, 3617, 54, 1, 27, "Input"],
Cell[81536, 3620, 39, 0, 32, "Text"],
Cell[81578, 3622, 61, 1, 27, "Input"],
Cell[81642, 3625, 126, 3, 32, "Text"],
Cell[81771, 3630, 72, 1, 27, "Input"],
Cell[81846, 3633, 67, 0, 32, "Text"],
Cell[81916, 3635, 77, 1, 27, "Input"],
Cell[81996, 3638, 115, 3, 32, "Text"],
Cell[82114, 3643, 80, 1, 27, "Input"],
Cell[82197, 3646, 66, 0, 32, "Text"],
Cell[82266, 3648, 63, 1, 27, "Input"],
Cell[82332, 3651, 36, 0, 32, "Text"],
Cell[82371, 3653, 80, 1, 27, "Input"],
Cell[82454, 3656, 74, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[82565, 3662, 38, 0, 30, "Subsection"],
Cell[82606, 3664, 47, 0, 32, "Text"],
Cell[82656, 3666, 61, 1, 27, "Input"],
Cell[82720, 3669, 45, 0, 32, "Text"],
Cell[82768, 3671, 58, 1, 27, "Input"],
Cell[82829, 3674, 46, 0, 32, "Text"],
Cell[82878, 3676, 57, 1, 27, "Input"],
Cell[82938, 3679, 92, 3, 32, "Text"],
Cell[83033, 3684, 220, 5, 43, "Input"],
Cell[83256, 3691, 39, 0, 32, "Text"],
Cell[83298, 3693, 61, 1, 27, "Input"],
Cell[83362, 3696, 56, 0, 32, "Text"],
Cell[83421, 3698, 240, 4, 43, "Input"],
Cell[83664, 3704, 40, 1, 27, "Input"],
Cell[83707, 3707, 40, 1, 27, "Input"],
Cell[83750, 3710, 134, 3, 32, "Text"],
Cell[83887, 3715, 47, 1, 27, "Input"],
Cell[83937, 3718, 52, 0, 32, "Text"],
Cell[83992, 3720, 55, 1, 27, "Input"],
Cell[84050, 3723, 39, 0, 32, "Text"],
Cell[84092, 3725, 61, 1, 27, "Input"],
Cell[84156, 3728, 96, 3, 32, "Text"],
Cell[84255, 3733, 79, 1, 27, "Input"],
Cell[84337, 3736, 132, 3, 32, "Text"],
Cell[84472, 3741, 62, 1, 27, "Input"],
Cell[84537, 3744, 60, 0, 32, "Text"],
Cell[84600, 3746, 83, 1, 27, "Input"],
Cell[84686, 3749, 65, 0, 32, "Text"],
Cell[84754, 3751, 49, 1, 27, "Input"],
Cell[84806, 3754, 51, 1, 27, "Input"],
Cell[84860, 3757, 66, 0, 32, "Text"],
Cell[84929, 3759, 48, 1, 27, "Input"],
Cell[84980, 3762, 55, 1, 27, "Input"],
Cell[85038, 3765, 52, 1, 27, "Input"],
Cell[85093, 3768, 172, 4, 50, "Text"],
Cell[85268, 3774, 51, 1, 27, "Input"],
Cell[85322, 3777, 51, 1, 27, "Input"],
Cell[85376, 3780, 37, 0, 32, "Text"],
Cell[85416, 3782, 83, 1, 27, "Input"],
Cell[85502, 3785, 48, 1, 27, "Input"],
Cell[85553, 3788, 39, 0, 32, "Text"],
Cell[85595, 3790, 50, 1, 27, "Input"],
Cell[85648, 3793, 41, 1, 27, "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{
Cell[85738, 3800, 29, 0, 53, "Subtitle"],
Cell[85770, 3802, 106, 3, 50, "Text"],
Cell[85879, 3807, 40, 0, 32, "Text"]
}, Closed]],

Cell[CellGroupData[{
Cell[85956, 3812, 28, 0, 53, "Subtitle"],
Cell[85987, 3814, 204, 5, 50, "Text"],
Cell[86194, 3821, 339, 8, 122, "Text"]
}, Closed]],

Cell[CellGroupData[{
Cell[86570, 3834, 53, 0, 53, "Subtitle"],
Cell[86626, 3836, 105, 3, 32, "Text"],
Cell[86734, 3841, 41, 1, 27, "Input"],
Cell[86778, 3844, 94, 3, 32, "Text"],
Cell[86875, 3849, 42, 1, 27, "Input"],
Cell[86920, 3852, 113, 3, 32, "Text"],
Cell[87036, 3857, 45, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[87118, 3863, 29, 0, 53, "Subtitle"],
Cell[87150, 3865, 226, 5, 50, "Text"],
Cell[87379, 3872, 89, 3, 32, "Text"],
Cell[87471, 3877, 208, 4, 50, "Text"],
Cell[87682, 3883, 39, 1, 27, "Input"],
Cell[87724, 3886, 54, 1, 27, "Input"],
Cell[87781, 3889, 122, 3, 32, "Text"],
Cell[87906, 3894, 52, 0, 32, "Text"],
Cell[87961, 3896, 43, 1, 27, "Input"],
Cell[88007, 3899, 70, 0, 32, "Text"],
Cell[88080, 3901, 57, 1, 27, "Input"],
Cell[88140, 3904, 40, 0, 32, "Text"],
Cell[88183, 3906, 57, 1, 27, "Input"],
Cell[88243, 3909, 32, 0, 32, "Text"],
Cell[88278, 3911, 44, 1, 27, "Input"],
Cell[88325, 3914, 40, 0, 32, "Text"],
Cell[88368, 3916, 40, 1, 27, "Input"],
Cell[88411, 3919, 72, 0, 32, "Text"],
Cell[88486, 3921, 63, 1, 27, "Input"],
Cell[88552, 3924, 130, 3, 32, "Text"],
Cell[88685, 3929, 159, 4, 27, "Input"],
Cell[88847, 3935, 40, 0, 32, "Text"],
Cell[88890, 3937, 57, 1, 27, "Input"],
Cell[88950, 3940, 37, 0, 32, "Text"],
Cell[88990, 3942, 63, 1, 27, "Input"],
Cell[89056, 3945, 41, 0, 32, "Text"],
Cell[89100, 3947, 66, 1, 27, "Input"],
Cell[89169, 3950, 156, 3, 50, "Text"],
Cell[89328, 3955, 144, 4, 50, "Text"]
}, Closed]]
}, Open  ]]
}
]
*)



(*******************************************************************
End of Mathematica Notebook file.
*******************************************************************)

