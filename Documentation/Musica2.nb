(************** Content-type: application/mathematica **************
                     CreatedBy='Mathematica 5.0'

                    Mathematica-Compatible Notebook

This notebook can be used with any Mathematica-compatible
application, such as Mathematica, MathReader or Publicon. The data
for the notebook starts with the line containing stars above.

To get the notebook into a Mathematica-compatible application, do
one of the following:

* Save the data starting with the line of stars above into a file
  with a name ending in .nb, then open the file inside the
  application;

* Copy the data starting with the line of stars above to the
  clipboard, then use the Paste menu command inside the application.

Data for notebooks contains only printable 7-bit ASCII and can be
sent directly in email or through ftp in text mode.  Newlines can be
CR, LF or CRLF (Unix, Macintosh or MS-DOS style).

NOTE: If you modify the data for this notebook not in a Mathematica-
compatible application, you must delete the line below containing
the word CacheID, otherwise Mathematica-compatible applications may
try to use invalid cache data.

For more information on notebooks and Mathematica-compatible 
applications, contact Wolfram Research:
  web: http://www.wolfram.com
  email: info@wolfram.com
  phone: +1-217-398-0700 (U.S.)

Notebook reader applications are available free of charge from 
Wolfram Research.
*******************************************************************)

(*CacheID: 232*)


(*NotebookFileLineBreakTest
NotebookFileLineBreakTest*)
(*NotebookOptionsPosition[     45709,       2049]*)
(*NotebookOutlinePosition[     46424,       2074]*)
(*  CellTagsIndexPosition[     46380,       2070]*)
(*WindowFrame->Normal*)



Notebook[{

Cell[CellGroupData[{
Cell["Musica2", "Title",
  FontSize->24],

Cell["Documentation on the Musica2 package.", "Text"],

Cell[CellGroupData[{

Cell["Licence", "Subtitle"],

Cell["\<\
Copyright (C) 2004 Bo C. Herlin

This program is free software;you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation;either version 2
of the License,or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY;without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program;if not,write to the Free Software Foundation,
Inc.,59 Temple Place-Suite 330,Boston,MA 02111-1307,USA.\
\>", "Text"]
}, Closed]],

Cell[CellGroupData[{

Cell["History", "Subtitle"],

Cell["\<\
2004-11-29 Bo C. Herlin : added Convert
2004-11-28 Bo C. Herlin : added Pianoroll
2004-11-27 Bo C. Herlin : added Naming
2004-10-20 Bo C. Herlin : added Spectrum,Tuning, FigBass, Intervals and \
ThirdStack
2004-09-27 Bo C. Herlin : changed PitchCode in Scale to Content and added \
some scale-examples
2004-09-24 Bo C. Herlin : changed SnippetData to Content
2004-09-22 Bo C. Herlin : changed Show to Play2
2004-09-21 Bo C. Herlin : more (roger that)
2004-09-20 Bo C. Herlin : more
2004-09-18 Bo C. Herlin : renamed Info to Opts
2004-09-15 Bo C. Herlin : major rewrite, started using up-values and a kind \
of template for types
2004-09-14 Bo C. Herlin : added Patterns section
2004-09-13 Bo C. Herlin : added some use of Chord's and Melody's
2004-09-12 Bo C. Herlin : added use of Common.m's Duration/Info-things
2004-09-11 Bo C. Herlin : added use of Note.m's Chord- and Melody-types
2004-09-02 Bo C. Herlin : changed all MidiData*Value* to Data*Value* and \
MidiTie to DataTie, and all *Voice* to *Melody*
2004-08-23 Bo C. Herlin : i dont remeber, i dont recall 
2004-08-19 Bo C. Herlin : moved MidiPlay to a package of its own
2004-08-17 Bo C. Herlin : added Midi(Add|Get|Rem|Set)(Chords|Voices), \
modified MidiToSound and added MidiPlay, added MidiOfSilence and \
MidiPitchShift
2004-08-15 Bo C. Herlin : dropped the voice-nr from shape voice and chord, \
renamed MidiAddEOT to MidiFixEOT and MidiNormalizeNoteOff to MidiFixNoteOff
2004-08-14 Bo C. Herlin : added MidiSeq and MidiPar
2004-08-13 Bo C. Herlin : yet another rest/tie scheme, now with \
MidiDataAnyValue and MidiDataNoValue, MidiRest* is removed
2004-08-13 Bo C. Herlin : added Midi(Add|Get|Rem|Set)(Notes|QPM), enamed \
MidiEqualizeEOT to MidiAddEOT
2004-08-11 Bo C. Herlin : added SoundSetDuration to be used in MidiToSound
2004-08-10 Bo C. Herlin : removed call to MidiAddEOT, added SoundPitchShift
2004-08-09 Bo C. Herlin : minor changes to reflect the code. 
2004-08-08 Bo C. Herlin : added this new state-thing 
2004-08-04 Bo C. Herlin : first release
2004-07-28 Bo C. Herlin : created\
\>", "Text"]
}, Closed]],

Cell[CellGroupData[{

Cell["Welcome", "Subtitle"],

Cell["\<\
Hi there! Welcome to Musica2. 
This is a randomly created notebook that sometimes also works as a testbench \
when I extend Musica2. I try to make everything in this notebook to work in \
every release, and even in the CVS at sourceforge.net.
If You find errors, please tell me about them.
If You miss anything, please tell me about it.
If You would like something changed, please tell me what it is.
If You have a contribution, please send it to me.
If You... I think You got the idea now...
Mail me at bo@gcab.net, or even better, post a message to a forum at \
http://sourceforge.net/forum/?group_id=90149.
And above all; Have Fun!\
\>", "Text"]
}, Closed]],

Cell[CellGroupData[{

Cell["Init", "Subtitle"],

Cell["\<\
A small example below uses a tiny part of the Audio package when \
creating a triangle sound.\
\>", "Text"],

Cell[BoxData[
    \(<< Graphics`Colors`\)], "Input",
  InitializationCell->True],

Cell["Im using some colors.", "Text"],

Cell[BoxData[
    \(<< Miscellaneous`Audio`\)], "Input",
  InitializationCell->True],

Cell["\<\
Load Musica2 which in turn will load each sub-package when \
needed.\
\>", "Text"],

Cell[BoxData[
    \(<< Musica2`\)], "Input",
  InitializationCell->True],

Cell["Set DataFolder to the folder containing the testfiles.", "Text"],

Cell[BoxData[
    \(\(DataFolder = "\<Musica2/Documentation/Data/\>";\)\)], "Input",
  InitializationCell->True],

Cell[BoxData[
    \(\(\(\(cor := DataFolder <> "\<cor.mid\>"\) \)\(;\)\( (*\ 2.9  kb, \ 
      J . S . Bach, \ bwv\ 323, \ choral, \ Holy, \ 
      holy, \ \(\(holy\)\(.\)\)\ *) \)\(\[IndentingNewLine]\)\(\(fug := 
        DataFolder <> "\<fug.mid\>"\) \)\(;\)\( (*\ 6.1  kb, \ 
      J . S . Bach, \ bwv\ 846  b, \ fugue\ 1\ in\ C\ major, \ 
      wtc1\ *) \)\(\[IndentingNewLine]\)\(\(cun := 
        DataFolder <> "\<cun.mid\>"\) \)\(;\)\( (*\ 6.4  kb, \ 
      J . S . Bach, \ bwv\ 1080  a, \ contrapunctus\ 1, \ 
      cunst\ die\ fugue\ *) \)\(\[IndentingNewLine]\)\(\(pre := 
        DataFolder <> "\<pre.mid\>"\) \)\(;\)\( (*\ 8.9  kb, \ 
      J . S . Bach, \ bwv\ 847  a, \ preludium\ 2\ in\ C\ minor, \ 
      wtc1\ *) \)\)\)], "Input",
  InitializationCell->True],

Cell["Set MidiTestFile to the file to apply the tests to.", "Text"],

Cell[BoxData[{
    \(\(MidiTestFile := cor;\)\), "\[IndentingNewLine]", 
    \(\(MidiTestFileList := {cor, fug, cun, pre};\)\)}], "Input",
  InitializationCell->True]
}, Closed]],

Cell[CellGroupData[{

Cell["Mini-tour", "Subtitle"],

Cell["Read from a SMF (StandardMidiFile).", "Text"],

Cell[BoxData[
    \(mid = Import[MidiTestFile, Midi]\)], "Input"],

Cell["Plot it on a pianoroll.", "Text"],

Cell[BoxData[
    \(PianoRoll[mid]\)], "Input"],

Cell["Play it.", "Text"],

Cell[BoxData[
    \(Timing[Play2[mid]]\)], "Input"],

Cell["Write to a SMF.", "Text"],

Cell[BoxData[
    \(Export["\<tmp.mid\>", mid]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Mini-tour step by step", "Subtitle"],

Cell["Read from a SMF.", "Text"],

Cell[BoxData[
    \(mid = Import[MidiTestFile, Midi]\)], "Input"],

Cell["Set time-unit to second instead of tick.", "Text"],

Cell[BoxData[
    \(mid = Midi[mid, TimeUnit \[Rule] Second]\)], "Input"],

Cell["Get all tracks.", "Text"],

Cell[BoxData[
    \(trk = Track[mid]\)], "Input"],

Cell["Convert each track to counterpoint.", "Text"],

Cell[BoxData[
    \(cpt = Counterpoint /@ trk\)], "Input"],

Cell["Get the melodies in each counterpoint.", "Text"],

Cell[BoxData[
    \(mel = Melody /@ cpt\)], "Input"],

Cell["Flatten it and get the ones that are non-empty.", "Text"],

Cell[BoxData[
    \(mel = Select[Flatten[mel], \((0 < Length[#])\) &]\)], "Input"],

Cell["Convert each melody to a snippet.", "Text"],

Cell[BoxData[
    \(snp = Snippet /@ mel\)], "Input"],

Cell["Make a 4ch sound of them.", "Text"],

Cell[BoxData[
    \(Length[snd = Sound[snp]]\)], "Input"],

Cell["Mix it to two channels.", "Text"],

Cell[BoxData[
    \(snd = Mix[snd, 2]\)], "Input"],

Cell["Play it.", "Text"],

Cell[BoxData[
    \(Show[snd]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Melody-Play2-Export example", "Subtitle"],

Cell["\<\
Create a random diatonic melody. The Note-constructor used take \
{duration,{pitchcode,velocity}} as parameter.\
\>", "Text"],

Cell[BoxData[
    \(mel = 
      Melody[Table[
          Note[\[IndentingNewLine]{\[IndentingNewLine]Random[Integer, {1, 4}]/
                4, \[IndentingNewLine]{\[IndentingNewLine]Random[
                  Integer, {35, 41}], \[IndentingNewLine]Random[
                  Integer, {64, 
                    127}]\[IndentingNewLine]}\[IndentingNewLine]}\
\[IndentingNewLine]], {12}]]\)], "Input"],

Cell["\<\
The Scale constructor without arguments return a C-major scale.
Scales can be used as a function to convert from scale-step to \
pitch-code.\
\>", "Text"],

Cell["Diatonic to chromatic.", "Text"],

Cell[BoxData[
    \(mel = \(Scale[]\)[mel]\)], "Input"],

Cell["Plot it.", "Text"],

Cell[BoxData[
    \(NotePlot[mel, PitchCode]\)], "Input"],

Cell[BoxData[
    \(NotePlot[mel, Velocity]\)], "Input"],

Cell["Get the durations", "Text"],

Cell[BoxData[
    \(NoteDuration[mel]\)], "Input"],

Cell["Play it.", "Text"],

Cell[BoxData[
    \(Play2[mel]\)], "Input"],

Cell["\<\
Convert to midi-track and set midi-channel to 3 (zero-based).\
\>", \
"Text"],

Cell[BoxData[
    \(trk = Track[mel, MidiChannel \[Rule] 3]\)], "Input"],

Cell["Convert to midi (assuming we used sec as time-unit).", "Text"],

Cell[BoxData[
    \(mid = Midi[trk, TimeUnit \[Rule] Second]\)], "Input"],

Cell["Plot it", "Text"],

Cell[BoxData[
    \(PianoRoll[mid]\)], "Input"],

Cell["Write to a SMF.", "Text"],

Cell[BoxData[
    \(Export["\<tmp.mid\>", mid]\)], "Input"],

Cell["Augment the durations by a ratio of 3/2", "Text"],

Cell[BoxData[
    \(mel = Map[3  #/2 &, mel, NoteDuration]\)], "Input"],

Cell["Play it.", "Text"],

Cell[BoxData[
    \(Play2[mel]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Scale", "Subtitle"],

Cell["Different ways to construct a scale.", "Text"],

Cell["\<\
The first parameter is the number of sharps/flats as a \
positive/negative number. The second is the mode which is a number 0 to 6 \
representing the scale-step the scale starts on compared to major, or one of \
{ModeAeolian, ModeDorian, ModeIonian, ModeLocrian, ModeLydian, ModeMajor, \
ModeMinor, ModeMixolydian, ModePhrygian}. The pitch-codes are always \
positive. The number of sharps/flats are mod 12.\
\>", "Text"],

Cell[BoxData[
    \(Data[Scale[3, ModeMajor]]\)], "Input"],

Cell[BoxData[
    \(Data[Scale[\(-6\), ModeMixolydian]]\)], "Input"],

Cell[BoxData[
    \(Data[Scale[6, ModeMixolydian]]\)], "Input"],

Cell["\<\
The Mode* constants are integers for the scale-step they start on \
compared to major.\
\>", "Text"],

Cell[BoxData[
    \({{ModeIonian, ModeMajor}, ModeDorian, ModePhrygian, ModeLydian, 
      ModeMixolydian, {ModeAeolian, ModeMinor}, ModeLocrian}\)], "Input"],

Cell["\<\
Unfortunately this dont match the EventTypeKeySignature in Midi, so \
it might CHANGE.\
\>", "Text"],

Cell["\<\
Scale[], with no parameter, is C-major scale, same as \
Scale[0,ModeMajor]\
\>", "Text"],

Cell[BoxData[
    \(Data[Scale[]]\)], "Input"],

Cell["\<\
Giving only one parameter to Scale[n] (number of sharps/flats) will \
return a scale that differ in only one scale-step from Scale[n-1] and \
Scale[n+1] and may therefore result in a scale with negative pitch-codes. The \
number of sharps/flats are NOT mod 12.\
\>", "Text"],

Cell["Compare...", "Text"],

Cell[BoxData[
    \(Data[Scale[3]]\)], "Input"],

Cell["...with...", "Text"],

Cell[BoxData[
    \(Data[Scale[4]]\)], "Input"],

Cell["...and...", "Text"],

Cell[BoxData[
    \(Data[Scale[\(-6\)]]\)], "Input"],

Cell["...with...", "Text"],

Cell[BoxData[
    \(Data[Scale[\(-5\)]]\)], "Input"],

Cell["\<\
Inverse gives the inverse of a scale and may contain the symbol \
DataAnyValue.\
\>", "Text"],

Cell[BoxData[
    \(Data[Scale[\(-5\)]]\)], "Input"],

Cell[BoxData[
    \(Data[Inverse[Scale[\(-5\)]]]\)], "Input"],

Cell[BoxData[
    \(Data[Inverse[Inverse[Scale[\(-5\)]]]]\)], "Input"],

Cell["\<\
Another example of inverse containing pitch-codes outside the \
octave.\
\>", "Text"],

Cell[BoxData[
    \(Data[Scale[1, 0]]\)], "Input"],

Cell[BoxData[
    \(Data[Inverse[Scale[1, 0]]]\)], "Input"],

Cell[BoxData[
    \(Data[Inverse[Inverse[Scale[1, 0]]]]\)], "Input"],

Cell["An easy way to look at the sizes of the steps of scale.", "Text"],

Cell[BoxData[
    \(ValuesToDeltas[PitchCode[Scale[1, 0]]]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Tuning", "Subtitle"],

Cell["\<\
There is currently only one type of tuning, EqualTemperament, to \
which Tuning defaults to.\
\>", "Text"],

Cell[BoxData[
    \(Tuning\)], "Input"],

Cell["\<\
The object has four members: \
{{FrequencyRef,FrequencyOctave},{PitchCodeRef, PitchCodeOctave}}\
\>", "Text"],

Cell[BoxData[
    \(\({#, Tuning[\([#]\)]} &\) /@ Members[EqualTemperament] // 
      ColumnForm\)], "Input"],

Cell["Tuning is by default the same as:", "Text"],

Cell[BoxData[
    \(EqualTemperament[{{440, 2}, {69, 12}}]\)], "Input"],

Cell["You can easily create another kind of eq-tuning, :", "Text"],

Cell[BoxData[
    \(tun = EqualTemperament[{{440, 3}, {69, 19}}]\)], "Input"],

Cell["\<\
The function Convert takes a tuning object and returns a function \
for tuning.\
\>", "Text"],

Cell[BoxData[
    \(\(tff = Convert[PitchCode, Frequency, tun];\)\)], "Input"],

Cell[BoxData[
    \(tff[69]\)], "Input"],

Cell[BoxData[
    \(\(tft = Convert[Frequency, PitchCode, tun];\)\)], "Input"],

Cell[BoxData[
    \(tft[%%]\)], "Input"],

Cell["You can also use the tuning-object as a function directly:", "Text"],

Cell[BoxData[
    \(tun[69]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["FigBass", "Subtitle"],

Cell["\<\
FigBass is almost like a figured-bass-chord, but without duration \
and velocity.\
\>", "Text"],

Cell["\<\
FigBass has three members: {Octave,{Bass,Code}} where Bass i a list\
\
\>", "Text"],

Cell[BoxData[
    \(FigBass[{12, {{40}, 145}}]\)], "Input"],

Cell[BoxData[
    \(PitchCode[%]\)], "Input"],

Cell["Octave can also be \[Infinity]", "Text"],

Cell[BoxData[
    \(FigBass[{\[Infinity], {{40}, 145}}]\)], "Input"],

Cell[BoxData[
    \(PitchCode[%]\)], "Input"],

Cell[BoxData[
    \(FigBass[%]\)], "Input"],

Cell[BoxData[
    \(Data[%]\)], "Input"],

Cell["\<\
The reason for Bass to be a list is when we make a FigBass out of \
{0,3,6,9}, a dim chord, which have many roots\
\>", "Text"],

Cell[BoxData[
    \(Data[FigBass[{0, 3, 6, 9}, Octave \[Rule] 12]]\)], "Input"],

Cell[BoxData[
    \(Data[FigBass[{0, 4, 8}, Octave \[Rule] 12]]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Intervals", "Subtitle"],

Cell["Intervals is an interval-vector.", "Text"],

Cell["Intervals has two members: {Octave, Content}", "Text"],

Cell[BoxData[
    \(Content[Intervals[Chord[{0, 4, 7}]]]\)], "Input"],

Cell["\<\
The answer means that we have 1 minor third, one major third and \
one fifth.\
\>", "Text"]
}, Closed]],

Cell[CellGroupData[{

Cell["ThirdStack", "Subtitle"],

Cell["\<\
ThirdStack is another way of coding chords. No duration or \
velocity.\
\>", "Text"],

Cell["Intervals has three members: {Base, {Bass, Code}}", "Text"],

Cell[BoxData[
    \(PitchCode[ThirdStack[{{3, 4}, {40, 5}}]]\)], "Input"],

Cell["You can use another base than {3,4} which is default.", "Text"],

Cell["ThirdStack[i] is the same as ThirdStack[{{3,4},{0,i}}].", "Text"],

Cell[BoxData[
    \(\(PitchCode[ThirdStack[#]] &\) /@ Range[10] // ColumnForm\)], "Input"],

Cell[BoxData[
    \(\(Content[Intervals[ThirdStack[#], Octave \[Rule] 12]] &\) /@ 
        Range[10] // ColumnForm\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Spectrum", "Subtitle"],

Cell["Spectrum contains Tones.", "Text"],

Cell["A Tone has three members: {Frequency, {Amplitude, Phase}}", "Text"],

Cell["\<\
Conversion from Snippet to Spectrum use Fourier, while Spectrum to \
Snippet currently use a bank of sines.\
\>", "Text"],

Cell[BoxData[
    \(spk = Spectrum[Snippet[Note[60]]]\)], "Input"],

Cell[BoxData[
    \(Max[Amplitude[spk]]\)], "Input"],

Cell[BoxData[
    \(spk = Select[spk, %*0.9 < Amplitude[#] &]\)], "Input"],

Cell[BoxData[
    \(Data[spk]\)], "Input"],

Cell[BoxData[
    \(Tuning[60] // N\)], "Input"],

Cell[BoxData[
    \(snp = Snippet[spk]\)], "Input"],

Cell[BoxData[
    \(Show[Sound[snp]]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Naming", "Subtitle"],

Cell["\<\
Functions for naming notes and chords.
They can easily be changed or extended (i'll document that another day...).
The way to call them might change in the future, im not quite happy with them \
yet. Ideas anyone?\
\>", "Text"],

Cell["NoteNaming first.", "Text"],

Cell["The name of the notes 60 to 71 in C major (no #'s or b's)", "Text"],

Cell[BoxData[
    \(NoteNaming /@ Range[60, 71]\)], "Input"],

Cell["The name of the note 60 to 71 in G major (one #)", "Text"],

Cell[BoxData[
    \(\(NoteNaming[#, 1] &\) /@ Range[60, 71]\)], "Input"],

Cell["The name of the note 60 to 71 in Bb major (two b's)", "Text"],

Cell[BoxData[
    \(\(NoteNaming[#, \(-2\)] &\) /@ Range[60, 71]\)], "Input"],

Cell["\<\
Calling NoteNaming directly is costly. Better to get the function \
first and then call it.\
\>", "Text"],

Cell[BoxData[
    \(\(nnf = Convert[PitchCode, String, NoteNaming];\)\)], "Input"],

Cell[BoxData[
    \(\(nnf[#, 5] &\) /@ Range[60, 71]\)], "Input"],

Cell["The reverse function", "Text"],

Cell[BoxData[
    \(\(nnr = Convert[String, PitchCode, NoteNaming];\)\)], "Input"],

Cell[BoxData[
    \(nnr /@ \((\(nnf[#, 5] &\) /@ Range[60, 71])\)\)], "Input"],

Cell["\<\
NoteNaming, by the way, is the default naming, and an instance of \
HelixNoteNaming.\
\>", "Text"],

Cell[BoxData[
    \(NoteNaming\)], "Input"],

Cell["Then we have ChordNaming, an instance of HelixChordNaming.", "Text"],

Cell[BoxData[
    \(ChordNaming\)], "Input"],

Cell["The types of chords currently handled are:", "Text"],

Cell[BoxData[
    \(ChordNames[ChordNaming]\)], "Input"],

Cell["You can call ChordNaming directly, as with NoteNaming...", "Text"],

Cell[BoxData[
    \(ChordNaming[{0, 4, 7} + 3]\)], "Input"],

Cell[BoxData[
    \(ChordNaming[{0, 4, 7} + 3, 1]\)], "Input"],

Cell["...but getting the function first is better.", "Text"],

Cell[BoxData[
    \(\(cnf = Convert[{PitchCode}, String, ChordNaming];\)\)], "Input"],

Cell["The current scheme takes inversions into account.", "Text"],

Cell[BoxData[
    \(cnf[{3, 7, 12}, 0]\)], "Input"],

Cell[BoxData[
    \(cnf[{0, 4, 7, 9}, 0]\)], "Input"],

Cell["Sometimes the result contain several alternatives.", "Text"],

Cell[BoxData[
    \(cnf[{0, 5, 7}, 0]\)], "Input"],

Cell[BoxData[
    \(cnf[{0, 3, 6, 9} + 3, 0]\)], "Input"],

Cell[BoxData[
    \(cnf[{0, 4, 8} + 5, 0]\)], "Input"],

Cell["\<\
If there is no chord with the given set of pc's, the scheme is to \
take the notes mod 12 and search for alien notes wich will be treated as \
bass.\
\>", "Text"],

Cell[BoxData[
    \(cnf[{0, 1, 3, 7}, 0]\)], "Input"],

Cell[BoxData[
    \(cnf[{0, 3, 6, 7}, 0]\)], "Input"],

Cell["The reverse function.", "Text"],

Cell[BoxData[
    \(\(cnr = Convert[String, {PitchCode}, ChordNaming];\)\)], "Input"],

Cell[BoxData[
    \(cnr["\<GbMaj7\>"]\)], "Input"],

Cell["An oddly notated chord:", "Text"],

Cell[BoxData[
    \(cnr["\<B##m/Fbb\>"]\)], "Input"],

Cell[BoxData[
    \(cnf[%, 11]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["PianoRoll", "Subtitle"],

Cell["\<\
PianoRoll IS going to change!!
Its just an initial port from musica (the old one).\
\>", "Text"],

Cell["The sole parameter is a Midi object.", "Text"],

Cell["The options WILL change.", "Text"]
}, Closed]],

Cell[CellGroupData[{

Cell["Convert", "Subtitle"],

Cell["\<\
Unfortunately I have not found a way to get the Convert-functions \
automatically loaded.
This means that You will sometimes have to load the packaged manually.\
\>", \
"Text"],

Cell[CellGroupData[{

Cell["Tuning", "Subsubtitle",
  FontSize->18],

Cell["TuningFunction will be replaced:", "Text"],

Cell[BoxData[
    \(<< Musica2`Tuning`\)], "Input"],

Cell[BoxData[
    \(\(Convert[Frequency, PitchCode]\)[220]\)], "Input"],

Cell[BoxData[
    \(\(Convert[PitchCode, Frequency]\)[57]\)], "Input"],

Cell["Shorthand for:", "Text"],

Cell[BoxData[
    \(\(Convert[Frequency, PitchCode, Tuning]\)[220]\)], "Input"],

Cell[BoxData[
    \(\(Convert[PitchCode, Frequency, Tuning]\)[57]\)], "Input"],

Cell["Where Tuning is:", "Text"],

Cell[BoxData[
    \(Tuning\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Naming", "Subsubtitle",
  FontSize->18],

Cell["NoteNaming and ChordNaming will be replaced:", "Text"],

Cell[BoxData[
    \(<< Musica2`Naming`\)], "Input"],

Cell[BoxData[
    \(\(Convert[String, PitchCode]\)["\<a4\>"]\)], "Input"],

Cell[BoxData[
    \(\(Convert[PitchCode, String]\)[57, 0]\)], "Input"],

Cell[BoxData[
    \(\(Convert[String, {PitchCode}]\)["\<A\>"]\)], "Input"],

Cell[BoxData[
    \(\(Convert[{PitchCode}, String]\)[{9, 13, 16, 0}, 0]\)], "Input"],

Cell["Shorthand for:", "Text"],

Cell[BoxData[
    \(\(Convert[String, PitchCode, NoteNaming]\)["\<a4\>"]\)], "Input"],

Cell[BoxData[
    \(\(Convert[PitchCode, String, NoteNaming]\)[57, 0]\)], "Input"],

Cell["Where NoteNaming is:", "Text"],

Cell[BoxData[
    \(NoteNaming\)], "Input"],

Cell["and", "Text"],

Cell[BoxData[
    \(\(Convert[String, {PitchCode}, ChordNaming]\)["\<A\>"]\)], "Input"],

Cell[BoxData[
    \(\(Convert[{PitchCode}, String, ChordNaming]\)[{9, 13, 16, 0}, 
      0]\)], "Input"],

Cell["Where ChordNaming is:", "Text"],

Cell[BoxData[
    \(ChordNaming\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Tempo", "Subsubtitle",
  FontSize->18],

Cell["TempoFunction will be replaced:", "Text"],

Cell[BoxData[
    \(<< Musica2`Midi`\)], "Input"],

Cell[BoxData[
    \(m = Import[cor, Midi]\)], "Input"],

Cell[BoxData[
    \(Duration[m]\)], "Input"],

Cell[BoxData[
    \(\(Convert[Tick, Second, m]\)[Duration[m]] // N\)], "Input"],

Cell[BoxData[
    \(\(Convert[Second, Tick, m]\)[42.5006]\)], "Input"],

Cell[BoxData[
    \(\(Convert[Tick, Second, 120]\)[1000] // N\)], "Input"],

Cell[BoxData[
    \(\(Convert[Second, Tick, 120]\)[45]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Note", "Subsubtitle",
  FontSize->18],

Cell["NoteFunction will be replaced:", "Text"],

Cell[BoxData[
    \(<< Musica2`Note`\)], "Input"],

Cell[BoxData[
    \(m = Import[cor, Midi]\)], "Input"],

Cell[BoxData[
    \(m1 = \(Melody[m]\)[\([1]\)]\)], "Input"],

Cell[BoxData[
    \(\(Convert[Time, PitchCode, m1]\)[3]\)], "Input"],

Cell[BoxData[
    \(\(Convert[Time, Velocity, m1]\)[3]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Scale", "Subsubtitle",
  FontSize->18],

Cell["ScaleFunction will be replaced:", "Text"],

Cell[BoxData[
    \(<< Musica2`Note`\)], "Input"],

Cell[BoxData[
    \(\(Convert[ScaleStep, PitchCode, Scale[]]\)[3]\)], "Input"],

Cell[BoxData[
    \(\(Convert[PitchCode, ScaleStep, Scale[]]\)[5]\)], "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Constructors that convert (some of them...)", "Subtitle"],

Cell["\<\
There are many conversion-constructors in Musica2. Here are some.\
\
\>", "Text"],

Cell[CellGroupData[{

Cell["Init", "Subsubtitle",
  FontSize->18],

Cell[BoxData[
    \(not = Note[60]\)], "Input"],

Cell[BoxData[
    \(mel = Melody[{61, 62, 63}]\)], "Input"],

Cell[BoxData[
    \(cho = Chord[{60, 64, 67}]\)], "Input"],

Cell[BoxData[
    \(cpt = Counterpoint[{mel, mel}]\)], "Input"],

Cell[BoxData[
    \(prg = Progression[{cho, cho}]\)], "Input"],

Cell[BoxData[
    \(evt = Event[{1, {2, 3}}]\)], "Input"],

Cell[BoxData[
    \(trk = 
      Track[{Event[{0, {EventTypeNoteOn, {0, 60, 64}}}], 
          Event[{960, {EventTypeNoteOff, {0, 60, 64}}}]}]\)], "Input"],

Cell[BoxData[
    \(mid = Midi[{trk, trk}]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell[TextData[{
  "Conve",
  StyleBox["rt",
    FontSize->18]
}], "Subsubtitle",
  FontSize->18],

Cell[CellGroupData[{

Cell["Chord", "Subsection"],

Cell[BoxData[
    \(Chord[cpt]\)], "Input"],

Cell[BoxData[
    \(PitchCode /@ %\)], "Input"],

Cell[BoxData[
    \(Chord[mel]\)], "Input"],

Cell[BoxData[
    \(PitchCode /@ %\)], "Input"],

Cell[BoxData[
    \(Chord[not]\)], "Input"],

Cell[BoxData[
    \(PitchCode[%]\)], "Input"],

Cell[BoxData[
    \(Chord[{not, not}]\)], "Input"],

Cell[BoxData[
    \(PitchCode[%]\)], "Input"],

Cell[BoxData[
    \(Chord[prg]\)], "Input"],

Cell[BoxData[
    \(PitchCode /@ %\)], "Input"],

Cell[BoxData[
    \(Chord[mid]\)], "Input"],

Cell[BoxData[
    \(PitchCode /@ %\)], "Input"],

Cell[BoxData[
    \(Chord[trk]\)], "Input"],

Cell[BoxData[
    \(PitchCode /@ %\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Counterpoint", "Subsection"],

Cell[BoxData[
    \(Counterpoint[cho]\)], "Input"],

Cell[BoxData[
    \(PitchCode[%]\)], "Input"],

Cell[BoxData[
    \(Counterpoint[mel]\)], "Input"],

Cell[BoxData[
    \(PitchCode[%]\)], "Input"],

Cell[BoxData[
    \(Counterpoint[{mel, mel}]\)], "Input"],

Cell[BoxData[
    \(PitchCode[%]\)], "Input"],

Cell[BoxData[
    \(Counterpoint[prg]\)], "Input"],

Cell[BoxData[
    \(PitchCode[%]\)], "Input"],

Cell[BoxData[
    \(Counterpoint[mid]\)], "Input"],

Cell[BoxData[
    \(PitchCode[%]\)], "Input"],

Cell[BoxData[
    \(Counterpoint[trk]\)], "Input"],

Cell[BoxData[
    \(PitchCode[%]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Event", "Subsection"],

Cell[BoxData[
    \(Event[cho]\)], "Input"],

Cell[BoxData[
    \(Map[EventData, %, {2}]\)], "Input"],

Cell[BoxData[
    \(Event[cpt]\)], "Input"],

Cell[BoxData[
    \(Map[EventData, %, {2}]\)], "Input"],

Cell[BoxData[
    \(Event[mel]\)], "Input"],

Cell[BoxData[
    \(EventData /@ %\)], "Input"],

Cell[BoxData[
    \(Event[not]\)], "Input"],

Cell[BoxData[
    \(EventData /@ %\)], "Input"],

Cell[BoxData[
    \(Event[prg]\)], "Input"],

Cell[BoxData[
    \(Map[EventData, %, {2}]\)], "Input"],

Cell[BoxData[
    \(Event[mid]\)], "Input"],

Cell[BoxData[
    \(Map[EventData, %, {2}]\)], "Input"],

Cell[BoxData[
    \(Event[trk]\)], "Input"],

Cell[BoxData[
    \(EventData /@ %\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Melody", "Subsection"],

Cell[BoxData[
    \(Melody[cho]\)], "Input"],

Cell[BoxData[
    \(PitchCode /@ %\)], "Input"],

Cell[BoxData[
    \(Melody[cpt]\)], "Input"],

Cell[BoxData[
    \(PitchCode /@ %\)], "Input"],

Cell[BoxData[
    \(Melody[not]\)], "Input"],

Cell[BoxData[
    \(PitchCode[%]\)], "Input"],

Cell[BoxData[
    \(Melody[{not, not}]\)], "Input"],

Cell[BoxData[
    \(PitchCode[%]\)], "Input"],

Cell[BoxData[
    \(Melody[prg]\)], "Input"],

Cell[BoxData[
    \(PitchCode /@ %\)], "Input"],

Cell[BoxData[
    \(Melody[mid]\)], "Input"],

Cell[BoxData[
    \(PitchCode /@ %\)], "Input"],

Cell[BoxData[
    \(Melody[trk]\)], "Input"],

Cell[BoxData[
    \(PitchCode /@ %\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Midi", "Subsection"],

Cell[BoxData[
    \(Midi[cho]\)], "Input"],

Cell[BoxData[
    \(EventData[%]\)], "Input"],

Cell[BoxData[
    \(Midi[cpt]\)], "Input"],

Cell[BoxData[
    \(EventData[%]\)], "Input"],

Cell[BoxData[
    \(Midi[mel]\)], "Input"],

Cell[BoxData[
    \(EventData[%]\)], "Input"],

Cell[BoxData[
    \(Midi[not]\)], "Input"],

Cell[BoxData[
    \(EventData[%]\)], "Input"],

Cell[BoxData[
    \(Midi[prg]\)], "Input"],

Cell[BoxData[
    \(EventData[%]\)], "Input"],

Cell[BoxData[
    \(Midi[evt]\)], "Input"],

Cell[BoxData[
    \(EventData[%]\)], "Input"],

Cell[BoxData[
    \(Midi[trk]\)], "Input"],

Cell[BoxData[
    \(EventData[%]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Note", "Subsection"],

Cell[BoxData[
    \(Note[cho]\)], "Input"],

Cell[BoxData[
    \(PitchCode /@ %\)], "Input"],

Cell[BoxData[
    \(Note[cpt]\)], "Input"],

Cell[BoxData[
    \(Map[PitchCode, %, {2}]\)], "Input"],

Cell[BoxData[
    \(Note[mel]\)], "Input"],

Cell[BoxData[
    \(PitchCode /@ %\)], "Input"],

Cell[BoxData[
    \(Note[prg]\)], "Input"],

Cell[BoxData[
    \(Map[PitchCode, %, {2}]\)], "Input"],

Cell[BoxData[
    \(Note[mid]\)], "Input"],

Cell[BoxData[
    \(Map[PitchCode, %, {2}]\)], "Input"],

Cell[BoxData[
    \(Note[trk]\)], "Input"],

Cell[BoxData[
    \(Map[PitchCode, %, {2}]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Progression", "Subsection"],

Cell[BoxData[
    \(Progression[cho]\)], "Input"],

Cell[BoxData[
    \(PitchCode[%]\)], "Input"],

Cell[BoxData[
    \(Progression[{cho, cho}]\)], "Input"],

Cell[BoxData[
    \(PitchCode[%]\)], "Input"],

Cell[BoxData[
    \(Progression[cpt]\)], "Input"],

Cell[BoxData[
    \(PitchCode[%]\)], "Input"],

Cell[BoxData[
    \(Progression[mel]\)], "Input"],

Cell[BoxData[
    \(PitchCode[%]\)], "Input"],

Cell[BoxData[
    \(Progression[mid]\)], "Input"],

Cell[BoxData[
    \(PitchCode[%]\)], "Input"],

Cell[BoxData[
    \(Progression[trk]\)], "Input"],

Cell[BoxData[
    \(PitchCode[%]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Snippet", "Subsection"],

Cell[BoxData[
    \(Snippet[cho]\)], "Input"],

Cell[BoxData[
    \(Snippet[cpt]\)], "Input"],

Cell[BoxData[
    \(Snippet[mel]\)], "Input"],

Cell[BoxData[
    \(Snippet[not]\)], "Input"],

Cell[BoxData[
    \(Snippet[prg]\)], "Input"],

Cell[BoxData[
    \(Snippet[Sound[%]]\)], "Input"],

Cell[BoxData[
    \(Snippet[mid]\)], "Input"],

Cell[BoxData[
    \(Snippet[trk]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Sound", "Subsection"],

Cell[BoxData[
    \(Sound[cho]\)], "Input"],

Cell[BoxData[
    \(Sound[cpt]\)], "Input"],

Cell[BoxData[
    \(Sound[mel]\)], "Input"],

Cell[BoxData[
    \(Sound[not]\)], "Input"],

Cell[BoxData[
    \(Sound[prg]\)], "Input"],

Cell[BoxData[
    \(Sound[snp]\)], "Input"],

Cell[BoxData[
    \(Sound[{snp, snp}]\)], "Input"],

Cell[BoxData[
    \(Sound[mid]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Track", "Subsection"],

Cell[BoxData[
    \(Track[cho]\)], "Input"],

Cell[BoxData[
    \(EventData /@ %\)], "Input"],

Cell[BoxData[
    \(Track[cpt]\)], "Input"],

Cell[BoxData[
    \(EventData /@ %\)], "Input"],

Cell[BoxData[
    \(Track[mel]\)], "Input"],

Cell[BoxData[
    \(EventData[%]\)], "Input"],

Cell[BoxData[
    \(Track[not]\)], "Input"],

Cell[BoxData[
    \(EventData[%]\)], "Input"],

Cell[BoxData[
    \(Track[prg]\)], "Input"],

Cell[BoxData[
    \(EventData /@ %\)], "Input"],

Cell[BoxData[
    \(Track[evt]\)], "Input"],

Cell[BoxData[
    \(EventData[%]\)], "Input"],

Cell[BoxData[
    \(Track[{evt, evt}]\)], "Input"],

Cell[BoxData[
    \(EventData[%]\)], "Input"],

Cell[BoxData[
    \(Track[mid]\)], "Input"],

Cell[BoxData[
    \(EventData /@ %\)], "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Behind the scenes", "Subsubtitle",
  FontSize->18],

Cell["\<\
The non-trivial conversion-constructors are:
  Counterpoint[_Track]
  Counterpoint[_Progression]
  Progression[_Counterpoint]
  Snippet[_Melody]
The rest of the conversion-constructors are quite simple and depend on the \
non-trivial ones.\
\>", "Text"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Mix-Par-Seq", "Subtitle"],

Cell["Oh yes, we have Par, Seq and Mix to add to the list!", "Text"],

Cell[CellGroupData[{

Cell["Init", "Subsubtitle",
  FontSize->18],

Cell[BoxData[
    \(not = Note[60]\)], "Input"],

Cell[BoxData[
    \(mel = Melody[{61, 62, 63}]\)], "Input"],

Cell[BoxData[
    \(cho = Chord[{60, 64, 67}]\)], "Input"],

Cell[BoxData[
    \(cpt = Counterpoint[{mel, mel}]\)], "Input"],

Cell[BoxData[
    \(prg = Progression[{cho, cho}]\)], "Input"],

Cell[BoxData[
    \(evt = Event[{1, {2, 3}}]\)], "Input"],

Cell[BoxData[
    \(trk = 
      Track[{Event[{0, {EventTypeNoteOn, {0, 60, 64}}}], 
          Event[{960, {EventTypeNoteOff, {0, 60, 64}}}]}]\)], "Input"],

Cell[BoxData[
    \(mid = Midi[{trk, trk}]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Mix", "Subsubtitle",
  FontSize->18],

Cell[BoxData[
    \(Mix[{mid, mid}]\)], "Input"],

Cell[BoxData[
    \(Data[%] // ColumnForm\)], "Input"],

Cell[BoxData[
    \(Mix[{trk, trk}]\)], "Input"],

Cell[BoxData[
    \(Data[%]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Par", "Subsubtitle",
  FontSize->18],

Cell[BoxData[
    \(Par[{cho, cho}]\)], "Input"],

Cell[BoxData[
    \(Par[{cpt, cpt}]\)], "Input"],

Cell[BoxData[
    \(Par[{mel, mel}]\)], "Input"],

Cell[BoxData[
    \(Par[{mid, mid}]\)], "Input"],

Cell[BoxData[
    \(Data[%]\)], "Input"],

Cell[BoxData[
    \(Par[{not, not}]\)], "Input"],

Cell[BoxData[
    \(Par[{prg, prg}]\)], "Input"],

Cell[BoxData[
    \(Par[{trk, trk}]\)], "Input"],

Cell[BoxData[
    \(Data[%]\)], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Seq", "Subsubtitle",
  FontSize->18],

Cell[BoxData[
    \(Seq[{cho, cho}]\)], "Input"],

Cell[BoxData[
    \(Seq[{cpt, cpt}]\)], "Input"],

Cell[BoxData[
    \(Seq[{mel, mel}]\)], "Input"],

Cell[BoxData[
    \(Seq[{not, not}]\)], "Input"],

Cell[BoxData[
    \(Seq[{mid, mid}]\)], "Input"],

Cell[BoxData[
    \(Data[%] // ColumnForm\)], "Input"],

Cell[BoxData[
    \(Seq[{prg, prg}]\)], "Input"],

Cell[BoxData[
    \(Seq[{trk, trk}]\)], "Input"],

Cell[BoxData[
    \(Data[%]\)], "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Pattern (as in design)", "Subtitle"],

Cell["\<\
I have tried to minimize the number of new symbols by applying a \
pattern to each object-type in Musica2.\
\>", "Text"],

Cell["\<\
Most types in Musica2 is either a container or an element whithin a \
container (or both). Examples of this in Musica2 is
  Midi that contains Track's that contains Event's
  TempoTrack that contains Tempo's
  Progression that contains Chord's that contains Note's
  Counterpoint that contains Melody's that contains Note's
  Sound that contains Snippet's\
\>", "Text"],

Cell["\<\
Instead of having a Midi-object with a list of Track-objects I \
wanted the Midi-object to have no other Head's on its internal data than \
List. This since other Head's sometimes mess things up (i must admit, it may \
be because of my bad programming). But having custom Head's its a handy \
thing, so I want to have it both ways, at least pretend I have it.\
\>", \
"Text"],

Cell["\<\
This is where the design-pattern comes in. I have written code than \
generates the code needed for this dual-face to appear.\
\>", "Text"],

Cell["\<\
The best way to describe the pattern used is probably by giving an \
example. I was thinking of a Tree-Branch-Leaf example, but since Tree is \
already taken I decided to use Bush instead. When I started typing Bush- I \
continued with War-Terrorist! Oops, a Freudian slip? Im not trying to make a \
political statement here, im not into politics. Im not into writing \
documentation either, but it is more fun using War-Terrorist than using \
Branch-Leaf. If you dont like it just consider it as a bad joke, which is \
really what it is.\
\>", "Text"],

Cell["\<\
Creating types like this is rather easy (if you stick to some rules \
on the pattern for the leaf element which I havent documented yet and \
probably never will, ok, dont use \
BlankSequence,BlankNullSequence,Alternatives and then some...nested List's is \
ok though).\
\>", "Text"],

Cell["Always create the types in leaf to tree order.", "Text"],

Cell["\<\
Ok, lets create Bush that contains War's that contains \
Terrorist's\
\>", "Text"],

Cell[BoxData[
    \(CreateElement[
      Terrorist, {Muslim : \((True | False)\), Bombs_Integer}]\)], "Input"],

Cell[TextData[{
  "Dont bother about the ",
  Cell[BoxData[
      \(General::"spell1"\)], "Message"],
  " message about TerroristQ and Terrorist, its OK."
}], "Text"],

Cell[BoxData[
    \(CreateContainer[War, Terrorist]\)], "Input"],

Cell[BoxData[
    \(CreateContainer[Bush, War]\)], "Input"],

Cell["\<\
We now have a load of code generated for us that will make it \
easier to handle these new types.\
\>", "Text"],

Cell["Code for \"reflection\":", "Text"],

Cell[BoxData[
    \(Members[Terrorist]\)], "Input"],

Cell[BoxData[
    \(\(Pos[Terrorist, #] &\) /@ %\)], "Input"],

Cell[BoxData[
    \(ContainerQ /@ {Bush, War, Terrorist}\)], "Input"],

Cell[BoxData[
    \(ElementType /@ {Bush, War}\)], "Input"],

Cell[BoxData[
    \(Struct[Terrorist]\)], "Input"],

Cell["All constructors take optional parameters.", "Text"],

Cell["\<\
Default-constructors for all types take the data as first \
parameter.\
\>", "Text"],

Cell[BoxData[
    \(tn = {t = Terrorist[{True, 0}, name \[Rule] "\<john\>"], 
        Terrorist[{False, 1}, age \[Rule] 12]}\)], "Input"],

Cell["\<\
Extra constructors for a container takes one or a list of elements.\
\
\>", "Text"],

Cell[BoxData[
    \(w = War[tn]\)], "Input"],

Cell[BoxData[
    \(b = 
      Bush[{w, War[tn, no \[Rule] good]}, IQ \[Rule] DataNoValue]\)], "Input"],

Cell["\<\
Then there are som constructors for elements that take a container \
as parameter.\
\>", "Text"],

Cell[BoxData[
    \(War[b]\)], "Input"],

Cell[BoxData[
    \(Terrorist[w]\)], "Input"],

Cell[BoxData[
    \(Terrorist[b]\)], "Input"],

Cell["\<\
Each type has two parts, Opts and Data. Data is a \"raw\" format:\
\
\>", "Text"],

Cell[BoxData[
    \(Opts /@ {w, b, t} // ColumnForm\)], "Input"],

Cell["\<\
The elements are simply stored in a list, one item for each \
element.
Each element is a two item list {Opts,Data}, but if an element has no Opts it \
is just Data without the enclosing list.\
\>", "Text"],

Cell[BoxData[
    \(Data /@ {w, b, t} // ColumnForm\)], "Input"],

Cell["\<\
The \"default-constructor\" for all types thus works like \
this:\
\>", "Text"],

Cell[BoxData[
    \(\(\(#[\([0]\)]\)[Data[#], Sequence @@ Opts[#]] &\) /@ {b, w, 
        t}\)], "Input"],

Cell["\<\
But we usually never use this \"raw\" Data, only the Opts. Instead \
we use the members in various ways:\
\>", "Text"],

Cell[BoxData[
    \(Bombs /@ {b, w, t} // ColumnForm\)], "Input"],

Cell["Tests:", "Text"],

Cell[BoxData[
    \(\({BushQ[#], WarQ[#], TerroristQ[#]} &\) /@ {b, w, t} // 
      ColumnForm\)], "Input"],

Cell["\<\
(Im not so sure if the TerroristQ-test is a valid test in \
reality...)\
\>", "Text"],

Cell[BoxData[
    \(\({\(DataQ[Bush]\)[Data[#]], \(DataQ[War]\)[
              Data[#]], \(DataQ[Terrorist]\)[Data[#]]} &\) /@ {b, w, t} // 
      ColumnForm\)], "Input"],

Cell["Map and many other List-functions also works on Containers.", "Text"],

Cell["Append[_Container,_Element]", "Text"],

Cell[BoxData[
    \(Append[b, w]\)], "Input"],

Cell["Delete[_Container,n__]", "Text"],

Cell[BoxData[
    \(Delete[b, \(-1\)]\)], "Input"],

Cell["Drop[_Container,n_]", "Text"],

Cell[BoxData[
    \(Drop[b, 1]\)], "Input"],

Cell["\<\
Extract[_Container,n_Integer] calls \
Part[_Container,n_Integer]\
\>", "Text"],

Cell[BoxData[
    \(Extract[b, 1]\)], "Input"],

Cell["First[_Container]", "Text"],

Cell[BoxData[
    \(First[b]\)], "Input"],

Cell["Insert[_Container,_Element,n_Integer]", "Text"],

Cell[BoxData[
    \(Insert[b, w, 2]\)], "Input"],

Cell["Last[_Container]", "Text"],

Cell[BoxData[
    \(Last[b]\)], "Input"],

Cell["Length[_Container]", "Text"],

Cell[BoxData[
    \(Length[b]\)], "Input"],

Cell["Map[f_,_Container]", "Text"],

Cell[BoxData[
    \(Opts /@ b\)], "Input"],

Cell["\<\
If the result from Map is a list if elements a container is \
returned\
\>", "Text"],

Cell[BoxData[
    \(\(# &\) /@ b\)], "Input"],

Cell["The same goes for MapIndexed[f_,_Container]", "Text"],

Cell[BoxData[
    \(MapIndexed[# &, b]\)], "Input"],

Cell["Most[_Container]", "Text"],

Cell[BoxData[
    \(Most[b]\)], "Input"],

Cell["Part[_Container,n_Integer]", "Text"],

Cell[BoxData[
    \(b[\([1]\)]\)], "Input"],

Cell["Part[_Container,n_Integer,m__Integer]", "Text"],

Cell[BoxData[
    \(b[\([1, 2]\)]\)], "Input"],

Cell["Prepend[_Container,_Element]", "Text"],

Cell[BoxData[
    \(Prepend[b, w]\)], "Input"],

Cell["ReplacePart[_Container,_Element,n_Integer]", "Text"],

Cell[BoxData[
    \(ReplacePart[b, War[{}], 1]\)], "Input"],

Cell["Rest[_Container]", "Text"],

Cell[BoxData[
    \(Rest[b]\)], "Input"],

Cell["Scan[f_,_Container]", "Text"],

Cell[BoxData[
    \(Scan[Print, b]\)], "Input"],

Cell["Select[_Container,f_]", "Text"],

Cell[BoxData[
    \(Select[b, \((Opts[#] =!= {})\) &]\)], "Input"],

Cell["Take[_Container,n_]", "Text"],

Cell[BoxData[
    \(Take[b, 1]\)], "Input"],

Cell["Some, like Map, are extended.", "Text"],

Cell["\<\
Map[f_,_Container,s_Symbol] and MapIndexed[f_, _Container, \
s_Symbol] maps through all elements (leafs) and applys f to the leaf's member \
and the reconstructs the container again.\
\>", "Text"],

Cell[BoxData[
    \(Bombs /@ b\)], "Input"],

Cell[BoxData[
    \(Map[2 + # &, b, Bombs]\)], "Input"],

Cell[BoxData[
    \(Bombs /@ %\)], "Input"],

Cell["\<\
Part[_Container,s_Symbol] and Part[_Container, n_Integer, \
m___Integer, s_Symbol] works like expected\
\>", "Text"],

Cell[BoxData[
    \(b[\([Bombs]\)]\)], "Input"],

Cell[BoxData[
    \(b[\([1, Bombs]\)]\)], "Input"],

Cell[BoxData[
    \(b[\([1, 2, Bombs]\)]\)], "Input"],

Cell["\<\
Until I write more documentation the best way to find out about all \
List-functions for Containers is to look inside Type.m\
\>", "Text"]
}, Closed]],

Cell[CellGroupData[{

Cell["Notes on Midi.m", "Subtitle"],

Cell["Midi.m depends on Note.m", "Text"],

Cell["Midi contains Track contains Event with members:", "Text"],

Cell[BoxData[
    \(Struct[Event]\)], "Input"],

Cell["TempoTrack contains Tempo with members:", "Text"],

Cell[BoxData[
    \(Struct[Tempo]\)], "Input"],

Cell["\<\
Tidy[_Track] sorts the events and makes sure that there is exactly \
one EOT in the track.
Tidy[_Midi] calls Tidy for each track and sets them to the same length.
Tidy[_TempoTrack] sorts the tempos for the tempo-track.\
\>", "Text"],

Cell["\<\
Conversion- and extra- constructors:
  Event[_Tempo] does the hard work
  Midi[_Midi, opts___] is used to change time-unit and uses TempoTrack and \
TempoFunction and then some
  Tempo[_Event] does the hard work
  TempoTrack[_Track] uses Tempo[_Event] and TempoTrack[{__Tempo}]
  Track[_TempoTrack] uses Event[_Tempo] and Track[{__Event}]\
\>", "Text"],

Cell["\<\
Duration functions:
  Duration[_Midi] uses EventTime[_Event] and Max
  Duration[_Track] uses Duration[_Track] and Max\
\>", "Text"],

Cell["\<\
Play2 functions:
  Play2[_Midi]
  Play2[_Track]\
\>", "Text"]
}, Closed]],

Cell[CellGroupData[{

Cell["Notes on Note.m", "Subtitle"],

Cell["Note.m depends on Sound.m", "Text"],

Cell["Counterpoint contains Melody contains Note with members:", "Text"],

Cell[BoxData[
    \(Struct[Note]\)], "Input"],

Cell["NoteDuration,not Duration,is a member of Note.", "Text"],

Cell["\<\
Progression contains Chord contains Note with members as \
above.\
\>", "Text"],

Cell["Scale with members:", "Text"],

Cell[BoxData[
    \(Struct[Scale]\)], "Input"],

Cell["FigBass with members:", "Text"],

Cell[BoxData[
    \(Struct[FigBass]\)], "Input"],

Cell["Intervals with members:", "Text"],

Cell[BoxData[
    \(Struct[Intervals]\)], "Input"],

Cell["ThirdStack with members:", "Text"],

Cell[BoxData[
    \(Struct[ThirdStack]\)], "Input"],

Cell["\<\
Duration functions:
  Duration[_Chord], the duration is stored as NoteDuration in its Opts-part \
rather in its Data-part.
  Duration[_Counterpoint] is the max of the melodies duration.
  Duration[_Melody] is the sum of the notes duration.
  Duration[_Note] returns NoteDuration.
  Duration[_Progression] is the sum of the chords duration.\
\>", "Text"],

Cell["\<\
Conversion-and extra-constructors:
  Chord[{__}] takes only PitchCodes and uses NoteDuration and Velocity from \
Options[Note]  
  Melody[{__}] takes only PitchCodes and uses NoteDuration and Velocity from \
Options[Note]  
  Note[_] takes only PitchCode and uses NoteDuration and Velocity from \
Options[Note]\
\>", "Text"],

Cell["\<\
Inverse[_Scale] returns an \"inverted\" scale which may contain the \
symbol DataAnyValue.\
\>", "Text"],

Cell["\<\
Play2 functions:
  Play2[_Chord]
  Play2[_Counterpoint]
  Play2[_Melody]
  Play2[_Note]
  Play2[_Progression]  \
\>", "Text"]
}, Closed]],

Cell[CellGroupData[{

Cell["Notes on Sound.m", "Subtitle"],

Cell["\<\
Since Sound is a type that I don't own, the underlying logic for it \
is somewhat messy, but it seem like Sound now acts as the rest of the \
Containers.\
\>", "Text"],

Cell["Sound contains Snippet with members:", "Text"],

Cell[BoxData[
    \(Struct[Snippet]\)], "Input"],

Cell["\<\
Tidy[_Sound] makes sure even a monophonic Sound has a List \
internally.\
\>", "Text"],

Cell["\<\
Duration functions:
  Duration[_Snippet]
  Duration[_Sound]\
\>", "Text"],

Cell["\<\
Play2 functions:
  Play2[_Snippet]
  Play2[_Sound] calls Show after mixing it to two channels\
\>", "Text"]
}, Closed]]
}, Open  ]]
},
FrontEndVersion->"5.0 for X",
ScreenRectangle->{{0, 1600}, {0, 1200}},
AutoGeneratedPackage->Automatic,
WindowSize->{736, 1124},
WindowMargins->{{0, Automatic}, {Automatic, 17}},
Magnification->1,
StyleDefinitions -> "Default.nb"
]

(*******************************************************************
Cached data follows.  If you edit this Notebook file directly, not
using Mathematica, you must remove the line containing CacheID at
the top of  the file.  The cache data will then be recreated when
you save this file from within Mathematica.
*******************************************************************)

(*CellTagsOutline
CellTagsIndex->{}
*)

(*CellTagsIndex
CellTagsIndex->{}
*)

(*NotebookFileOutline
Notebook[{

Cell[CellGroupData[{
Cell[1776, 53, 40, 1, 79, "Title"],
Cell[1819, 56, 53, 0, 32, "Text"],

Cell[CellGroupData[{
Cell[1897, 60, 27, 0, 51, "Subtitle"],
Cell[1927, 62, 720, 16, 284, "Text"]
}, Closed]],

Cell[CellGroupData[{
Cell[2684, 83, 27, 0, 53, "Subtitle"],
Cell[2714, 85, 2084, 39, 608, "Text"]
}, Closed]],

Cell[CellGroupData[{
Cell[4835, 129, 27, 0, 53, "Subtitle"],
Cell[4865, 131, 658, 13, 194, "Text"]
}, Closed]],

Cell[CellGroupData[{
Cell[5560, 149, 24, 0, 53, "Subtitle"],
Cell[5587, 151, 117, 3, 32, "Text"],
Cell[5707, 156, 80, 2, 27, "Input",
  InitializationCell->True],
Cell[5790, 160, 37, 0, 32, "Text"],
Cell[5830, 162, 84, 2, 27, "Input",
  InitializationCell->True],
Cell[5917, 166, 92, 3, 32, "Text"],
Cell[6012, 171, 72, 2, 27, "Input",
  InitializationCell->True],
Cell[6087, 175, 70, 0, 32, "Text"],
Cell[6160, 177, 112, 2, 27, "Input",
  InitializationCell->True],
Cell[6275, 181, 775, 13, 139, "Input",
  InitializationCell->True],
Cell[7053, 196, 67, 0, 32, "Text"],
Cell[7123, 198, 166, 3, 43, "Input",
  InitializationCell->True]
}, Closed]],

Cell[CellGroupData[{
Cell[7326, 206, 29, 0, 53, "Subtitle"],
Cell[7358, 208, 51, 0, 32, "Text"],
Cell[7412, 210, 65, 1, 27, "Input"],
Cell[7480, 213, 39, 0, 32, "Text"],
Cell[7522, 215, 47, 1, 27, "Input"],
Cell[7572, 218, 24, 0, 32, "Text"],
Cell[7599, 220, 51, 1, 27, "Input"],
Cell[7653, 223, 31, 0, 32, "Text"],
Cell[7687, 225, 59, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[7783, 231, 42, 0, 53, "Subtitle"],
Cell[7828, 233, 32, 0, 32, "Text"],
Cell[7863, 235, 65, 1, 27, "Input"],
Cell[7931, 238, 56, 0, 32, "Text"],
Cell[7990, 240, 73, 1, 27, "Input"],
Cell[8066, 243, 31, 0, 32, "Text"],
Cell[8100, 245, 49, 1, 27, "Input"],
Cell[8152, 248, 51, 0, 32, "Text"],
Cell[8206, 250, 58, 1, 27, "Input"],
Cell[8267, 253, 54, 0, 32, "Text"],
Cell[8324, 255, 52, 1, 27, "Input"],
Cell[8379, 258, 63, 0, 32, "Text"],
Cell[8445, 260, 82, 1, 27, "Input"],
Cell[8530, 263, 49, 0, 32, "Text"],
Cell[8582, 265, 53, 1, 27, "Input"],
Cell[8638, 268, 41, 0, 32, "Text"],
Cell[8682, 270, 57, 1, 27, "Input"],
Cell[8742, 273, 39, 0, 32, "Text"],
Cell[8784, 275, 50, 1, 27, "Input"],
Cell[8837, 278, 24, 0, 32, "Text"],
Cell[8864, 280, 42, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[8943, 286, 47, 0, 53, "Subtitle"],
Cell[8993, 288, 135, 3, 32, "Text"],
Cell[9131, 293, 398, 8, 155, "Input"],
Cell[9532, 303, 164, 4, 50, "Text"],
Cell[9699, 309, 38, 0, 32, "Text"],
Cell[9740, 311, 55, 1, 27, "Input"],
Cell[9798, 314, 24, 0, 32, "Text"],
Cell[9825, 316, 57, 1, 27, "Input"],
Cell[9885, 319, 56, 1, 27, "Input"],
Cell[9944, 322, 33, 0, 32, "Text"],
Cell[9980, 324, 50, 1, 27, "Input"],
Cell[10033, 327, 24, 0, 32, "Text"],
Cell[10060, 329, 43, 1, 27, "Input"],
Cell[10106, 332, 87, 3, 32, "Text"],
Cell[10196, 337, 72, 1, 27, "Input"],
Cell[10271, 340, 68, 0, 32, "Text"],
Cell[10342, 342, 73, 1, 27, "Input"],
Cell[10418, 345, 23, 0, 32, "Text"],
Cell[10444, 347, 47, 1, 27, "Input"],
Cell[10494, 350, 31, 0, 32, "Text"],
Cell[10528, 352, 59, 1, 27, "Input"],
Cell[10590, 355, 55, 0, 32, "Text"],
Cell[10648, 357, 71, 1, 27, "Input"],
Cell[10722, 360, 24, 0, 32, "Text"],
Cell[10749, 362, 43, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[10829, 368, 25, 0, 53, "Subtitle"],
Cell[10857, 370, 52, 0, 32, "Text"],
Cell[10912, 372, 431, 7, 86, "Text"],
Cell[11346, 381, 58, 1, 27, "Input"],
Cell[11407, 384, 68, 1, 27, "Input"],
Cell[11478, 387, 63, 1, 27, "Input"],
Cell[11544, 390, 110, 3, 32, "Text"],
Cell[11657, 395, 158, 2, 43, "Input"],
Cell[11818, 399, 110, 3, 32, "Text"],
Cell[11931, 404, 98, 3, 32, "Text"],
Cell[12032, 409, 46, 1, 27, "Input"],
Cell[12081, 412, 284, 5, 68, "Text"],
Cell[12368, 419, 26, 0, 32, "Text"],
Cell[12397, 421, 47, 1, 27, "Input"],
Cell[12447, 424, 26, 0, 32, "Text"],
Cell[12476, 426, 47, 1, 27, "Input"],
Cell[12526, 429, 25, 0, 32, "Text"],
Cell[12554, 431, 52, 1, 27, "Input"],
Cell[12609, 434, 26, 0, 32, "Text"],
Cell[12638, 436, 52, 1, 27, "Input"],
Cell[12693, 439, 103, 3, 32, "Text"],
Cell[12799, 444, 52, 1, 27, "Input"],
Cell[12854, 447, 61, 1, 27, "Input"],
Cell[12918, 450, 70, 1, 27, "Input"],
Cell[12991, 453, 95, 3, 32, "Text"],
Cell[13089, 458, 50, 1, 27, "Input"],
Cell[13142, 461, 59, 1, 27, "Input"],
Cell[13204, 464, 68, 1, 27, "Input"],
Cell[13275, 467, 71, 0, 32, "Text"],
Cell[13349, 469, 71, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[13457, 475, 26, 0, 53, "Subtitle"],
Cell[13486, 477, 116, 3, 32, "Text"],
Cell[13605, 482, 39, 1, 27, "Input"],
Cell[13647, 485, 119, 3, 32, "Text"],
Cell[13769, 490, 109, 2, 27, "Input"],
Cell[13881, 494, 49, 0, 32, "Text"],
Cell[13933, 496, 71, 1, 27, "Input"],
Cell[14007, 499, 66, 0, 32, "Text"],
Cell[14076, 501, 77, 1, 27, "Input"],
Cell[14156, 504, 103, 3, 32, "Text"],
Cell[14262, 509, 78, 1, 27, "Input"],
Cell[14343, 512, 40, 1, 27, "Input"],
Cell[14386, 515, 78, 1, 27, "Input"],
Cell[14467, 518, 40, 1, 27, "Input"],
Cell[14510, 521, 74, 0, 32, "Text"],
Cell[14587, 523, 40, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[14664, 529, 27, 0, 53, "Subtitle"],
Cell[14694, 531, 105, 3, 32, "Text"],
Cell[14802, 536, 93, 3, 32, "Text"],
Cell[14898, 541, 59, 1, 27, "Input"],
Cell[14960, 544, 45, 1, 27, "Input"],
Cell[15008, 547, 46, 0, 32, "Text"],
Cell[15057, 549, 68, 1, 27, "Input"],
Cell[15128, 552, 45, 1, 27, "Input"],
Cell[15176, 555, 43, 1, 27, "Input"],
Cell[15222, 558, 40, 1, 27, "Input"],
Cell[15265, 561, 137, 3, 32, "Text"],
Cell[15405, 566, 79, 1, 27, "Input"],
Cell[15487, 569, 76, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[15600, 575, 29, 0, 53, "Subtitle"],
Cell[15632, 577, 48, 0, 32, "Text"],
Cell[15683, 579, 60, 0, 32, "Text"],
Cell[15746, 581, 69, 1, 27, "Input"],
Cell[15818, 584, 101, 3, 32, "Text"]
}, Closed]],

Cell[CellGroupData[{
Cell[15956, 592, 30, 0, 53, "Subtitle"],
Cell[15989, 594, 94, 3, 32, "Text"],
Cell[16086, 599, 65, 0, 32, "Text"],
Cell[16154, 601, 73, 1, 27, "Input"],
Cell[16230, 604, 69, 0, 32, "Text"],
Cell[16302, 606, 71, 0, 32, "Text"],
Cell[16376, 608, 90, 1, 27, "Input"],
Cell[16469, 611, 127, 2, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[16633, 618, 28, 0, 53, "Subtitle"],
Cell[16664, 620, 40, 0, 32, "Text"],
Cell[16707, 622, 73, 0, 32, "Text"],
Cell[16783, 624, 131, 3, 32, "Text"],
Cell[16917, 629, 66, 1, 27, "Input"],
Cell[16986, 632, 52, 1, 27, "Input"],
Cell[17041, 635, 74, 1, 27, "Input"],
Cell[17118, 638, 42, 1, 27, "Input"],
Cell[17163, 641, 48, 1, 27, "Input"],
Cell[17214, 644, 51, 1, 27, "Input"],
Cell[17268, 647, 49, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[17354, 653, 26, 0, 53, "Subtitle"],
Cell[17383, 655, 237, 5, 68, "Text"],
Cell[17623, 662, 33, 0, 32, "Text"],
Cell[17659, 664, 73, 0, 32, "Text"],
Cell[17735, 666, 60, 1, 27, "Input"],
Cell[17798, 669, 64, 0, 32, "Text"],
Cell[17865, 671, 72, 1, 27, "Input"],
Cell[17940, 674, 67, 0, 32, "Text"],
Cell[18010, 676, 77, 1, 27, "Input"],
Cell[18090, 679, 115, 3, 32, "Text"],
Cell[18208, 684, 82, 1, 27, "Input"],
Cell[18293, 687, 65, 1, 27, "Input"],
Cell[18361, 690, 36, 0, 32, "Text"],
Cell[18400, 692, 82, 1, 27, "Input"],
Cell[18485, 695, 78, 1, 27, "Input"],
Cell[18566, 698, 108, 3, 32, "Text"],
Cell[18677, 703, 43, 1, 27, "Input"],
Cell[18723, 706, 74, 0, 32, "Text"],
Cell[18800, 708, 44, 1, 27, "Input"],
Cell[18847, 711, 58, 0, 32, "Text"],
Cell[18908, 713, 56, 1, 27, "Input"],
Cell[18967, 716, 72, 0, 32, "Text"],
Cell[19042, 718, 59, 1, 27, "Input"],
Cell[19104, 721, 62, 1, 27, "Input"],
Cell[19169, 724, 60, 0, 32, "Text"],
Cell[19232, 726, 85, 1, 27, "Input"],
Cell[19320, 729, 65, 0, 32, "Text"],
Cell[19388, 731, 51, 1, 27, "Input"],
Cell[19442, 734, 53, 1, 27, "Input"],
Cell[19498, 737, 66, 0, 32, "Text"],
Cell[19567, 739, 50, 1, 27, "Input"],
Cell[19620, 742, 57, 1, 27, "Input"],
Cell[19680, 745, 54, 1, 27, "Input"],
Cell[19737, 748, 172, 4, 50, "Text"],
Cell[19912, 754, 53, 1, 27, "Input"],
Cell[19968, 757, 53, 1, 27, "Input"],
Cell[20024, 760, 37, 0, 32, "Text"],
Cell[20064, 762, 85, 1, 27, "Input"],
Cell[20152, 765, 50, 1, 27, "Input"],
Cell[20205, 768, 39, 0, 32, "Text"],
Cell[20247, 770, 52, 1, 27, "Input"],
Cell[20302, 773, 43, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[20382, 779, 29, 0, 53, "Subtitle"],
Cell[20414, 781, 106, 3, 50, "Text"],
Cell[20523, 786, 52, 0, 32, "Text"],
Cell[20578, 788, 40, 0, 32, "Text"]
}, Closed]],

Cell[CellGroupData[{
Cell[20655, 793, 27, 0, 53, "Subtitle"],
Cell[20685, 795, 186, 5, 50, "Text"],

Cell[CellGroupData[{
Cell[20896, 804, 45, 1, 33, "Subsubtitle"],
Cell[20944, 807, 48, 0, 32, "Text"],
Cell[20995, 809, 51, 1, 27, "Input"],
Cell[21049, 812, 71, 1, 27, "Input"],
Cell[21123, 815, 70, 1, 27, "Input"],
Cell[21196, 818, 30, 0, 32, "Text"],
Cell[21229, 820, 79, 1, 27, "Input"],
Cell[21311, 823, 78, 1, 27, "Input"],
Cell[21392, 826, 32, 0, 32, "Text"],
Cell[21427, 828, 39, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[21503, 834, 45, 1, 35, "Subsubtitle"],
Cell[21551, 837, 60, 0, 32, "Text"],
Cell[21614, 839, 51, 1, 27, "Input"],
Cell[21668, 842, 73, 1, 27, "Input"],
Cell[21744, 845, 70, 1, 27, "Input"],
Cell[21817, 848, 74, 1, 27, "Input"],
Cell[21894, 851, 84, 1, 27, "Input"],
Cell[21981, 854, 30, 0, 32, "Text"],
Cell[22014, 856, 85, 1, 27, "Input"],
Cell[22102, 859, 82, 1, 27, "Input"],
Cell[22187, 862, 36, 0, 32, "Text"],
Cell[22226, 864, 43, 1, 27, "Input"],
Cell[22272, 867, 19, 0, 32, "Text"],
Cell[22294, 869, 87, 1, 27, "Input"],
Cell[22384, 872, 104, 2, 27, "Input"],
Cell[22491, 876, 37, 0, 32, "Text"],
Cell[22531, 878, 44, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[22612, 884, 44, 1, 35, "Subsubtitle"],
Cell[22659, 887, 47, 0, 32, "Text"],
Cell[22709, 889, 49, 1, 27, "Input"],
Cell[22761, 892, 54, 1, 27, "Input"],
Cell[22818, 895, 44, 1, 27, "Input"],
Cell[22865, 898, 79, 1, 27, "Input"],
Cell[22947, 901, 70, 1, 27, "Input"],
Cell[23020, 904, 74, 1, 27, "Input"],
Cell[23097, 907, 67, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[23201, 913, 43, 1, 35, "Subsubtitle"],
Cell[23247, 916, 46, 0, 32, "Text"],
Cell[23296, 918, 49, 1, 27, "Input"],
Cell[23348, 921, 54, 1, 27, "Input"],
Cell[23405, 924, 60, 1, 27, "Input"],
Cell[23468, 927, 68, 1, 27, "Input"],
Cell[23539, 930, 67, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[23643, 936, 44, 1, 35, "Subsubtitle"],
Cell[23690, 939, 47, 0, 32, "Text"],
Cell[23740, 941, 49, 1, 27, "Input"],
Cell[23792, 944, 78, 1, 27, "Input"],
Cell[23873, 947, 78, 1, 27, "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{
Cell[24000, 954, 63, 0, 53, "Subtitle"],
Cell[24066, 956, 91, 3, 32, "Text"],

Cell[CellGroupData[{
Cell[24182, 963, 43, 1, 33, "Subsubtitle"],
Cell[24228, 966, 47, 1, 27, "Input"],
Cell[24278, 969, 59, 1, 27, "Input"],
Cell[24340, 972, 58, 1, 27, "Input"],
Cell[24401, 975, 63, 1, 27, "Input"],
Cell[24467, 978, 62, 1, 27, "Input"],
Cell[24532, 981, 57, 1, 27, "Input"],
Cell[24592, 984, 155, 3, 43, "Input"],
Cell[24750, 989, 55, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[24842, 995, 96, 5, 35, "Subsubtitle"],

Cell[CellGroupData[{
Cell[24963, 1004, 27, 0, 38, "Subsection"],
Cell[24993, 1006, 43, 1, 27, "Input"],
Cell[25039, 1009, 47, 1, 27, "Input"],
Cell[25089, 1012, 43, 1, 27, "Input"],
Cell[25135, 1015, 47, 1, 27, "Input"],
Cell[25185, 1018, 43, 1, 27, "Input"],
Cell[25231, 1021, 45, 1, 27, "Input"],
Cell[25279, 1024, 50, 1, 27, "Input"],
Cell[25332, 1027, 45, 1, 27, "Input"],
Cell[25380, 1030, 43, 1, 27, "Input"],
Cell[25426, 1033, 47, 1, 27, "Input"],
Cell[25476, 1036, 43, 1, 27, "Input"],
Cell[25522, 1039, 47, 1, 27, "Input"],
Cell[25572, 1042, 43, 1, 27, "Input"],
Cell[25618, 1045, 47, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[25702, 1051, 34, 0, 30, "Subsection"],
Cell[25739, 1053, 50, 1, 27, "Input"],
Cell[25792, 1056, 45, 1, 27, "Input"],
Cell[25840, 1059, 50, 1, 27, "Input"],
Cell[25893, 1062, 45, 1, 27, "Input"],
Cell[25941, 1065, 57, 1, 27, "Input"],
Cell[26001, 1068, 45, 1, 27, "Input"],
Cell[26049, 1071, 50, 1, 27, "Input"],
Cell[26102, 1074, 45, 1, 27, "Input"],
Cell[26150, 1077, 50, 1, 27, "Input"],
Cell[26203, 1080, 45, 1, 27, "Input"],
Cell[26251, 1083, 50, 1, 27, "Input"],
Cell[26304, 1086, 45, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[26386, 1092, 27, 0, 30, "Subsection"],
Cell[26416, 1094, 43, 1, 27, "Input"],
Cell[26462, 1097, 55, 1, 27, "Input"],
Cell[26520, 1100, 43, 1, 27, "Input"],
Cell[26566, 1103, 55, 1, 27, "Input"],
Cell[26624, 1106, 43, 1, 27, "Input"],
Cell[26670, 1109, 47, 1, 27, "Input"],
Cell[26720, 1112, 43, 1, 27, "Input"],
Cell[26766, 1115, 47, 1, 27, "Input"],
Cell[26816, 1118, 43, 1, 27, "Input"],
Cell[26862, 1121, 55, 1, 27, "Input"],
Cell[26920, 1124, 43, 1, 27, "Input"],
Cell[26966, 1127, 55, 1, 27, "Input"],
Cell[27024, 1130, 43, 1, 27, "Input"],
Cell[27070, 1133, 47, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[27154, 1139, 28, 0, 30, "Subsection"],
Cell[27185, 1141, 44, 1, 27, "Input"],
Cell[27232, 1144, 47, 1, 27, "Input"],
Cell[27282, 1147, 44, 1, 27, "Input"],
Cell[27329, 1150, 47, 1, 27, "Input"],
Cell[27379, 1153, 44, 1, 27, "Input"],
Cell[27426, 1156, 45, 1, 27, "Input"],
Cell[27474, 1159, 51, 1, 27, "Input"],
Cell[27528, 1162, 45, 1, 27, "Input"],
Cell[27576, 1165, 44, 1, 27, "Input"],
Cell[27623, 1168, 47, 1, 27, "Input"],
Cell[27673, 1171, 44, 1, 27, "Input"],
Cell[27720, 1174, 47, 1, 27, "Input"],
Cell[27770, 1177, 44, 1, 27, "Input"],
Cell[27817, 1180, 47, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[27901, 1186, 26, 0, 30, "Subsection"],
Cell[27930, 1188, 42, 1, 27, "Input"],
Cell[27975, 1191, 45, 1, 27, "Input"],
Cell[28023, 1194, 42, 1, 27, "Input"],
Cell[28068, 1197, 45, 1, 27, "Input"],
Cell[28116, 1200, 42, 1, 27, "Input"],
Cell[28161, 1203, 45, 1, 27, "Input"],
Cell[28209, 1206, 42, 1, 27, "Input"],
Cell[28254, 1209, 45, 1, 27, "Input"],
Cell[28302, 1212, 42, 1, 27, "Input"],
Cell[28347, 1215, 45, 1, 27, "Input"],
Cell[28395, 1218, 42, 1, 27, "Input"],
Cell[28440, 1221, 45, 1, 27, "Input"],
Cell[28488, 1224, 42, 1, 27, "Input"],
Cell[28533, 1227, 45, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[28615, 1233, 26, 0, 30, "Subsection"],
Cell[28644, 1235, 42, 1, 27, "Input"],
Cell[28689, 1238, 47, 1, 27, "Input"],
Cell[28739, 1241, 42, 1, 27, "Input"],
Cell[28784, 1244, 55, 1, 27, "Input"],
Cell[28842, 1247, 42, 1, 27, "Input"],
Cell[28887, 1250, 47, 1, 27, "Input"],
Cell[28937, 1253, 42, 1, 27, "Input"],
Cell[28982, 1256, 55, 1, 27, "Input"],
Cell[29040, 1259, 42, 1, 27, "Input"],
Cell[29085, 1262, 55, 1, 27, "Input"],
Cell[29143, 1265, 42, 1, 27, "Input"],
Cell[29188, 1268, 55, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[29280, 1274, 33, 0, 30, "Subsection"],
Cell[29316, 1276, 49, 1, 27, "Input"],
Cell[29368, 1279, 45, 1, 27, "Input"],
Cell[29416, 1282, 56, 1, 27, "Input"],
Cell[29475, 1285, 45, 1, 27, "Input"],
Cell[29523, 1288, 49, 1, 27, "Input"],
Cell[29575, 1291, 45, 1, 27, "Input"],
Cell[29623, 1294, 49, 1, 27, "Input"],
Cell[29675, 1297, 45, 1, 27, "Input"],
Cell[29723, 1300, 49, 1, 27, "Input"],
Cell[29775, 1303, 45, 1, 27, "Input"],
Cell[29823, 1306, 49, 1, 27, "Input"],
Cell[29875, 1309, 45, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[29957, 1315, 29, 0, 30, "Subsection"],
Cell[29989, 1317, 45, 1, 27, "Input"],
Cell[30037, 1320, 45, 1, 27, "Input"],
Cell[30085, 1323, 45, 1, 27, "Input"],
Cell[30133, 1326, 45, 1, 27, "Input"],
Cell[30181, 1329, 45, 1, 27, "Input"],
Cell[30229, 1332, 50, 1, 27, "Input"],
Cell[30282, 1335, 45, 1, 27, "Input"],
Cell[30330, 1338, 45, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[30412, 1344, 27, 0, 30, "Subsection"],
Cell[30442, 1346, 43, 1, 27, "Input"],
Cell[30488, 1349, 43, 1, 27, "Input"],
Cell[30534, 1352, 43, 1, 27, "Input"],
Cell[30580, 1355, 43, 1, 27, "Input"],
Cell[30626, 1358, 43, 1, 27, "Input"],
Cell[30672, 1361, 43, 1, 27, "Input"],
Cell[30718, 1364, 50, 1, 27, "Input"],
Cell[30771, 1367, 43, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[30851, 1373, 27, 0, 30, "Subsection"],
Cell[30881, 1375, 43, 1, 27, "Input"],
Cell[30927, 1378, 47, 1, 27, "Input"],
Cell[30977, 1381, 43, 1, 27, "Input"],
Cell[31023, 1384, 47, 1, 27, "Input"],
Cell[31073, 1387, 43, 1, 27, "Input"],
Cell[31119, 1390, 45, 1, 27, "Input"],
Cell[31167, 1393, 43, 1, 27, "Input"],
Cell[31213, 1396, 45, 1, 27, "Input"],
Cell[31261, 1399, 43, 1, 27, "Input"],
Cell[31307, 1402, 47, 1, 27, "Input"],
Cell[31357, 1405, 43, 1, 27, "Input"],
Cell[31403, 1408, 45, 1, 27, "Input"],
Cell[31451, 1411, 50, 1, 27, "Input"],
Cell[31504, 1414, 45, 1, 27, "Input"],
Cell[31552, 1417, 43, 1, 27, "Input"],
Cell[31598, 1420, 47, 1, 27, "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{
Cell[31694, 1427, 56, 1, 35, "Subsubtitle"],
Cell[31753, 1430, 263, 8, 122, "Text"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{
Cell[32065, 1444, 31, 0, 53, "Subtitle"],
Cell[32099, 1446, 68, 0, 32, "Text"],

Cell[CellGroupData[{
Cell[32192, 1450, 43, 1, 33, "Subsubtitle"],
Cell[32238, 1453, 47, 1, 27, "Input"],
Cell[32288, 1456, 59, 1, 27, "Input"],
Cell[32350, 1459, 58, 1, 27, "Input"],
Cell[32411, 1462, 63, 1, 27, "Input"],
Cell[32477, 1465, 62, 1, 27, "Input"],
Cell[32542, 1468, 57, 1, 27, "Input"],
Cell[32602, 1471, 155, 3, 43, "Input"],
Cell[32760, 1476, 55, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[32852, 1482, 42, 1, 35, "Subsubtitle"],
Cell[32897, 1485, 48, 1, 27, "Input"],
Cell[32948, 1488, 54, 1, 27, "Input"],
Cell[33005, 1491, 48, 1, 27, "Input"],
Cell[33056, 1494, 40, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[33133, 1500, 42, 1, 35, "Subsubtitle"],
Cell[33178, 1503, 48, 1, 27, "Input"],
Cell[33229, 1506, 48, 1, 27, "Input"],
Cell[33280, 1509, 48, 1, 27, "Input"],
Cell[33331, 1512, 48, 1, 27, "Input"],
Cell[33382, 1515, 40, 1, 27, "Input"],
Cell[33425, 1518, 48, 1, 27, "Input"],
Cell[33476, 1521, 48, 1, 27, "Input"],
Cell[33527, 1524, 48, 1, 27, "Input"],
Cell[33578, 1527, 40, 1, 27, "Input"]
}, Closed]],

Cell[CellGroupData[{
Cell[33655, 1533, 42, 1, 35, "Subsubtitle"],
Cell[33700, 1536, 48, 1, 27, "Input"],
Cell[33751, 1539, 48, 1, 27, "Input"],
Cell[33802, 1542, 48, 1, 27, "Input"],
Cell[33853, 1545, 48, 1, 27, "Input"],
Cell[33904, 1548, 48, 1, 27, "Input"],
Cell[33955, 1551, 54, 1, 27, "Input"],
Cell[34012, 1554, 48, 1, 27, "Input"],
Cell[34063, 1557, 48, 1, 27, "Input"],
Cell[34114, 1560, 40, 1, 27, "Input"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{
Cell[34203, 1567, 42, 0, 53, "Subtitle"],
Cell[34248, 1569, 130, 3, 32, "Text"],
Cell[34381, 1574, 379, 8, 122, "Text"],
Cell[34763, 1584, 385, 7, 68, "Text"],
Cell[35151, 1593, 149, 3, 50, "Text"],
Cell[35303, 1598, 562, 9, 104, "Text"],
Cell[35868, 1609, 293, 6, 68, "Text"],
Cell[36164, 1617, 62, 0, 32, "Text"],
Cell[36229, 1619, 92, 3, 32, "Text"],
Cell[36324, 1624, 110, 2, 27, "Input"],
Cell[36437, 1628, 166, 5, 32, "Text"],
Cell[36606, 1635, 64, 1, 27, "Input"],
Cell[36673, 1638, 59, 1, 27, "Input"],
Cell[36735, 1641, 121, 3, 32, "Text"],
Cell[36859, 1646, 40, 0, 32, "Text"],
Cell[36902, 1648, 51, 1, 27, "Input"],
Cell[36956, 1651, 61, 1, 27, "Input"],
Cell[37020, 1654, 69, 1, 27, "Input"],
Cell[37092, 1657, 59, 1, 27, "Input"],
Cell[37154, 1660, 50, 1, 27, "Input"],
Cell[37207, 1663, 58, 0, 32, "Text"],
Cell[37268, 1665, 94, 3, 32, "Text"],
Cell[37365, 1670, 137, 2, 27, "Input"],
Cell[37505, 1674, 93, 3, 32, "Text"],
Cell[37601, 1679, 44, 1, 27, "Input"],
Cell[37648, 1682, 103, 2, 27, "Input"],
Cell[37754, 1686, 106, 3, 32, "Text"],
Cell[37863, 1691, 39, 1, 27, "Input"],
Cell[37905, 1694, 45, 1, 27, "Input"],
Cell[37953, 1697, 45, 1, 27, "Input"],
Cell[38001, 1700, 91, 3, 32, "Text"],
Cell[38095, 1705, 64, 1, 27, "Input"],
Cell[38162, 1708, 215, 5, 50, "Text"],
Cell[38380, 1715, 64, 1, 27, "Input"],
Cell[38447, 1718, 89, 3, 32, "Text"],
Cell[38539, 1723, 105, 2, 27, "Input"],
Cell[38647, 1727, 128, 3, 32, "Text"],
Cell[38778, 1732, 65, 1, 27, "Input"],
Cell[38846, 1735, 22, 0, 32, "Text"],
Cell[38871, 1737, 107, 2, 27, "Input"],
Cell[38981, 1741, 95, 3, 32, "Text"],
Cell[39079, 1746, 170, 3, 43, "Input"],
Cell[39252, 1751, 75, 0, 32, "Text"],
Cell[39330, 1753, 43, 0, 32, "Text"],
Cell[39376, 1755, 45, 1, 27, "Input"],
Cell[39424, 1758, 38, 0, 32, "Text"],
Cell[39465, 1760, 50, 1, 27, "Input"],
Cell[39518, 1763, 35, 0, 32, "Text"],
Cell[39556, 1765, 43, 1, 27, "Input"],
Cell[39602, 1768, 88, 3, 32, "Text"],
Cell[39693, 1773, 46, 1, 27, "Input"],
Cell[39742, 1776, 33, 0, 32, "Text"],
Cell[39778, 1778, 41, 1, 27, "Input"],
Cell[39822, 1781, 53, 0, 32, "Text"],
Cell[39878, 1783, 48, 1, 27, "Input"],
Cell[39929, 1786, 32, 0, 32, "Text"],
Cell[39964, 1788, 40, 1, 27, "Input"],
Cell[40007, 1791, 34, 0, 32, "Text"],
Cell[40044, 1793, 42, 1, 27, "Input"],
Cell[40089, 1796, 34, 0, 32, "Text"],
Cell[40126, 1798, 42, 1, 27, "Input"],
Cell[40171, 1801, 94, 3, 32, "Text"],
Cell[40268, 1806, 45, 1, 27, "Input"],
Cell[40316, 1809, 59, 0, 32, "Text"],
Cell[40378, 1811, 51, 1, 27, "Input"],
Cell[40432, 1814, 32, 0, 32, "Text"],
Cell[40467, 1816, 40, 1, 27, "Input"],
Cell[40510, 1819, 42, 0, 32, "Text"],
Cell[40555, 1821, 43, 1, 27, "Input"],
Cell[40601, 1824, 53, 0, 32, "Text"],
Cell[40657, 1826, 46, 1, 27, "Input"],
Cell[40706, 1829, 44, 0, 32, "Text"],
Cell[40753, 1831, 46, 1, 27, "Input"],
Cell[40802, 1834, 58, 0, 32, "Text"],
Cell[40863, 1836, 59, 1, 27, "Input"],
Cell[40925, 1839, 32, 0, 32, "Text"],
Cell[40960, 1841, 40, 1, 27, "Input"],
Cell[41003, 1844, 35, 0, 32, "Text"],
Cell[41041, 1846, 47, 1, 27, "Input"],
Cell[41091, 1849, 37, 0, 32, "Text"],
Cell[41131, 1851, 66, 1, 27, "Input"],
Cell[41200, 1854, 35, 0, 32, "Text"],
Cell[41238, 1856, 43, 1, 27, "Input"],
Cell[41284, 1859, 45, 0, 32, "Text"],
Cell[41332, 1861, 206, 4, 50, "Text"],
Cell[41541, 1867, 43, 1, 27, "Input"],
Cell[41587, 1870, 55, 1, 27, "Input"],
Cell[41645, 1873, 43, 1, 27, "Input"],
Cell[41691, 1876, 126, 3, 32, "Text"],
Cell[41820, 1881, 47, 1, 27, "Input"],
Cell[41870, 1884, 50, 1, 27, "Input"],
Cell[41923, 1887, 53, 1, 27, "Input"],
Cell[41979, 1890, 148, 3, 32, "Text"]
}, Closed]],

Cell[CellGroupData[{
Cell[42164, 1898, 35, 0, 53, "Subtitle"],
Cell[42202, 1900, 40, 0, 32, "Text"],
Cell[42245, 1902, 64, 0, 32, "Text"],
Cell[42312, 1904, 46, 1, 27, "Input"],
Cell[42361, 1907, 55, 0, 32, "Text"],
Cell[42419, 1909, 46, 1, 27, "Input"],
Cell[42468, 1912, 242, 5, 68, "Text"],
Cell[42713, 1919, 362, 8, 122, "Text"],
Cell[43078, 1929, 141, 4, 68, "Text"],
Cell[43222, 1935, 71, 4, 68, "Text"]
}, Closed]],

Cell[CellGroupData[{
Cell[43330, 1944, 35, 0, 53, "Subtitle"],
Cell[43368, 1946, 41, 0, 32, "Text"],
Cell[43412, 1948, 72, 0, 32, "Text"],
Cell[43487, 1950, 45, 1, 27, "Input"],
Cell[43535, 1953, 62, 0, 32, "Text"],
Cell[43600, 1955, 89, 3, 32, "Text"],
Cell[43692, 1960, 35, 0, 32, "Text"],
Cell[43730, 1962, 46, 1, 27, "Input"],
Cell[43779, 1965, 37, 0, 32, "Text"],
Cell[43819, 1967, 48, 1, 27, "Input"],
Cell[43870, 1970, 39, 0, 32, "Text"],
Cell[43912, 1972, 50, 1, 27, "Input"],
Cell[43965, 1975, 40, 0, 32, "Text"],
Cell[44008, 1977, 51, 1, 27, "Input"],
Cell[44062, 1980, 363, 8, 122, "Text"],
Cell[44428, 1990, 334, 8, 86, "Text"],
Cell[44765, 2000, 114, 3, 32, "Text"],
Cell[44882, 2005, 135, 7, 122, "Text"]
}, Closed]],

Cell[CellGroupData[{
Cell[45054, 2017, 36, 0, 53, "Subtitle"],
Cell[45093, 2019, 177, 4, 50, "Text"],
Cell[45273, 2025, 52, 0, 32, "Text"],
Cell[45328, 2027, 48, 1, 27, "Input"],
Cell[45379, 2030, 96, 3, 32, "Text"],
Cell[45478, 2035, 83, 4, 68, "Text"],
Cell[45564, 2041, 117, 4, 68, "Text"]
}, Closed]]
}, Open  ]]
}
]
*)



(*******************************************************************
End of Mathematica Notebook file.
*******************************************************************)

